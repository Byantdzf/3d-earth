import{d as t,r as e,a as A,w as n,o as r,n as i,b as s,c as a,e as o,f as l,g as c,h as u,i as h,j as d,t as f,p,k as g,l as m,m as B,u as w,q as v,s as y,v as _,x,y as C,z as b,A as U,B as F,C as Q}from"./index.44fed5de.js";const M=t({__name:"scale-screen",props:{width:{type:[String,Number],default:1920},height:{type:[String,Number],default:1080},fullScreen:{type:Boolean,default:!1},autoScale:{type:[Object,Boolean],default:!0},delay:{type:Number,default:500},boxStyle:{type:Object,default:()=>({})},wrapperStyle:{type:Object,default:()=>({})}},setup(t){const h=t;const d=e({width:0,height:0,originalWidth:0,originalHeight:0,observer:null}),f={overflow:"hidden",backgroundSize:"100% 100%",background:"#000",width:"100vw",height:"100vh"},p={transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"500ms",position:"relative",overflow:"hidden",zIndex:0,transformOrigin:"left top"},g=A(),m=A();n((()=>h.autoScale),(async t=>{t?(_(),C()):(x(),v())}));const B=()=>new Promise((t=>{m.value.scrollLeft=0,m.value.scrollTop=0,i((()=>{var e,A;h.width&&h.height?(d.width=h.width,d.height=h.height):(d.width=null==(e=g.value)?void 0:e.clientWidth,d.height=null==(A=g.value)?void 0:A.clientHeight),d.originalHeight&&d.originalWidth||(d.originalWidth=window.screen.width,d.originalHeight=window.screen.height),t()}))})),w=()=>{d.width&&d.height?(g.value.style.width=`${d.width}px`,g.value.style.height=`${d.height}px`):(g.value.style.width=`${d.originalWidth}px`,g.value.style.height=`${d.originalHeight}px`)},v=()=>{g.value.style.transform="",g.value.style.margin=""},y=()=>{const t=document.body.clientWidth,e=document.body.clientHeight,A=t/+(d.width||d.originalWidth),n=e/+(d.height||d.originalHeight);if(h.fullScreen)return g.value.style.transform=`scale(${A},${n})`,!1;(t=>{if(!h.autoScale)return;const e=g.value.clientWidth,A=g.value.clientHeight,n=document.body.clientWidth,r=document.body.clientHeight;g.value.style.transform=`scale(${t},${t})`;let i=Math.max((n-e*t)/2,0),s=Math.max((r-A*t)/2,0);"object"==typeof h.autoScale&&(!h.autoScale.x&&(i=0),!h.autoScale.y&&(s=0)),g.value.style.margin=`${s}px ${i}px`})(Math.min(A,n))},_=function(t,e){let A;return function(...n){A&&clearTimeout(A),A=setTimeout((()=>{"function"==typeof t&&t.apply(null,n),clearTimeout(A)}),e>0?e:100)}}((async()=>{await B(),w(),y()}),h.delay),x=()=>{window.removeEventListener("resize",_)},C=()=>{window.addEventListener("resize",_)};return r((()=>{i((async()=>{await B(),w(),y(),C()}))})),s((()=>{x()})),(e,A)=>(u(),a("section",{ref_key:"box",ref:m,style:c({...f,...t.boxStyle}),class:"v-screen-box"},[o("div",{ref_key:"screenWrapper",ref:g,style:c({...p,...t.wrapperStyle}),class:"screen-wrapper"},[l(e.$slots,"default")],4)],4))}});var S=function(){return S=Object.assign||function(t){for(var e,A=1,n=arguments.length;A<n;A++)for(var r in e=arguments[A])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},S.apply(this,arguments)},E=function(){function t(t,e,A){var n=this;this.endVal=e,this.options=A,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){n.startTime||(n.startTime=t);var e=t-n.startTime;n.remaining=n.duration-e,n.useEasing?n.countDown?n.frameVal=n.startVal-n.easingFn(e,0,n.startVal-n.endVal,n.duration):n.frameVal=n.easingFn(e,n.startVal,n.endVal-n.startVal,n.duration):n.frameVal=n.startVal+(n.endVal-n.startVal)*(e/n.duration);var A=n.countDown?n.frameVal<n.endVal:n.frameVal>n.endVal;n.frameVal=A?n.endVal:n.frameVal,n.frameVal=Number(n.frameVal.toFixed(n.options.decimalPlaces)),n.printValue(n.frameVal),e<n.duration?n.rAF=requestAnimationFrame(n.count):null!==n.finalEndVal?n.update(n.finalEndVal):n.options.onCompleteCallback&&n.options.onCompleteCallback()},this.formatNumber=function(t){var e,A,r,i,s=t<0?"-":"";e=Math.abs(t).toFixed(n.options.decimalPlaces);var a=(e+="").split(".");if(A=a[0],r=a.length>1?n.options.decimal+a[1]:"",n.options.useGrouping){i="";for(var o=3,l=0,c=0,u=A.length;c<u;++c)n.options.useIndianSeparators&&4===c&&(o=2,l=1),0!==c&&l%o==0&&(i=n.options.separator+i),l++,i=A[u-c-1]+i;A=i}return n.options.numerals&&n.options.numerals.length&&(A=A.replace(/[0-9]/g,(function(t){return n.options.numerals[+t]})),r=r.replace(/[0-9]/g,(function(t){return n.options.numerals[+t]}))),s+n.options.prefix+A+r+n.options.suffix},this.easeOutExpo=function(t,e,A,n){return A*(1-Math.pow(2,-10*t/n))*1024/1023+e},this.options=S(S({},this.defaults),A),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error||(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return n.handleScroll(n)})),window.onscroll=function(){window.onScrollFns.forEach((function(t){return t()}))},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var e=window.innerHeight+window.scrollY,A=t.el.getBoundingClientRect(),n=A.top+window.pageYOffset,r=A.top+A.height+window.pageYOffset;r<e&&r>window.scrollY&&t.paused?(t.paused=!1,setTimeout((function(){return t.start()}),t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):(window.scrollY>r||n>e)&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var A=this.countDown?1:-1;this.endVal=t+A*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),t&&(this.options.onCompleteCallback=t),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e;if(this.el){var A=this.formattingFn(t);(null===(e=this.options.plugin)||void 0===e?void 0:e.render)?this.options.plugin.render(this.el,A):"INPUT"===this.el.tagName?this.el.value=A:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=A:this.el.innerHTML=A}},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();const T={class:"countup-wrap text-center"},I=t({__name:"count-up",props:{endVal:{},startVal:{default:0},duration:{default:2.5},autoplay:{type:Boolean,default:!0},loop:{type:[Boolean,Number,String],default:!1},delay:{default:0},options:{default:void 0}},emits:["init","finished"],setup(t,{expose:e,emit:i}){const c=t;let h=A(),d=A();const f=()=>{if(!h.value)return;const t=Number(c.startVal),e=Number(c.endVal),A=Number(c.duration);d.value=new E(h.value,e,{startVal:t,duration:A,...c.options}),d.value.error||i("init",d.value)},p=t=>{var e;null==(e=d.value)||e.start(t)};n((()=>c.endVal),(t=>{var e;c.autoplay&&(null==(e=d.value)||e.update(t))}));const g=A(!1);let m=0;const B=()=>{m++,p((()=>{"boolean"==typeof c.loop&&c.loop||c.loop>m?v((()=>{var t;null==(t=d.value)||t.reset(),B()}),c.delay):g.value=!0}))};let w;n(g,(t=>{t&&i("finished")})),r((()=>{f(),c.autoplay&&B()})),s((()=>{var t;cancelAnimationFrame(w),null==(t=d.value)||t.reset()}));const v=(t,e=1)=>{let A;w=requestAnimationFrame((function n(r){A||(A=r),r-A<1e3*e?w=requestAnimationFrame(n):t()}))};return e({init:f,restart:()=>{f(),p()}}),(t,e)=>(u(),a("div",T,[l(t.$slots,"prefix"),o("div",{ref_key:"elRef",ref:h,class:"ui-count-up-num"},null,512),l(t.$slots,"suffix")]))}});var L=(t,e)=>{const A=t.__vccOpts||t;for(const[n,r]of e)A[n]=r;return A};const D=t=>(p("data-v-9b826ed2"),t=t(),g(),t),H={class:"user_Overview flex"},P={class:"user_Overview-item text-center"},O={class:"user_Overview_nums allnumV2"},R=D((()=>o("div",{class:"ui-title"},"今日",-1))),N=D((()=>o("div",{class:"ui-subTitle bold"},"演讲总时长",-1))),k={class:"user_Overview-item text-center"},V={class:"user_Overview_nums allnum"},z=D((()=>o("div",{class:"ui-title"},"历史",-1))),K=D((()=>o("div",{class:"ui-subTitle bold"},"演讲总人数",-1))),G={class:"user_Overview-item text-center"},W={class:"user_Overview_nums allnumV2"},X={key:1,class:"ui-count-up-num f-fcc"},j={class:"bold"},Y={class:"font_14",style:{margin:"0 0 -3px 2px"}},J=D((()=>o("div",{class:"ui-title"},"历史",-1))),q=D((()=>o("div",{class:"ui-subTitle bold"},"演讲总时长",-1)));var Z=L(t({__name:"right-top",props:{onlineNum:{type:Number,default:0},totalNum:{type:Number,default:0},historyNum:{type:Number,default:0},isAbbreviate:{type:String,default:""}},setup(t){const e=A(2);return(A,n)=>{const r=I;return u(),a("div",H,[o("div",P,[o("div",O,[h(r,{"end-val":t.totalNum,duration:e.value},null,8,["end-val","duration"])]),R,N]),o("div",k,[o("div",V,[h(r,{"end-val":t.onlineNum,duration:e.value},null,8,["end-val","duration"])]),z,K]),o("div",G,[o("div",W,[t.isAbbreviate?(u(),a("div",X,[o("div",j,f(t.historyNum),1),o("span",Y,f(t.isAbbreviate),1)])):(u(),d(r,{key:0,"end-val":t.historyNum,duration:e.value},null,8,["end-val","duration"]))]),J,q])])}}}),[["__scopeId","data-v-9b826ed2"]]),$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function tt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(A){var n=Object.getOwnPropertyDescriptor(t,A);Object.defineProperty(e,A,n.get?n:{enumerable:!0,get:function(){return t[A]}})})),e}var et=function(){this.__data__=[],this.size=0};var At=function(t,e){return t===e||t!=t&&e!=e},nt=At;var rt=function(t,e){for(var A=t.length;A--;)if(nt(t[A][0],e))return A;return-1},it=rt,st=Array.prototype.splice;var at=function(t){var e=this.__data__,A=it(e,t);return!(A<0)&&(A==e.length-1?e.pop():st.call(e,A,1),--this.size,!0)},ot=rt;var lt=function(t){var e=this.__data__,A=ot(e,t);return A<0?void 0:e[A][1]},ct=rt;var ut=rt;var ht=function(t,e){var A=this.__data__,n=ut(A,t);return n<0?(++this.size,A.push([t,e])):A[n][1]=e,this},dt=et,ft=at,pt=lt,gt=function(t){return ct(this.__data__,t)>-1},mt=ht;function Bt(t){var e=-1,A=null==t?0:t.length;for(this.clear();++e<A;){var n=t[e];this.set(n[0],n[1])}}Bt.prototype.clear=dt,Bt.prototype.delete=ft,Bt.prototype.get=pt,Bt.prototype.has=gt,Bt.prototype.set=mt;var wt=Bt,vt=wt;var yt=function(){this.__data__=new vt,this.size=0};var _t=function(t){var e=this.__data__,A=e.delete(t);return this.size=e.size,A};var xt=function(t){return this.__data__.get(t)};var Ct=function(t){return this.__data__.has(t)},bt="object"==typeof $&&$&&$.Object===Object&&$,Ut=bt,Ft="object"==typeof self&&self&&self.Object===Object&&self,Qt=Ut||Ft||Function("return this")(),Mt=Qt.Symbol,St=Mt,Et=Object.prototype,Tt=Et.hasOwnProperty,It=Et.toString,Lt=St?St.toStringTag:void 0;var Dt=function(t){var e=Tt.call(t,Lt),A=t[Lt];try{t[Lt]=void 0;var n=!0}catch(i){}var r=It.call(t);return n&&(e?t[Lt]=A:delete t[Lt]),r},Ht=Object.prototype.toString;var Pt=Dt,Ot=function(t){return Ht.call(t)},Rt=Mt?Mt.toStringTag:void 0;var Nt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Rt&&Rt in Object(t)?Pt(t):Ot(t)};var kt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Vt=Nt,zt=kt;var Kt,Gt=function(t){if(!zt(t))return!1;var e=Vt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Wt=Qt["__core-js_shared__"],Xt=(Kt=/[^.]+$/.exec(Wt&&Wt.keys&&Wt.keys.IE_PROTO||""))?"Symbol(src)_1."+Kt:"";var jt=function(t){return!!Xt&&Xt in t},Yt=Function.prototype.toString;var Jt=Gt,qt=jt,Zt=kt,$t=function(t){if(null!=t){try{return Yt.call(t)}catch(e){}try{return t+""}catch(e){}}return""},te=/^\[object .+?Constructor\]$/,ee=Function.prototype,Ae=Object.prototype,ne=ee.toString,re=Ae.hasOwnProperty,ie=RegExp("^"+ne.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var se=function(t){return!(!Zt(t)||qt(t))&&(Jt(t)?ie:te).test($t(t))},ae=function(t,e){return null==t?void 0:t[e]};var oe=function(t,e){var A=ae(t,e);return se(A)?A:void 0},le=oe(Qt,"Map"),ce=oe(Object,"create"),ue=ce;var he=function(){this.__data__=ue?ue(null):{},this.size=0};var de=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},fe=ce,pe=Object.prototype.hasOwnProperty;var ge=function(t){var e=this.__data__;if(fe){var A=e[t];return"__lodash_hash_undefined__"===A?void 0:A}return pe.call(e,t)?e[t]:void 0},me=ce,Be=Object.prototype.hasOwnProperty;var we=function(t){var e=this.__data__;return me?void 0!==e[t]:Be.call(e,t)},ve=ce;var ye=function(t,e){var A=this.__data__;return this.size+=this.has(t)?0:1,A[t]=ve&&void 0===e?"__lodash_hash_undefined__":e,this},_e=he,xe=de,Ce=ge,be=we,Ue=ye;function Fe(t){var e=-1,A=null==t?0:t.length;for(this.clear();++e<A;){var n=t[e];this.set(n[0],n[1])}}Fe.prototype.clear=_e,Fe.prototype.delete=xe,Fe.prototype.get=Ce,Fe.prototype.has=be,Fe.prototype.set=Ue;var Qe=Fe,Me=wt,Se=le;var Ee=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Te=function(t,e){var A=t.__data__;return Ee(e)?A["string"==typeof e?"string":"hash"]:A.map},Ie=Te;var Le=Te;var De=Te;var He=Te;var Pe=function(t,e){var A=He(this,t),n=A.size;return A.set(t,e),this.size+=A.size==n?0:1,this},Oe=function(){this.size=0,this.__data__={hash:new Qe,map:new(Se||Me),string:new Qe}},Re=function(t){var e=Ie(this,t).delete(t);return this.size-=e?1:0,e},Ne=function(t){return Le(this,t).get(t)},ke=function(t){return De(this,t).has(t)},Ve=Pe;function ze(t){var e=-1,A=null==t?0:t.length;for(this.clear();++e<A;){var n=t[e];this.set(n[0],n[1])}}ze.prototype.clear=Oe,ze.prototype.delete=Re,ze.prototype.get=Ne,ze.prototype.has=ke,ze.prototype.set=Ve;var Ke=wt,Ge=le,We=ze;var Xe=function(t,e){var A=this.__data__;if(A instanceof Ke){var n=A.__data__;if(!Ge||n.length<199)return n.push([t,e]),this.size=++A.size,this;A=this.__data__=new We(n)}return A.set(t,e),this.size=A.size,this},je=wt,Ye=yt,Je=_t,qe=xt,Ze=Ct,$e=Xe;function tA(t){var e=this.__data__=new je(t);this.size=e.size}tA.prototype.clear=Ye,tA.prototype.delete=Je,tA.prototype.get=qe,tA.prototype.has=Ze,tA.prototype.set=$e;var eA=tA,AA=oe,nA=function(){try{var t=AA(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),rA=nA;var iA=function(t,e,A){"__proto__"==e&&rA?rA(t,e,{configurable:!0,enumerable:!0,value:A,writable:!0}):t[e]=A},sA=iA,aA=At;var oA=function(t,e,A){(void 0!==A&&!aA(t[e],A)||void 0===A&&!(e in t))&&sA(t,e,A)};var lA,cA,uA,hA,dA,fA,pA,gA=function(t){return function(e,A,n){for(var r=-1,i=Object(e),s=n(e),a=s.length;a--;){var o=s[t?a:++r];if(!1===A(i[o],o,i))break}return e}},mA=gA(),BA={exports:{}};lA=BA,uA=Qt,hA=(cA=BA.exports)&&!cA.nodeType&&cA,dA=hA&&lA&&!lA.nodeType&&lA,fA=dA&&dA.exports===hA?uA.Buffer:void 0,pA=fA?fA.allocUnsafe:void 0,lA.exports=function(t,e){if(e)return t.slice();var A=t.length,n=pA?pA(A):new t.constructor(A);return t.copy(n),n};var wA=Qt.Uint8Array;var vA=function(t){var e=new t.constructor(t.byteLength);return new wA(e).set(new wA(t)),e};var yA=function(t,e){var A=e?vA(t.buffer):t.buffer;return new t.constructor(A,t.byteOffset,t.length)};var _A=function(t,e){var A=-1,n=t.length;for(e||(e=Array(n));++A<n;)e[A]=t[A];return e},xA=kt,CA=Object.create,bA=function(){function t(){}return function(e){if(!xA(e))return{};if(CA)return CA(e);t.prototype=e;var A=new t;return t.prototype=void 0,A}}();var UA=function(t,e){return function(A){return t(e(A))}}(Object.getPrototypeOf,Object),FA=Object.prototype;var QA=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||FA)},MA=bA,SA=UA,EA=QA;var TA=function(t){return"function"!=typeof t.constructor||EA(t)?{}:MA(SA(t))};var IA=function(t){return null!=t&&"object"==typeof t},LA=Nt,DA=IA;var HA=function(t){return DA(t)&&"[object Arguments]"==LA(t)},PA=IA,OA=Object.prototype,RA=OA.hasOwnProperty,NA=OA.propertyIsEnumerable,kA=HA(function(){return arguments}())?HA:function(t){return PA(t)&&RA.call(t,"callee")&&!NA.call(t,"callee")},VA=Array.isArray;var zA=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},KA=Gt,GA=zA;var WA=function(t){return null!=t&&GA(t.length)&&!KA(t)},XA=WA,jA=IA;var YA=function(t){return jA(t)&&XA(t)},JA={exports:{}};var qA=function(){return!1};!function(t,e){var A=Qt,n=qA,r=e&&!e.nodeType&&e,i=r&&t&&!t.nodeType&&t,s=i&&i.exports===r?A.Buffer:void 0,a=(s?s.isBuffer:void 0)||n;t.exports=a}(JA,JA.exports);var ZA=Nt,$A=UA,tn=IA,en=Function.prototype,An=Object.prototype,nn=en.toString,rn=An.hasOwnProperty,sn=nn.call(Object);var an=function(t){if(!tn(t)||"[object Object]"!=ZA(t))return!1;var e=$A(t);if(null===e)return!0;var A=rn.call(e,"constructor")&&e.constructor;return"function"==typeof A&&A instanceof A&&nn.call(A)==sn},on=Nt,ln=zA,cn=IA,un={};un["[object Float32Array]"]=un["[object Float64Array]"]=un["[object Int8Array]"]=un["[object Int16Array]"]=un["[object Int32Array]"]=un["[object Uint8Array]"]=un["[object Uint8ClampedArray]"]=un["[object Uint16Array]"]=un["[object Uint32Array]"]=!0,un["[object Arguments]"]=un["[object Array]"]=un["[object ArrayBuffer]"]=un["[object Boolean]"]=un["[object DataView]"]=un["[object Date]"]=un["[object Error]"]=un["[object Function]"]=un["[object Map]"]=un["[object Number]"]=un["[object Object]"]=un["[object RegExp]"]=un["[object Set]"]=un["[object String]"]=un["[object WeakMap]"]=!1;var hn=function(t){return cn(t)&&ln(t.length)&&!!un[on(t)]};var dn=function(t){return function(e){return t(e)}},fn={exports:{}};!function(t,e){var A=bt,n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&A.process,s=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(e){}}();t.exports=s}(fn,fn.exports);var pn=hn,gn=dn,mn=fn.exports,Bn=mn&&mn.isTypedArray,wn=Bn?gn(Bn):pn;var vn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},yn=iA,_n=At,xn=Object.prototype.hasOwnProperty;var Cn=function(t,e,A){var n=t[e];xn.call(t,e)&&_n(n,A)&&(void 0!==A||e in t)||yn(t,e,A)},bn=iA;var Un=function(t,e,A,n){var r=!A;A||(A={});for(var i=-1,s=e.length;++i<s;){var a=e[i],o=n?n(A[a],t[a],a,A,t):void 0;void 0===o&&(o=t[a]),r?bn(A,a,o):Cn(A,a,o)}return A};var Fn=function(t,e){for(var A=-1,n=Array(t);++A<t;)n[A]=e(A);return n},Qn=/^(?:0|[1-9]\d*)$/;var Mn=function(t,e){var A=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==A||"symbol"!=A&&Qn.test(t))&&t>-1&&t%1==0&&t<e},Sn=Fn,En=kA,Tn=VA,In=JA.exports,Ln=Mn,Dn=wn,Hn=Object.prototype.hasOwnProperty;var Pn=function(t,e){var A=Tn(t),n=!A&&En(t),r=!A&&!n&&In(t),i=!A&&!n&&!r&&Dn(t),s=A||n||r||i,a=s?Sn(t.length,String):[],o=a.length;for(var l in t)!e&&!Hn.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ln(l,o))||a.push(l);return a};var On=kt,Rn=QA,Nn=function(t){var e=[];if(null!=t)for(var A in Object(t))e.push(A);return e},kn=Object.prototype.hasOwnProperty;var Vn=Pn,zn=function(t){if(!On(t))return Nn(t);var e=Rn(t),A=[];for(var n in t)("constructor"!=n||!e&&kn.call(t,n))&&A.push(n);return A},Kn=WA;var Gn=function(t){return Kn(t)?Vn(t,!0):zn(t)},Wn=Un,Xn=Gn;var jn=oA,Yn=BA.exports,Jn=yA,qn=_A,Zn=TA,$n=kA,tr=VA,er=YA,Ar=JA.exports,nr=Gt,rr=kt,ir=an,sr=wn,ar=vn,or=function(t){return Wn(t,Xn(t))};var lr=eA,cr=oA,ur=mA,hr=function(t,e,A,n,r,i,s){var a=ar(t,A),o=ar(e,A),l=s.get(o);if(l)jn(t,A,l);else{var c=i?i(a,o,A+"",t,e,s):void 0,u=void 0===c;if(u){var h=tr(o),d=!h&&Ar(o),f=!h&&!d&&sr(o);c=o,h||d||f?tr(a)?c=a:er(a)?c=qn(a):d?(u=!1,c=Yn(o,!0)):f?(u=!1,c=Jn(o,!0)):c=[]:ir(o)||$n(o)?(c=a,$n(a)?c=or(a):rr(a)&&!nr(a)||(c=Zn(o))):u=!1}u&&(s.set(o,c),r(c,o,n,i,s),s.delete(o)),jn(t,A,c)}},dr=kt,fr=Gn,pr=vn;var gr=function t(e,A,n,r,i){e!==A&&ur(A,(function(s,a){if(i||(i=new lr),dr(s))hr(e,A,a,n,t,r,i);else{var o=r?r(pr(e,a),s,a+"",e,A,i):void 0;void 0===o&&(o=s),cr(e,a,o)}}),fr)};var mr=function(t){return t};var Br=function(t,e,A){switch(A.length){case 0:return t.call(e);case 1:return t.call(e,A[0]);case 2:return t.call(e,A[0],A[1]);case 3:return t.call(e,A[0],A[1],A[2])}return t.apply(e,A)},wr=Math.max;var vr=function(t,e,A){return e=wr(void 0===e?t.length-1:e,0),function(){for(var n=arguments,r=-1,i=wr(n.length-e,0),s=Array(i);++r<i;)s[r]=n[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=n[r];return a[e]=A(s),Br(t,this,a)}};var yr=function(t){return function(){return t}},_r=nA,xr=_r?function(t,e){return _r(t,"toString",{configurable:!0,enumerable:!1,value:yr(e),writable:!0})}:mr,Cr=Date.now;var br=function(t){var e=0,A=0;return function(){var n=Cr(),r=16-(n-A);if(A=n,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(xr),Ur=mr,Fr=vr,Qr=br;var Mr=function(t,e){return Qr(Fr(t,e,Ur),t+"")},Sr=At,Er=WA,Tr=Mn,Ir=kt;var Lr=function(t,e,A){if(!Ir(A))return!1;var n=typeof e;return!!("number"==n?Er(A)&&Tr(e,A.length):"string"==n&&e in A)&&Sr(A[e],t)},Dr=Mr,Hr=Lr;var Pr,Or=function(t){return Dr((function(e,A){var n=-1,r=A.length,i=r>1?A[r-1]:void 0,s=r>2?A[2]:void 0;for(i=t.length>3&&"function"==typeof i?(r--,i):void 0,s&&Hr(A[0],A[1],s)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=A[n];a&&t(e,a,n,i)}return e}))},Rr=gr,Nr=Or((function(t,e,A){Rr(t,e,A)}));const kr="undefined"!=typeof window;function Vr(t){var e;const A=w(t);return null!=(e=null==A?void 0:A.$el)?e:A}kr&&(null==(Pr=null==window?void 0:window.navigator)?void 0:Pr.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const zr=kr?window:void 0;kr&&window.document,kr&&window.navigator,kr&&window.location;const Kr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gr="__vueuse_ssr_handlers__";Kr[Gr]=Kr[Gr]||{},Kr[Gr];var Wr,Xr,jr=Object.getOwnPropertySymbols,Yr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable;function qr(t,e,A={}){const r=A,{window:i=zr}=r,s=((t,e)=>{var A={};for(var n in t)Yr.call(t,n)&&e.indexOf(n)<0&&(A[n]=t[n]);if(null!=t&&jr)for(var n of jr(t))e.indexOf(n)<0&&Jr.call(t,n)&&(A[n]=t[n]);return A})(r,["window"]);let a;const o=i&&"ResizeObserver"in i,l=()=>{a&&(a.disconnect(),a=void 0)},c=n((()=>Vr(t)),(t=>{l(),o&&i&&t&&(a=new ResizeObserver(e),a.observe(t,s))}),{immediate:!0,flush:"post"}),u=()=>{l(),c()};var h;return h=u,m()&&B(h),{isSupported:o,stop:u}}(Xr=Wr||(Wr={})).UP="UP",Xr.RIGHT="RIGHT",Xr.DOWN="DOWN",Xr.LEFT="LEFT",Xr.NONE="NONE";const Zr=t=>(p("data-v-7a238e02"),t=t(),g(),t),$r=["width","height"],ti=["fill","stroke","d"],ei=["stroke"],Ai=Zr((()=>o("path",{fill:"transparent",stroke:"{mergedColor[1]}",d:"M 5 20 L 5 10 L 12 3  L 60 3 L 68 10"},null,-1))),ni=["stroke","d"],ri={class:"dv-border-box-content"};var ii=L(t({__name:"border-box-13",props:{color:{type:Array,default:()=>[]},backgroundColor:{type:String,default:"transparent"}},setup(t){const e=t,r=["#6586ec","#2cf7fe"],i=A(null),{width:s,height:c}=function(t,e={width:0,height:0},r={}){const i=A(e.width),s=A(e.height);return qr(t,(([t])=>{i.value=t.contentRect.width,s.value=t.contentRect.height}),r),n((()=>Vr(t)),(t=>{i.value=t?e.width:0,s.value=t?e.height:0})),{width:i,height:s}}(i,{width:0,height:0},{box:"border-box"}),h=v((()=>Nr(r,e.color)));return(e,A)=>(u(),a("div",{ref_key:"domRef",ref:i,class:"dv-border-box-13 dv-border-box"},[(u(),a("svg",{width:w(s),height:w(c),class:"dv-border-svg-container"},[o("path",{fill:t.backgroundColor,stroke:h.value[0],d:`M 5 20 L 5 10 L 12 3  L 60 3 L 68 10 L ${w(s)-20} 10 L ${w(s)-5} 25 L ${w(s)-5} ${w(c)-5} L 20 ${w(c)-5} L 5 ${w(c)-20} L 5 20 `},null,8,ti),o("path",{fill:"transparent","stroke-width":"3","stroke-linecap":"round","stroke-dasharray":"10, 5",stroke:h.value[0],d:"M 16 9 L 61 9"},null,8,ei),Ai,o("path",{fill:"transparent",stroke:h.value[1],d:`M ${w(s)-5} ${w(c)-30} L ${w(s)-5} ${w(c)-5} L ${w(s)-30} ${w(c)-5}`},null,8,ni)],8,$r)),o("div",ri,[l(e.$slots,"default",{},void 0,!0)])],512))}}),[["__scopeId","data-v-7a238e02"]]);const si=t=>(p("data-v-cbd88a78"),t=t(),g(),t),ai={key:0,class:"item_title"},oi=si((()=>o("div",{class:"zuo"},null,-1))),li={class:"title-inner"},ci=si((()=>o("div",{class:"you"},null,-1)));var ui=L(t({__name:"item-wrap",props:{title:{type:String,default:""}},setup:t=>(e,A)=>{const n=ii;return u(),d(n,null,{default:y((()=>[""!==t.title?(u(),a("div",ai,[oi,o("span",li,"   "+f(t.title)+"   ",1),ci])):_("",!0),o("div",{class:x(""!==t.title?"item_title_content":"item_title_content_def")},[l(e.$slots,"default",{},void 0,!0)],2)])),_:3})}}),[["__scopeId","data-v-cbd88a78"]]);const hi=t=>(p("data-v-76b69ea2"),t=t(),g(),t),di={class:"user_Overview flex"},fi={class:"user_Overview-item text-center"},pi={class:"user_Overview_nums allnum"},gi=hi((()=>o("div",{class:"ui-title"},"今日",-1))),mi=hi((()=>o("div",{class:"ui-subTitle bold"},"运动人数",-1))),Bi={class:"user_Overview-item text-center"},wi={class:"user_Overview_nums allnumV2"},vi=hi((()=>o("div",{class:"ui-title"},"今日",-1))),yi=hi((()=>o("div",{class:"ui-subTitle bold"},"运动总步数",-1))),_i={class:"user_Overview-item text-center"},xi={class:"user_Overview_nums allnumV2"},Ci={key:1,class:"ui-count-up-num f-fcc"},bi={class:"bold"},Ui={class:"font_14",style:{margin:"0 0 -11px 2px"}},Fi=hi((()=>o("div",{class:"ui-title"},"历史",-1))),Qi=hi((()=>o("div",{class:"ui-subTitle bold"},"运动总步数",-1)));var Mi=L(t({__name:"left-top",props:{onlineNum:{type:Number,default:0},totalNum:{type:Number,default:0},historyNum:{type:Number,default:0},isAbbreviate:{type:String,default:""}},setup(t){const e=A(2);return(A,n)=>{const r=I;return u(),a("div",di,[o("div",fi,[o("div",pi,[h(r,{"end-val":t.onlineNum,duration:e.value},null,8,["end-val","duration"])]),gi,mi]),o("div",Bi,[o("div",wi,[h(r,{"end-val":t.totalNum,duration:e.value},null,8,["end-val","duration"])]),vi,yi]),o("div",_i,[o("div",xi,[t.isAbbreviate?(u(),a("div",Ci,[o("div",bi,f(t.historyNum),1),o("span",Ui,f(t.isAbbreviate),1)])):(u(),d(r,{key:0,"end-val":t.historyNum,duration:e.value},null,8,["end-val","duration"]))]),Fi,Qi])])}}}),[["__scopeId","data-v-76b69ea2"]]),Si={exports:{}},Ei=Si.exports=function(){var t=1e3,e=6e4,A=36e5,n="millisecond",r="second",i="minute",s="hour",a="day",o="week",l="month",c="quarter",u="year",h="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],A=t%100;return"["+t+(e[(A-20)%10]||e[A]||e[0])+"]"}},m=function(t,e,A){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(A)+t},B={s:m,z:function(t){var e=-t.utcOffset(),A=Math.abs(e),n=Math.floor(A/60),r=A%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(r,2,"0")},m:function t(e,A){if(e.date()<A.date())return-t(A,e);var n=12*(A.year()-e.year())+(A.month()-e.month()),r=e.clone().add(n,l),i=A-r<0,s=e.clone().add(n+(i?-1:1),l);return+(-(n+(A-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:u,w:o,d:a,D:h,h:s,m:i,s:r,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",v={};v[w]=g;var y=function(t){return t instanceof b},_=function t(e,A,n){var r;if(!e)return w;if("string"==typeof e){var i=e.toLowerCase();v[i]&&(r=i),A&&(v[i]=A,r=i);var s=e.split("-");if(!r&&s.length>1)return t(s[0])}else{var a=e.name;v[a]=e,r=a}return!n&&r&&(w=r),r||!n&&w},x=function(t,e){if(y(t))return t.clone();var A="object"==typeof e?e:{};return A.date=t,A.args=arguments,new b(A)},C=B;C.l=_,C.i=y,C.w=function(t,e){return x(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var b=function(){function g(t){this.$L=_(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,A=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var r=n[2]-1||0,i=(n[7]||"0").substring(0,3);return A?new Date(Date.UTC(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],r,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return C},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var A=x(t);return this.startOf(e)<=A&&A<=this.endOf(e)},m.isAfter=function(t,e){return x(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<x(t)},m.$g=function(t,e,A){return C.u(t)?this[e]:this.set(A,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var A=this,n=!!C.u(e)||e,c=C.p(t),d=function(t,e){var r=C.w(A.$u?Date.UTC(A.$y,e,t):new Date(A.$y,e,t),A);return n?r:r.endOf(a)},f=function(t,e){return C.w(A.toDate()[t].apply(A.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),A)},p=this.$W,g=this.$M,m=this.$D,B="set"+(this.$u?"UTC":"");switch(c){case u:return n?d(1,0):d(31,11);case l:return n?d(1,g):d(0,g+1);case o:var w=this.$locale().weekStart||0,v=(p<w?p+7:p)-w;return d(n?m-v:m+(6-v),g);case a:case h:return f(B+"Hours",0);case s:return f(B+"Minutes",1);case i:return f(B+"Seconds",2);case r:return f(B+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var A,o=C.p(t),c="set"+(this.$u?"UTC":""),d=(A={},A[a]=c+"Date",A[h]=c+"Date",A[l]=c+"Month",A[u]=c+"FullYear",A[s]=c+"Hours",A[i]=c+"Minutes",A[r]=c+"Seconds",A[n]=c+"Milliseconds",A)[o],f=o===a?this.$D+(e-this.$W):e;if(o===l||o===u){var p=this.clone().set(h,1);p.$d[d](f),p.init(),this.$d=p.set(h,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[C.p(t)]()},m.add=function(n,c){var h,d=this;n=Number(n);var f=C.p(c),p=function(t){var e=x(d);return C.w(e.date(e.date()+Math.round(t*n)),d)};if(f===l)return this.set(l,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===a)return p(1);if(f===o)return p(7);var g=(h={},h[i]=e,h[s]=A,h[r]=t,h)[f]||1,m=this.$d.getTime()+n*g;return C.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,A=this.$locale();if(!this.isValid())return A.invalidDate||d;var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),i=this.$H,s=this.$m,a=this.$M,o=A.weekdays,l=A.months,c=function(t,A,r,i){return t&&(t[A]||t(e,n))||r[A].slice(0,i)},u=function(t){return C.s(i%12||12,t,"0")},h=A.meridiem||function(t,e,A){var n=t<12?"AM":"PM";return A?n.toLowerCase():n},f={YY:String(this.$y).slice(-2),YYYY:C.s(this.$y,4,"0"),M:a+1,MM:C.s(a+1,2,"0"),MMM:c(A.monthsShort,a,l,3),MMMM:c(l,a),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:c(A.weekdaysMin,this.$W,o,2),ddd:c(A.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:C.s(i,2,"0"),h:u(1),hh:u(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:C.s(s,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:r};return n.replace(p,(function(t,e){return e||f[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,h,d){var f,p=C.p(h),g=x(n),m=(g.utcOffset()-this.utcOffset())*e,B=this-g,w=C.m(this,g);return w=(f={},f[u]=w/12,f[l]=w,f[c]=w/3,f[o]=(B-m)/6048e5,f[a]=(B-m)/864e5,f[s]=B/A,f[i]=B/e,f[r]=B/t,f)[p]||B,d?w:C.a(w)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return v[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var A=this.clone(),n=_(t,e,!0);return n&&(A.$L=n),A},m.clone=function(){return C.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),U=b.prototype;return x.prototype=U,[["$ms",n],["$s",r],["$m",i],["$H",s],["$W",a],["$M",l],["$y",u],["$D",h]].forEach((function(t){U[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),x.extend=function(t,e){return t.$i||(t(e,b,x),t.$i=!0),x},x.locale=_,x.isDayjs=y,x.unix=function(t){return x(1e3*t)},x.en=v[w],x.Ls=v,x.p={},x}();const Ti={class:"ui-header"},Ii={class:"d-flex jc-center title_wrap"},Li=C('<div class="zuojuxing" data-v-5e84481c></div><div class="youjuxing" data-v-5e84481c></div><div class="guang" data-v-5e84481c></div><div class="d-flex jc-center" data-v-5e84481c><div class="title" data-v-5e84481c><span class="title-text" data-v-5e84481c>友福同享（深圳）智能科技有限公司</span></div></div>',4),Di={class:"timers colorF"};var Hi=L(t({__name:"header",setup(t){const e=A({dateDay:"",dateYear:"",dateWeek:"",timing:null}),n=["周日","周一","周二","周三","周四","周五","周六"];return r((()=>{e.value.timing=setInterval((()=>{e.value.dateDay=Ei().format("YYYY-MM-DD hh : mm : ss"),e.value.dateWeek=n[Ei().day()]}),1e3)})),(t,A)=>(u(),a("div",Ti,[o("div",Ii,[Li,o("div",Di,f(e.value.dateYear)+" "+f(e.value.dateWeek)+" "+f(e.value.dateDay)+" ",1)])]))}}),[["__scopeId","data-v-5e84481c"]]),Pi={},Oi={__esModule:!0},Ri=function(){function t(){this.handlers={}}return t.prototype.on=function(t,e){var A=this.handlers[t];return A||(A=[],this.handlers[t]=A),this.handlers[t].push(e),e},t.prototype.off=function(t,e){var A=this.handlers[t];if(e){var n=A.indexOf(e);-1!==n&&this.handlers[t].splice(n,1)}},t.prototype.offAll=function(){this.handlers={}},t.prototype.emit=function(t){for(var e=[],A=1;A<arguments.length;A++)e[A-1]=arguments[A];var n=this.handlers[t];n&&n.forEach((function(t){return t.apply(void 0,e)}))},t}();Oi.EventEmitter=Ri,function(t){t.__esModule=!0,function(e){for(var A in e)t.hasOwnProperty(A)||(t[A]=e[A])}(Oi)}(Pi);class Ni{constructor(t){this.emitter=new Pi.EventEmitter,this.$sizeViewport=t.dom,this.viewport={width:0,height:0},this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize),this.resize()}$on(t,e){this.emitter.on(t,(()=>{e()}))}resize(){this.viewport.width=this.$sizeViewport.offsetWidth,this.viewport.height=this.$sizeViewport.offsetHeight,this.emitter.emit("resize")}}
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ki=0,Vi=1,zi=2,Ki=0,Gi=1,Wi=2,Xi=3;class ji{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const A=this._listeners;void 0===A[t]&&(A[t]=[]),-1===A[t].indexOf(e)&&A[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const A=this._listeners;return void 0!==A[t]&&-1!==A[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const A=this._listeners[t];if(void 0!==A){const t=A.indexOf(e);-1!==t&&A.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const A=e.slice(0);for(let e=0,n=A.length;e<n;e++)A[e].call(this,t);t.target=null}}}const Yi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ji=Math.PI/180,qi=180/Math.PI;function Zi(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,A=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Yi[255&t]+Yi[t>>8&255]+Yi[t>>16&255]+Yi[t>>24&255]+"-"+Yi[255&e]+Yi[e>>8&255]+"-"+Yi[e>>16&15|64]+Yi[e>>24&255]+"-"+Yi[63&A|128]+Yi[A>>8&255]+"-"+Yi[A>>16&255]+Yi[A>>24&255]+Yi[255&n]+Yi[n>>8&255]+Yi[n>>16&255]+Yi[n>>24&255]).toLowerCase()}function $i(t,e,A){return Math.max(e,Math.min(A,t))}function ts(t,e,A){return(1-A)*t+A*e}function es(t){return 0==(t&t-1)&&0!==t}function As(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}class ns{constructor(t=0,e=0){ns.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,A=this.y,n=t.elements;return this.x=n[0]*e+n[3]*A+n[6],this.y=n[1]*e+n[4]*A+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const A=this.length();return this.divideScalar(A||1).multiplyScalar(Math.max(t,Math.min(e,A)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,A=this.y-t.y;return e*e+A*A}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,A){return this.x=t.x+(e.x-t.x)*A,this.y=t.y+(e.y-t.y)*A,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const A=Math.cos(e),n=Math.sin(e),r=this.x-t.x,i=this.y-t.y;return this.x=r*A-i*n+t.x,this.y=r*n+i*A+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class rs{constructor(){rs.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(t,e,A,n,r,i,s,a,o){const l=this.elements;return l[0]=t,l[1]=n,l[2]=s,l[3]=e,l[4]=r,l[5]=a,l[6]=A,l[7]=i,l[8]=o,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,A=t.elements;return e[0]=A[0],e[1]=A[1],e[2]=A[2],e[3]=A[3],e[4]=A[4],e[5]=A[5],e[6]=A[6],e[7]=A[7],e[8]=A[8],this}extractBasis(t,e,A){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),A.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const A=t.elements,n=e.elements,r=this.elements,i=A[0],s=A[3],a=A[6],o=A[1],l=A[4],c=A[7],u=A[2],h=A[5],d=A[8],f=n[0],p=n[3],g=n[6],m=n[1],B=n[4],w=n[7],v=n[2],y=n[5],_=n[8];return r[0]=i*f+s*m+a*v,r[3]=i*p+s*B+a*y,r[6]=i*g+s*w+a*_,r[1]=o*f+l*m+c*v,r[4]=o*p+l*B+c*y,r[7]=o*g+l*w+c*_,r[2]=u*f+h*m+d*v,r[5]=u*p+h*B+d*y,r[8]=u*g+h*w+d*_,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],A=t[1],n=t[2],r=t[3],i=t[4],s=t[5],a=t[6],o=t[7],l=t[8];return e*i*l-e*s*o-A*r*l+A*s*a+n*r*o-n*i*a}invert(){const t=this.elements,e=t[0],A=t[1],n=t[2],r=t[3],i=t[4],s=t[5],a=t[6],o=t[7],l=t[8],c=l*i-s*o,u=s*a-l*r,h=o*r-i*a,d=e*c+A*u+n*h;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const f=1/d;return t[0]=c*f,t[1]=(n*o-l*A)*f,t[2]=(s*A-n*i)*f,t[3]=u*f,t[4]=(l*e-n*a)*f,t[5]=(n*r-s*e)*f,t[6]=h*f,t[7]=(A*a-o*e)*f,t[8]=(i*e-A*r)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,A,n,r,i,s){const a=Math.cos(r),o=Math.sin(r);return this.set(A*a,A*o,-A*(a*i+o*s)+i+t,-n*o,n*a,-n*(-o*i+a*s)+s+e,0,0,1),this}scale(t,e){const A=this.elements;return A[0]*=t,A[3]*=t,A[6]*=t,A[1]*=e,A[4]*=e,A[7]*=e,this}rotate(t){const e=Math.cos(t),A=Math.sin(t),n=this.elements,r=n[0],i=n[3],s=n[6],a=n[1],o=n[4],l=n[7];return n[0]=e*r+A*a,n[3]=e*i+A*o,n[6]=e*s+A*l,n[1]=-A*r+e*a,n[4]=-A*i+e*o,n[7]=-A*s+e*l,this}translate(t,e){const A=this.elements;return A[0]+=t*A[2],A[3]+=t*A[5],A[6]+=t*A[8],A[1]+=e*A[2],A[4]+=e*A[5],A[7]+=e*A[8],this}equals(t){const e=this.elements,A=t.elements;for(let n=0;n<9;n++)if(e[n]!==A[n])return!1;return!0}fromArray(t,e=0){for(let A=0;A<9;A++)this.elements[A]=t[A+e];return this}toArray(t=[],e=0){const A=this.elements;return t[e]=A[0],t[e+1]=A[1],t[e+2]=A[2],t[e+3]=A[3],t[e+4]=A[4],t[e+5]=A[5],t[e+6]=A[6],t[e+7]=A[7],t[e+8]=A[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function is(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function ss(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function as(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function os(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const ls={srgb:{"srgb-linear":as},"srgb-linear":{srgb:os}},cs={legacyMode:!0,get workingColorSpace(){return"srgb-linear"},set workingColorSpace(t){},convert:function(t,e,A){if(this.legacyMode||e===A||!e||!A)return t;if(ls[e]&&void 0!==ls[e][A]){const n=ls[e][A];return t.r=n(t.r),t.g=n(t.g),t.b=n(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},us={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hs={r:0,g:0,b:0},ds={h:0,s:0,l:0},fs={h:0,s:0,l:0};function ps(t,e,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?t+6*(e-t)*A:A<.5?e:A<2/3?t+6*(e-t)*(2/3-A):t}function gs(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class ms{constructor(t,e,A){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===e&&void 0===A?this.set(t):this.setRGB(t,e,A)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e="srgb"){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,cs.toWorkingColorSpace(this,e),this}setRGB(t,e,A,n="srgb-linear"){return this.r=t,this.g=e,this.b=A,cs.toWorkingColorSpace(this,n),this}setHSL(t,e,A,n="srgb-linear"){var r;if(t=(t%(r=1)+r)%r,e=$i(e,0,1),A=$i(A,0,1),0===e)this.r=this.g=this.b=A;else{const n=A<=.5?A*(1+e):A+e-A*e,r=2*A-n;this.r=ps(r,n,t+1/3),this.g=ps(r,n,t),this.b=ps(r,n,t-1/3)}return cs.toWorkingColorSpace(this,n),this}setStyle(t,e="srgb"){function A(t){void 0!==t&&parseFloat(t)}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,cs.toWorkingColorSpace(this,e),A(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,cs.toWorkingColorSpace(this,e),A(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(i)){const n=parseFloat(t[1])/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100;return A(t[4]),this.setHSL(n,r,i,e)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=n[1],A=t.length;if(3===A)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,cs.toWorkingColorSpace(this,e),this;if(6===A)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,cs.toWorkingColorSpace(this,e),this}return t&&t.length>0?this.setColorName(t,e):this}setColorName(t,e="srgb"){const A=us[t.toLowerCase()];return void 0!==A&&this.setHex(A,e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=as(t.r),this.g=as(t.g),this.b=as(t.b),this}copyLinearToSRGB(t){return this.r=os(t.r),this.g=os(t.g),this.b=os(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t="srgb"){return cs.fromWorkingColorSpace(gs(this,hs),t),$i(255*hs.r,0,255)<<16^$i(255*hs.g,0,255)<<8^$i(255*hs.b,0,255)<<0}getHexString(t="srgb"){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e="srgb-linear"){cs.fromWorkingColorSpace(gs(this,hs),e);const A=hs.r,n=hs.g,r=hs.b,i=Math.max(A,n,r),s=Math.min(A,n,r);let a,o;const l=(s+i)/2;if(s===i)a=0,o=0;else{const t=i-s;switch(o=l<=.5?t/(i+s):t/(2-i-s),i){case A:a=(n-r)/t+(n<r?6:0);break;case n:a=(r-A)/t+2;break;case r:a=(A-n)/t+4}a/=6}return t.h=a,t.s=o,t.l=l,t}getRGB(t,e="srgb-linear"){return cs.fromWorkingColorSpace(gs(this,hs),e),t.r=hs.r,t.g=hs.g,t.b=hs.b,t}getStyle(t="srgb"){return cs.fromWorkingColorSpace(gs(this,hs),t),"srgb"!==t?`color(${t} ${hs.r} ${hs.g} ${hs.b})`:`rgb(${255*hs.r|0},${255*hs.g|0},${255*hs.b|0})`}offsetHSL(t,e,A){return this.getHSL(ds),ds.h+=t,ds.s+=e,ds.l+=A,this.setHSL(ds.h,ds.s,ds.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,A){return this.r=t.r+(e.r-t.r)*A,this.g=t.g+(e.g-t.g)*A,this.b=t.b+(e.b-t.b)*A,this}lerpHSL(t,e){this.getHSL(ds),t.getHSL(fs);const A=ts(ds.h,fs.h,e),n=ts(ds.s,fs.s,e),r=ts(ds.l,fs.l,e);return this.setHSL(A,n,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let Bs;ms.NAMES=us;class ws{static getDataURL(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Bs&&(Bs=ss("canvas")),Bs.width=t.width,Bs.height=t.height;const A=Bs.getContext("2d");t instanceof ImageData?A.putImageData(t,0,0):A.drawImage(t,0,0,t.width,t.height),e=Bs}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=ss("canvas");e.width=t.width,e.height=t.height;const A=e.getContext("2d");A.drawImage(t,0,0,t.width,t.height);const n=A.getImageData(0,0,t.width,t.height),r=n.data;for(let t=0;t<r.length;t++)r[t]=255*as(r[t]/255);return A.putImageData(n,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*as(e[t]/255)):e[t]=as(e[t]);return{data:e,width:t.width,height:t.height}}return t}}class vs{constructor(t=null){this.isSource=!0,this.uuid=Zi(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const A={uuid:this.uuid,url:""},n=this.data;if(null!==n){let t;if(Array.isArray(n)){t=[];for(let e=0,A=n.length;e<A;e++)n[e].isDataTexture?t.push(ys(n[e].image)):t.push(ys(n[e]))}else t=ys(n);A.url=t}return e||(t.images[this.uuid]=A),A}}function ys(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?ws.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:{}}let _s=0;class xs extends ji{constructor(t=xs.DEFAULT_IMAGE,e=xs.DEFAULT_MAPPING,A=1001,n=1001,r=1006,i=1008,s=1023,a=1009,o=1,l=3e3){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_s++}),this.uuid=Zi(),this.name="",this.source=new vs(t),this.mipmaps=[],this.mapping=e,this.wrapS=A,this.wrapT=n,this.magFilter=r,this.minFilter=i,this.anisotropy=o,this.format=s,this.internalFormat=null,this.type=a,this.offset=new ns(0,0),this.repeat=new ns(1,1),this.center=new ns(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new rs,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const A={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(A.userData=this.userData),e||(t.textures[this.uuid]=A),A}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}xs.DEFAULT_IMAGE=null,xs.DEFAULT_MAPPING=300;class Cs{constructor(t=0,e=0,A=0,n=1){Cs.prototype.isVector4=!0,this.x=t,this.y=e,this.z=A,this.w=n}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,A,n){return this.x=t,this.y=e,this.z=A,this.w=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,A=this.y,n=this.z,r=this.w,i=t.elements;return this.x=i[0]*e+i[4]*A+i[8]*n+i[12]*r,this.y=i[1]*e+i[5]*A+i[9]*n+i[13]*r,this.z=i[2]*e+i[6]*A+i[10]*n+i[14]*r,this.w=i[3]*e+i[7]*A+i[11]*n+i[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,A,n,r;const i=.01,s=.1,a=t.elements,o=a[0],l=a[4],c=a[8],u=a[1],h=a[5],d=a[9],f=a[2],p=a[6],g=a[10];if(Math.abs(l-u)<i&&Math.abs(c-f)<i&&Math.abs(d-p)<i){if(Math.abs(l+u)<s&&Math.abs(c+f)<s&&Math.abs(d+p)<s&&Math.abs(o+h+g-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(o+1)/2,a=(h+1)/2,m=(g+1)/2,B=(l+u)/4,w=(c+f)/4,v=(d+p)/4;return t>a&&t>m?t<i?(A=0,n=.707106781,r=.707106781):(A=Math.sqrt(t),n=B/A,r=w/A):a>m?a<i?(A=.707106781,n=0,r=.707106781):(n=Math.sqrt(a),A=B/n,r=v/n):m<i?(A=.707106781,n=.707106781,r=0):(r=Math.sqrt(m),A=w/r,n=v/r),this.set(A,n,r,e),this}let m=Math.sqrt((p-d)*(p-d)+(c-f)*(c-f)+(u-l)*(u-l));return Math.abs(m)<.001&&(m=1),this.x=(p-d)/m,this.y=(c-f)/m,this.z=(u-l)/m,this.w=Math.acos((o+h+g-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const A=this.length();return this.divideScalar(A||1).multiplyScalar(Math.max(t,Math.min(e,A)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,A){return this.x=t.x+(e.x-t.x)*A,this.y=t.y+(e.y-t.y)*A,this.z=t.z+(e.z-t.z)*A,this.w=t.w+(e.w-t.w)*A,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class bs extends ji{constructor(t,e,A={}){super(),this.isWebGLRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Cs(0,0,t,e),this.scissorTest=!1,this.viewport=new Cs(0,0,t,e);const n={width:t,height:e,depth:1};this.texture=new xs(n,A.mapping,A.wrapS,A.wrapT,A.magFilter,A.minFilter,A.format,A.type,A.anisotropy,A.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==A.generateMipmaps&&A.generateMipmaps,this.texture.internalFormat=void 0!==A.internalFormat?A.internalFormat:null,this.texture.minFilter=void 0!==A.minFilter?A.minFilter:1006,this.depthBuffer=void 0===A.depthBuffer||A.depthBuffer,this.stencilBuffer=void 0!==A.stencilBuffer&&A.stencilBuffer,this.depthTexture=void 0!==A.depthTexture?A.depthTexture:null,this.samples=void 0!==A.samples?A.samples:0}setSize(t,e,A=1){this.width===t&&this.height===e&&this.depth===A||(this.width=t,this.height=e,this.depth=A,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=A,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new vs(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Us extends xs{constructor(t=null,e=1,A=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:A,depth:n},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fs extends xs{constructor(t=null,e=1,A=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:A,depth:n},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Qs{constructor(t=0,e=0,A=0,n=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=A,this._w=n}static slerpFlat(t,e,A,n,r,i,s){let a=A[n+0],o=A[n+1],l=A[n+2],c=A[n+3];const u=r[i+0],h=r[i+1],d=r[i+2],f=r[i+3];if(0===s)return t[e+0]=a,t[e+1]=o,t[e+2]=l,void(t[e+3]=c);if(1===s)return t[e+0]=u,t[e+1]=h,t[e+2]=d,void(t[e+3]=f);if(c!==f||a!==u||o!==h||l!==d){let t=1-s;const e=a*u+o*h+l*d+c*f,A=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const r=Math.sqrt(n),i=Math.atan2(r,e*A);t=Math.sin(t*i)/r,s=Math.sin(s*i)/r}const r=s*A;if(a=a*t+u*r,o=o*t+h*r,l=l*t+d*r,c=c*t+f*r,t===1-s){const t=1/Math.sqrt(a*a+o*o+l*l+c*c);a*=t,o*=t,l*=t,c*=t}}t[e]=a,t[e+1]=o,t[e+2]=l,t[e+3]=c}static multiplyQuaternionsFlat(t,e,A,n,r,i){const s=A[n],a=A[n+1],o=A[n+2],l=A[n+3],c=r[i],u=r[i+1],h=r[i+2],d=r[i+3];return t[e]=s*d+l*c+a*h-o*u,t[e+1]=a*d+l*u+o*c-s*h,t[e+2]=o*d+l*h+s*u-a*c,t[e+3]=l*d-s*c-a*u-o*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,A,n){return this._x=t,this._y=e,this._z=A,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const A=t._x,n=t._y,r=t._z,i=t._order,s=Math.cos,a=Math.sin,o=s(A/2),l=s(n/2),c=s(r/2),u=a(A/2),h=a(n/2),d=a(r/2);switch(i){case"XYZ":this._x=u*l*c+o*h*d,this._y=o*h*c-u*l*d,this._z=o*l*d+u*h*c,this._w=o*l*c-u*h*d;break;case"YXZ":this._x=u*l*c+o*h*d,this._y=o*h*c-u*l*d,this._z=o*l*d-u*h*c,this._w=o*l*c+u*h*d;break;case"ZXY":this._x=u*l*c-o*h*d,this._y=o*h*c+u*l*d,this._z=o*l*d+u*h*c,this._w=o*l*c-u*h*d;break;case"ZYX":this._x=u*l*c-o*h*d,this._y=o*h*c+u*l*d,this._z=o*l*d-u*h*c,this._w=o*l*c+u*h*d;break;case"YZX":this._x=u*l*c+o*h*d,this._y=o*h*c+u*l*d,this._z=o*l*d-u*h*c,this._w=o*l*c-u*h*d;break;case"XZY":this._x=u*l*c-o*h*d,this._y=o*h*c-u*l*d,this._z=o*l*d+u*h*c,this._w=o*l*c+u*h*d}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const A=e/2,n=Math.sin(A);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(A),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,A=e[0],n=e[4],r=e[8],i=e[1],s=e[5],a=e[9],o=e[2],l=e[6],c=e[10],u=A+s+c;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(l-a)*t,this._y=(r-o)*t,this._z=(i-n)*t}else if(A>s&&A>c){const t=2*Math.sqrt(1+A-s-c);this._w=(l-a)/t,this._x=.25*t,this._y=(n+i)/t,this._z=(r+o)/t}else if(s>c){const t=2*Math.sqrt(1+s-A-c);this._w=(r-o)/t,this._x=(n+i)/t,this._y=.25*t,this._z=(a+l)/t}else{const t=2*Math.sqrt(1+c-A-s);this._w=(i-n)/t,this._x=(r+o)/t,this._y=(a+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let A=t.dot(e)+1;return A<Number.EPSILON?(A=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=A):(this._x=0,this._y=-t.z,this._z=t.y,this._w=A)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=A),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs($i(this.dot(t),-1,1)))}rotateTowards(t,e){const A=this.angleTo(t);if(0===A)return this;const n=Math.min(1,e/A);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const A=t._x,n=t._y,r=t._z,i=t._w,s=e._x,a=e._y,o=e._z,l=e._w;return this._x=A*l+i*s+n*o-r*a,this._y=n*l+i*a+r*s-A*o,this._z=r*l+i*o+A*a-n*s,this._w=i*l-A*s-n*a-r*o,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const A=this._x,n=this._y,r=this._z,i=this._w;let s=i*t._w+A*t._x+n*t._y+r*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=i,this._x=A,this._y=n,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this._w=t*i+e*this._w,this._x=t*A+e*this._x,this._y=t*n+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const o=Math.sqrt(a),l=Math.atan2(o,s),c=Math.sin((1-e)*l)/o,u=Math.sin(e*l)/o;return this._w=i*c+this._w*u,this._x=A*c+this._x*u,this._y=n*c+this._y*u,this._z=r*c+this._z*u,this._onChangeCallback(),this}slerpQuaternions(t,e,A){return this.copy(t).slerp(e,A)}random(){const t=Math.random(),e=Math.sqrt(1-t),A=Math.sqrt(t),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(n),A*Math.sin(r),A*Math.cos(r),e*Math.sin(n))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ms{constructor(t=0,e=0,A=0){Ms.prototype.isVector3=!0,this.x=t,this.y=e,this.z=A}set(t,e,A){return void 0===A&&(A=this.z),this.x=t,this.y=e,this.z=A,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(Es.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(Es.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,A=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*A+r[6]*n,this.y=r[1]*e+r[4]*A+r[7]*n,this.z=r[2]*e+r[5]*A+r[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,A=this.y,n=this.z,r=t.elements,i=1/(r[3]*e+r[7]*A+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*A+r[8]*n+r[12])*i,this.y=(r[1]*e+r[5]*A+r[9]*n+r[13])*i,this.z=(r[2]*e+r[6]*A+r[10]*n+r[14])*i,this}applyQuaternion(t){const e=this.x,A=this.y,n=this.z,r=t.x,i=t.y,s=t.z,a=t.w,o=a*e+i*n-s*A,l=a*A+s*e-r*n,c=a*n+r*A-i*e,u=-r*e-i*A-s*n;return this.x=o*a+u*-r+l*-s-c*-i,this.y=l*a+u*-i+c*-r-o*-s,this.z=c*a+u*-s+o*-i-l*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,A=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*A+r[8]*n,this.y=r[1]*e+r[5]*A+r[9]*n,this.z=r[2]*e+r[6]*A+r[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const A=this.length();return this.divideScalar(A||1).multiplyScalar(Math.max(t,Math.min(e,A)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,A){return this.x=t.x+(e.x-t.x)*A,this.y=t.y+(e.y-t.y)*A,this.z=t.z+(e.z-t.z)*A,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const A=t.x,n=t.y,r=t.z,i=e.x,s=e.y,a=e.z;return this.x=n*a-r*s,this.y=r*i-A*a,this.z=A*s-n*i,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const A=t.dot(this)/e;return this.copy(t).multiplyScalar(A)}projectOnPlane(t){return Ss.copy(this).projectOnVector(t),this.sub(Ss)}reflect(t){return this.sub(Ss.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const A=this.dot(t)/e;return Math.acos($i(A,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,A=this.y-t.y,n=this.z-t.z;return e*e+A*A+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,A){const n=Math.sin(e)*t;return this.x=n*Math.sin(A),this.y=Math.cos(e)*t,this.z=n*Math.cos(A),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,A){return this.x=t*Math.sin(e),this.y=A,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),A=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=A,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,A=Math.sqrt(1-t**2);return this.x=A*Math.cos(e),this.y=A*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ss=new Ms,Es=new Qs;class Ts{constructor(t=new Ms(Infinity,Infinity,Infinity),e=new Ms(-Infinity,-Infinity,-Infinity)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=Infinity,A=Infinity,n=Infinity,r=-Infinity,i=-Infinity,s=-Infinity;for(let a=0,o=t.length;a<o;a+=3){const o=t[a],l=t[a+1],c=t[a+2];o<e&&(e=o),l<A&&(A=l),c<n&&(n=c),o>r&&(r=o),l>i&&(i=l),c>s&&(s=c)}return this.min.set(e,A,n),this.max.set(r,i,s),this}setFromBufferAttribute(t){let e=Infinity,A=Infinity,n=Infinity,r=-Infinity,i=-Infinity,s=-Infinity;for(let a=0,o=t.count;a<o;a++){const o=t.getX(a),l=t.getY(a),c=t.getZ(a);o<e&&(e=o),l<A&&(A=l),c<n&&(n=c),o>r&&(r=o),l>i&&(i=l),c>s&&(s=c)}return this.min.set(e,A,n),this.max.set(r,i,s),this}setFromPoints(t){this.makeEmpty();for(let e=0,A=t.length;e<A;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const A=Ls.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(A),this.max.copy(t).add(A),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const A=t.geometry;if(void 0!==A)if(e&&null!=A.attributes&&void 0!==A.attributes.position){const e=A.attributes.position;for(let A=0,n=e.count;A<n;A++)Ls.fromBufferAttribute(e,A).applyMatrix4(t.matrixWorld),this.expandByPoint(Ls)}else null===A.boundingBox&&A.computeBoundingBox(),Ds.copy(A.boundingBox),Ds.applyMatrix4(t.matrixWorld),this.union(Ds);const n=t.children;for(let r=0,i=n.length;r<i;r++)this.expandByObject(n[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ls),Ls.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,A;return t.normal.x>0?(e=t.normal.x*this.min.x,A=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,A=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,A+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,A+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,A+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,A+=t.normal.z*this.min.z),e<=-t.constant&&A>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Vs),zs.subVectors(this.max,Vs),Hs.subVectors(t.a,Vs),Ps.subVectors(t.b,Vs),Os.subVectors(t.c,Vs),Rs.subVectors(Ps,Hs),Ns.subVectors(Os,Ps),ks.subVectors(Hs,Os);let e=[0,-Rs.z,Rs.y,0,-Ns.z,Ns.y,0,-ks.z,ks.y,Rs.z,0,-Rs.x,Ns.z,0,-Ns.x,ks.z,0,-ks.x,-Rs.y,Rs.x,0,-Ns.y,Ns.x,0,-ks.y,ks.x,0];return!!Ws(e,Hs,Ps,Os,zs)&&(e=[1,0,0,0,1,0,0,0,1],!!Ws(e,Hs,Ps,Os,zs)&&(Ks.crossVectors(Rs,Ns),e=[Ks.x,Ks.y,Ks.z],Ws(e,Hs,Ps,Os,zs)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Ls.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Ls).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Is[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Is[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Is[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Is[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Is[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Is[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Is[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Is[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Is)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const Is=[new Ms,new Ms,new Ms,new Ms,new Ms,new Ms,new Ms,new Ms],Ls=new Ms,Ds=new Ts,Hs=new Ms,Ps=new Ms,Os=new Ms,Rs=new Ms,Ns=new Ms,ks=new Ms,Vs=new Ms,zs=new Ms,Ks=new Ms,Gs=new Ms;function Ws(t,e,A,n,r){for(let i=0,s=t.length-3;i<=s;i+=3){Gs.fromArray(t,i);const s=r.x*Math.abs(Gs.x)+r.y*Math.abs(Gs.y)+r.z*Math.abs(Gs.z),a=e.dot(Gs),o=A.dot(Gs),l=n.dot(Gs);if(Math.max(-Math.max(a,o,l),Math.min(a,o,l))>s)return!1}return!0}const Xs=new Ts,js=new Ms,Ys=new Ms,Js=new Ms;class qs{constructor(t=new Ms,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const A=this.center;void 0!==e?A.copy(e):Xs.setFromPoints(t).getCenter(A);let n=0;for(let r=0,i=t.length;r<i;r++)n=Math.max(n,A.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const A=this.center.distanceToSquared(t);return e.copy(t),A>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Js.subVectors(t,this.center);const e=Js.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),A=.5*(t-this.radius);this.center.add(Js.multiplyScalar(A/t)),this.radius+=A}return this}union(t){return!0===this.center.equals(t.center)?Ys.set(0,0,1).multiplyScalar(t.radius):Ys.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(js.copy(t.center).add(Ys)),this.expandByPoint(js.copy(t.center).sub(Ys)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Zs=new Ms,$s=new Ms,ta=new Ms,ea=new Ms,Aa=new Ms,na=new Ms,ra=new Ms;class ia{constructor(t=new Ms,e=new Ms(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Zs)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const A=e.dot(this.direction);return A<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(A).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Zs.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Zs.copy(this.direction).multiplyScalar(e).add(this.origin),Zs.distanceToSquared(t))}distanceSqToSegment(t,e,A,n){$s.copy(t).add(e).multiplyScalar(.5),ta.copy(e).sub(t).normalize(),ea.copy(this.origin).sub($s);const r=.5*t.distanceTo(e),i=-this.direction.dot(ta),s=ea.dot(this.direction),a=-ea.dot(ta),o=ea.lengthSq(),l=Math.abs(1-i*i);let c,u,h,d;if(l>0)if(c=i*a-s,u=i*s-a,d=r*l,c>=0)if(u>=-d)if(u<=d){const t=1/l;c*=t,u*=t,h=c*(c+i*u+2*s)+u*(i*c+u+2*a)+o}else u=r,c=Math.max(0,-(i*u+s)),h=-c*c+u*(u+2*a)+o;else u=-r,c=Math.max(0,-(i*u+s)),h=-c*c+u*(u+2*a)+o;else u<=-d?(c=Math.max(0,-(-i*r+s)),u=c>0?-r:Math.min(Math.max(-r,-a),r),h=-c*c+u*(u+2*a)+o):u<=d?(c=0,u=Math.min(Math.max(-r,-a),r),h=u*(u+2*a)+o):(c=Math.max(0,-(i*r+s)),u=c>0?r:Math.min(Math.max(-r,-a),r),h=-c*c+u*(u+2*a)+o);else u=i>0?-r:r,c=Math.max(0,-(i*u+s)),h=-c*c+u*(u+2*a)+o;return A&&A.copy(this.direction).multiplyScalar(c).add(this.origin),n&&n.copy(ta).multiplyScalar(u).add($s),h}intersectSphere(t,e){Zs.subVectors(t.center,this.origin);const A=Zs.dot(this.direction),n=Zs.dot(Zs)-A*A,r=t.radius*t.radius;if(n>r)return null;const i=Math.sqrt(r-n),s=A-i,a=A+i;return s<0&&a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const A=-(this.origin.dot(t.normal)+t.constant)/e;return A>=0?A:null}intersectPlane(t,e){const A=this.distanceToPlane(t);return null===A?null:this.at(A,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let A,n,r,i,s,a;const o=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,u=this.origin;return o>=0?(A=(t.min.x-u.x)*o,n=(t.max.x-u.x)*o):(A=(t.max.x-u.x)*o,n=(t.min.x-u.x)*o),l>=0?(r=(t.min.y-u.y)*l,i=(t.max.y-u.y)*l):(r=(t.max.y-u.y)*l,i=(t.min.y-u.y)*l),A>i||r>n?null:((r>A||A!=A)&&(A=r),(i<n||n!=n)&&(n=i),c>=0?(s=(t.min.z-u.z)*c,a=(t.max.z-u.z)*c):(s=(t.max.z-u.z)*c,a=(t.min.z-u.z)*c),A>a||s>n?null:((s>A||A!=A)&&(A=s),(a<n||n!=n)&&(n=a),n<0?null:this.at(A>=0?A:n,e)))}intersectsBox(t){return null!==this.intersectBox(t,Zs)}intersectTriangle(t,e,A,n,r){Aa.subVectors(e,t),na.subVectors(A,t),ra.crossVectors(Aa,na);let i,s=this.direction.dot(ra);if(s>0){if(n)return null;i=1}else{if(!(s<0))return null;i=-1,s=-s}ea.subVectors(this.origin,t);const a=i*this.direction.dot(na.crossVectors(ea,na));if(a<0)return null;const o=i*this.direction.dot(Aa.cross(ea));if(o<0)return null;if(a+o>s)return null;const l=-i*ea.dot(ra);return l<0?null:this.at(l/s,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class sa{constructor(){sa.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(t,e,A,n,r,i,s,a,o,l,c,u,h,d,f,p){const g=this.elements;return g[0]=t,g[4]=e,g[8]=A,g[12]=n,g[1]=r,g[5]=i,g[9]=s,g[13]=a,g[2]=o,g[6]=l,g[10]=c,g[14]=u,g[3]=h,g[7]=d,g[11]=f,g[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new sa).fromArray(this.elements)}copy(t){const e=this.elements,A=t.elements;return e[0]=A[0],e[1]=A[1],e[2]=A[2],e[3]=A[3],e[4]=A[4],e[5]=A[5],e[6]=A[6],e[7]=A[7],e[8]=A[8],e[9]=A[9],e[10]=A[10],e[11]=A[11],e[12]=A[12],e[13]=A[13],e[14]=A[14],e[15]=A[15],this}copyPosition(t){const e=this.elements,A=t.elements;return e[12]=A[12],e[13]=A[13],e[14]=A[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,A){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),A.setFromMatrixColumn(this,2),this}makeBasis(t,e,A){return this.set(t.x,e.x,A.x,0,t.y,e.y,A.y,0,t.z,e.z,A.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,A=t.elements,n=1/aa.setFromMatrixColumn(t,0).length(),r=1/aa.setFromMatrixColumn(t,1).length(),i=1/aa.setFromMatrixColumn(t,2).length();return e[0]=A[0]*n,e[1]=A[1]*n,e[2]=A[2]*n,e[3]=0,e[4]=A[4]*r,e[5]=A[5]*r,e[6]=A[6]*r,e[7]=0,e[8]=A[8]*i,e[9]=A[9]*i,e[10]=A[10]*i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,A=t.x,n=t.y,r=t.z,i=Math.cos(A),s=Math.sin(A),a=Math.cos(n),o=Math.sin(n),l=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){const t=i*l,A=i*c,n=s*l,r=s*c;e[0]=a*l,e[4]=-a*c,e[8]=o,e[1]=A+n*o,e[5]=t-r*o,e[9]=-s*a,e[2]=r-t*o,e[6]=n+A*o,e[10]=i*a}else if("YXZ"===t.order){const t=a*l,A=a*c,n=o*l,r=o*c;e[0]=t+r*s,e[4]=n*s-A,e[8]=i*o,e[1]=i*c,e[5]=i*l,e[9]=-s,e[2]=A*s-n,e[6]=r+t*s,e[10]=i*a}else if("ZXY"===t.order){const t=a*l,A=a*c,n=o*l,r=o*c;e[0]=t-r*s,e[4]=-i*c,e[8]=n+A*s,e[1]=A+n*s,e[5]=i*l,e[9]=r-t*s,e[2]=-i*o,e[6]=s,e[10]=i*a}else if("ZYX"===t.order){const t=i*l,A=i*c,n=s*l,r=s*c;e[0]=a*l,e[4]=n*o-A,e[8]=t*o+r,e[1]=a*c,e[5]=r*o+t,e[9]=A*o-n,e[2]=-o,e[6]=s*a,e[10]=i*a}else if("YZX"===t.order){const t=i*a,A=i*o,n=s*a,r=s*o;e[0]=a*l,e[4]=r-t*c,e[8]=n*c+A,e[1]=c,e[5]=i*l,e[9]=-s*l,e[2]=-o*l,e[6]=A*c+n,e[10]=t-r*c}else if("XZY"===t.order){const t=i*a,A=i*o,n=s*a,r=s*o;e[0]=a*l,e[4]=-c,e[8]=o*l,e[1]=t*c+r,e[5]=i*l,e[9]=A*c-n,e[2]=n*c-A,e[6]=s*l,e[10]=r*c+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(la,t,ca)}lookAt(t,e,A){const n=this.elements;return da.subVectors(t,e),0===da.lengthSq()&&(da.z=1),da.normalize(),ua.crossVectors(A,da),0===ua.lengthSq()&&(1===Math.abs(A.z)?da.x+=1e-4:da.z+=1e-4,da.normalize(),ua.crossVectors(A,da)),ua.normalize(),ha.crossVectors(da,ua),n[0]=ua.x,n[4]=ha.x,n[8]=da.x,n[1]=ua.y,n[5]=ha.y,n[9]=da.y,n[2]=ua.z,n[6]=ha.z,n[10]=da.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const A=t.elements,n=e.elements,r=this.elements,i=A[0],s=A[4],a=A[8],o=A[12],l=A[1],c=A[5],u=A[9],h=A[13],d=A[2],f=A[6],p=A[10],g=A[14],m=A[3],B=A[7],w=A[11],v=A[15],y=n[0],_=n[4],x=n[8],C=n[12],b=n[1],U=n[5],F=n[9],Q=n[13],M=n[2],S=n[6],E=n[10],T=n[14],I=n[3],L=n[7],D=n[11],H=n[15];return r[0]=i*y+s*b+a*M+o*I,r[4]=i*_+s*U+a*S+o*L,r[8]=i*x+s*F+a*E+o*D,r[12]=i*C+s*Q+a*T+o*H,r[1]=l*y+c*b+u*M+h*I,r[5]=l*_+c*U+u*S+h*L,r[9]=l*x+c*F+u*E+h*D,r[13]=l*C+c*Q+u*T+h*H,r[2]=d*y+f*b+p*M+g*I,r[6]=d*_+f*U+p*S+g*L,r[10]=d*x+f*F+p*E+g*D,r[14]=d*C+f*Q+p*T+g*H,r[3]=m*y+B*b+w*M+v*I,r[7]=m*_+B*U+w*S+v*L,r[11]=m*x+B*F+w*E+v*D,r[15]=m*C+B*Q+w*T+v*H,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],A=t[4],n=t[8],r=t[12],i=t[1],s=t[5],a=t[9],o=t[13],l=t[2],c=t[6],u=t[10],h=t[14];return t[3]*(+r*a*c-n*o*c-r*s*u+A*o*u+n*s*h-A*a*h)+t[7]*(+e*a*h-e*o*u+r*i*u-n*i*h+n*o*l-r*a*l)+t[11]*(+e*o*c-e*s*h-r*i*c+A*i*h+r*s*l-A*o*l)+t[15]*(-n*s*l-e*a*c+e*s*u+n*i*c-A*i*u+A*a*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,A){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=A),this}invert(){const t=this.elements,e=t[0],A=t[1],n=t[2],r=t[3],i=t[4],s=t[5],a=t[6],o=t[7],l=t[8],c=t[9],u=t[10],h=t[11],d=t[12],f=t[13],p=t[14],g=t[15],m=c*p*o-f*u*o+f*a*h-s*p*h-c*a*g+s*u*g,B=d*u*o-l*p*o-d*a*h+i*p*h+l*a*g-i*u*g,w=l*f*o-d*c*o+d*s*h-i*f*h-l*s*g+i*c*g,v=d*c*a-l*f*a-d*s*u+i*f*u+l*s*p-i*c*p,y=e*m+A*B+n*w+r*v;if(0===y)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _=1/y;return t[0]=m*_,t[1]=(f*u*r-c*p*r-f*n*h+A*p*h+c*n*g-A*u*g)*_,t[2]=(s*p*r-f*a*r+f*n*o-A*p*o-s*n*g+A*a*g)*_,t[3]=(c*a*r-s*u*r-c*n*o+A*u*o+s*n*h-A*a*h)*_,t[4]=B*_,t[5]=(l*p*r-d*u*r+d*n*h-e*p*h-l*n*g+e*u*g)*_,t[6]=(d*a*r-i*p*r-d*n*o+e*p*o+i*n*g-e*a*g)*_,t[7]=(i*u*r-l*a*r+l*n*o-e*u*o-i*n*h+e*a*h)*_,t[8]=w*_,t[9]=(d*c*r-l*f*r-d*A*h+e*f*h+l*A*g-e*c*g)*_,t[10]=(i*f*r-d*s*r+d*A*o-e*f*o-i*A*g+e*s*g)*_,t[11]=(l*s*r-i*c*r-l*A*o+e*c*o+i*A*h-e*s*h)*_,t[12]=v*_,t[13]=(l*f*n-d*c*n+d*A*u-e*f*u-l*A*p+e*c*p)*_,t[14]=(d*s*n-i*f*n-d*A*a+e*f*a+i*A*p-e*s*p)*_,t[15]=(i*c*n-l*s*n+l*A*a-e*c*a-i*A*u+e*s*u)*_,this}scale(t){const e=this.elements,A=t.x,n=t.y,r=t.z;return e[0]*=A,e[4]*=n,e[8]*=r,e[1]*=A,e[5]*=n,e[9]*=r,e[2]*=A,e[6]*=n,e[10]*=r,e[3]*=A,e[7]*=n,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],A=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,A,n))}makeTranslation(t,e,A){return this.set(1,0,0,t,0,1,0,e,0,0,1,A,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),A=Math.sin(t);return this.set(1,0,0,0,0,e,-A,0,0,A,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),A=Math.sin(t);return this.set(e,0,A,0,0,1,0,0,-A,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),A=Math.sin(t);return this.set(e,-A,0,0,A,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const A=Math.cos(e),n=Math.sin(e),r=1-A,i=t.x,s=t.y,a=t.z,o=r*i,l=r*s;return this.set(o*i+A,o*s-n*a,o*a+n*s,0,o*s+n*a,l*s+A,l*a-n*i,0,o*a-n*s,l*a+n*i,r*a*a+A,0,0,0,0,1),this}makeScale(t,e,A){return this.set(t,0,0,0,0,e,0,0,0,0,A,0,0,0,0,1),this}makeShear(t,e,A,n,r,i){return this.set(1,A,r,0,t,1,i,0,e,n,1,0,0,0,0,1),this}compose(t,e,A){const n=this.elements,r=e._x,i=e._y,s=e._z,a=e._w,o=r+r,l=i+i,c=s+s,u=r*o,h=r*l,d=r*c,f=i*l,p=i*c,g=s*c,m=a*o,B=a*l,w=a*c,v=A.x,y=A.y,_=A.z;return n[0]=(1-(f+g))*v,n[1]=(h+w)*v,n[2]=(d-B)*v,n[3]=0,n[4]=(h-w)*y,n[5]=(1-(u+g))*y,n[6]=(p+m)*y,n[7]=0,n[8]=(d+B)*_,n[9]=(p-m)*_,n[10]=(1-(u+f))*_,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,A){const n=this.elements;let r=aa.set(n[0],n[1],n[2]).length();const i=aa.set(n[4],n[5],n[6]).length(),s=aa.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],oa.copy(this);const a=1/r,o=1/i,l=1/s;return oa.elements[0]*=a,oa.elements[1]*=a,oa.elements[2]*=a,oa.elements[4]*=o,oa.elements[5]*=o,oa.elements[6]*=o,oa.elements[8]*=l,oa.elements[9]*=l,oa.elements[10]*=l,e.setFromRotationMatrix(oa),A.x=r,A.y=i,A.z=s,this}makePerspective(t,e,A,n,r,i){const s=this.elements,a=2*r/(e-t),o=2*r/(A-n),l=(e+t)/(e-t),c=(A+n)/(A-n),u=-(i+r)/(i-r),h=-2*i*r/(i-r);return s[0]=a,s[4]=0,s[8]=l,s[12]=0,s[1]=0,s[5]=o,s[9]=c,s[13]=0,s[2]=0,s[6]=0,s[10]=u,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(t,e,A,n,r,i){const s=this.elements,a=1/(e-t),o=1/(A-n),l=1/(i-r),c=(e+t)*a,u=(A+n)*o,h=(i+r)*l;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-c,s[1]=0,s[5]=2*o,s[9]=0,s[13]=-u,s[2]=0,s[6]=0,s[10]=-2*l,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(t){const e=this.elements,A=t.elements;for(let n=0;n<16;n++)if(e[n]!==A[n])return!1;return!0}fromArray(t,e=0){for(let A=0;A<16;A++)this.elements[A]=t[A+e];return this}toArray(t=[],e=0){const A=this.elements;return t[e]=A[0],t[e+1]=A[1],t[e+2]=A[2],t[e+3]=A[3],t[e+4]=A[4],t[e+5]=A[5],t[e+6]=A[6],t[e+7]=A[7],t[e+8]=A[8],t[e+9]=A[9],t[e+10]=A[10],t[e+11]=A[11],t[e+12]=A[12],t[e+13]=A[13],t[e+14]=A[14],t[e+15]=A[15],t}}const aa=new Ms,oa=new sa,la=new Ms(0,0,0),ca=new Ms(1,1,1),ua=new Ms,ha=new Ms,da=new Ms,fa=new sa,pa=new Qs;class ga{constructor(t=0,e=0,A=0,n=ga.DefaultOrder){this.isEuler=!0,this._x=t,this._y=e,this._z=A,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,A,n=this._order){return this._x=t,this._y=e,this._z=A,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,A=!0){const n=t.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],h=n[10];switch(e){case"XYZ":this._y=Math.asin($i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-i,r)):(this._x=Math.atan2(u,o),this._z=0);break;case"YXZ":this._x=Math.asin(-$i(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(a,o)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin($i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-i,o)):(this._y=0,this._z=Math.atan2(a,r));break;case"ZYX":this._y=Math.asin(-$i(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(u,h),this._z=Math.atan2(a,r)):(this._x=0,this._z=Math.atan2(-i,o));break;case"YZX":this._z=Math.asin($i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,o),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-$i(i,-1,1)),Math.abs(i)<.9999999?(this._x=Math.atan2(u,o),this._y=Math.atan2(s,r)):(this._x=Math.atan2(-l,h),this._y=0)}return this._order=e,!0===A&&this._onChangeCallback(),this}setFromQuaternion(t,e,A){return fa.makeRotationFromQuaternion(t),this.setFromRotationMatrix(fa,e,A)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return pa.setFromEuler(this),this.setFromQuaternion(pa,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){}}ga.DefaultOrder="XYZ",ga.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class ma{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let Ba=0;const wa=new Ms,va=new Qs,ya=new sa,_a=new Ms,xa=new Ms,Ca=new Ms,ba=new Qs,Ua=new Ms(1,0,0),Fa=new Ms(0,1,0),Qa=new Ms(0,0,1),Ma={type:"added"},Sa={type:"removed"};class Ea extends ji{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Ba++}),this.uuid=Zi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ea.DefaultUp.clone();const t=new Ms,e=new ga,A=new Qs,n=new Ms(1,1,1);e._onChange((function(){A.setFromEuler(e,!1)})),A._onChange((function(){e.setFromQuaternion(A,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:A},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new sa},normalMatrix:{value:new rs}}),this.matrix=new sa,this.matrixWorld=new sa,this.matrixAutoUpdate=Ea.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ma,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return va.setFromAxisAngle(t,e),this.quaternion.multiply(va),this}rotateOnWorldAxis(t,e){return va.setFromAxisAngle(t,e),this.quaternion.premultiply(va),this}rotateX(t){return this.rotateOnAxis(Ua,t)}rotateY(t){return this.rotateOnAxis(Fa,t)}rotateZ(t){return this.rotateOnAxis(Qa,t)}translateOnAxis(t,e){return wa.copy(t).applyQuaternion(this.quaternion),this.position.add(wa.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ua,t)}translateY(t){return this.translateOnAxis(Fa,t)}translateZ(t){return this.translateOnAxis(Qa,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(ya.copy(this.matrixWorld).invert())}lookAt(t,e,A){t.isVector3?_a.copy(t):_a.set(t,e,A);const n=this.parent;this.updateWorldMatrix(!0,!1),xa.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ya.lookAt(xa,_a,this.up):ya.lookAt(_a,xa,this.up),this.quaternion.setFromRotationMatrix(ya),n&&(ya.extractRotation(n.matrixWorld),va.setFromRotationMatrix(ya),this.quaternion.premultiply(va.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Ma)),this}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Sa)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Sa)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),ya.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ya.multiply(t.parent.matrixWorld)),t.applyMatrix4(ya),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let A=0,n=this.children.length;A<n;A++){const n=this.children[A].getObjectByProperty(t,e);if(void 0!==n)return n}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xa,t,Ca),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xa,ba,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let A=0,n=e.length;A<n;A++)e[A].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let A=0,n=e.length;A<n;A++)e[A].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let A=0,n=e.length;A<n;A++)e[A].updateMatrixWorld(t)}updateWorldMatrix(t,e){const A=this.parent;if(!0===t&&null!==A&&A.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,A=t.length;e<A;e++)t[e].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,A={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},A.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function r(e,A){return void 0===e[A.uuid]&&(e[A.uuid]=A.toJSON(t)),A.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(n.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const A=e.shapes;if(Array.isArray(A))for(let e=0,n=A.length;e<n;e++){const n=A[e];r(t.shapes,n)}else r(t.shapes,A)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let A=0,n=this.material.length;A<n;A++)e.push(r(t.materials,this.material[A]));n.material=e}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(let e=0;e<this.children.length;e++)n.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let e=0;e<this.animations.length;e++){const A=this.animations[e];n.animations.push(r(t.animations,A))}}if(e){const e=i(t.geometries),n=i(t.materials),r=i(t.textures),s=i(t.images),a=i(t.shapes),o=i(t.skeletons),l=i(t.animations),c=i(t.nodes);e.length>0&&(A.geometries=e),n.length>0&&(A.materials=n),r.length>0&&(A.textures=r),s.length>0&&(A.images=s),a.length>0&&(A.shapes=a),o.length>0&&(A.skeletons=o),l.length>0&&(A.animations=l),c.length>0&&(A.nodes=c)}return A.object=n,A;function i(t){const e=[];for(const A in t){const n=t[A];delete n.metadata,e.push(n)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let A=0;A<t.children.length;A++){const e=t.children[A];this.add(e.clone())}return this}}Ea.DefaultUp=new Ms(0,1,0),Ea.DefaultMatrixAutoUpdate=!0;const Ta=new Ms,Ia=new Ms,La=new Ms,Da=new Ms,Ha=new Ms,Pa=new Ms,Oa=new Ms,Ra=new Ms,Na=new Ms,ka=new Ms;class Va{constructor(t=new Ms,e=new Ms,A=new Ms){this.a=t,this.b=e,this.c=A}static getNormal(t,e,A,n){n.subVectors(A,e),Ta.subVectors(t,e),n.cross(Ta);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(t,e,A,n,r){Ta.subVectors(n,e),Ia.subVectors(A,e),La.subVectors(t,e);const i=Ta.dot(Ta),s=Ta.dot(Ia),a=Ta.dot(La),o=Ia.dot(Ia),l=Ia.dot(La),c=i*o-s*s;if(0===c)return r.set(-2,-1,-1);const u=1/c,h=(o*a-s*l)*u,d=(i*l-s*a)*u;return r.set(1-h-d,d,h)}static containsPoint(t,e,A,n){return this.getBarycoord(t,e,A,n,Da),Da.x>=0&&Da.y>=0&&Da.x+Da.y<=1}static getUV(t,e,A,n,r,i,s,a){return this.getBarycoord(t,e,A,n,Da),a.set(0,0),a.addScaledVector(r,Da.x),a.addScaledVector(i,Da.y),a.addScaledVector(s,Da.z),a}static isFrontFacing(t,e,A,n){return Ta.subVectors(A,e),Ia.subVectors(t,e),Ta.cross(Ia).dot(n)<0}set(t,e,A){return this.a.copy(t),this.b.copy(e),this.c.copy(A),this}setFromPointsAndIndices(t,e,A,n){return this.a.copy(t[e]),this.b.copy(t[A]),this.c.copy(t[n]),this}setFromAttributeAndIndices(t,e,A,n){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,A),this.c.fromBufferAttribute(t,n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ta.subVectors(this.c,this.b),Ia.subVectors(this.a,this.b),.5*Ta.cross(Ia).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Va.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Va.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,A,n,r){return Va.getUV(t,this.a,this.b,this.c,e,A,n,r)}containsPoint(t){return Va.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Va.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const A=this.a,n=this.b,r=this.c;let i,s;Ha.subVectors(n,A),Pa.subVectors(r,A),Ra.subVectors(t,A);const a=Ha.dot(Ra),o=Pa.dot(Ra);if(a<=0&&o<=0)return e.copy(A);Na.subVectors(t,n);const l=Ha.dot(Na),c=Pa.dot(Na);if(l>=0&&c<=l)return e.copy(n);const u=a*c-l*o;if(u<=0&&a>=0&&l<=0)return i=a/(a-l),e.copy(A).addScaledVector(Ha,i);ka.subVectors(t,r);const h=Ha.dot(ka),d=Pa.dot(ka);if(d>=0&&h<=d)return e.copy(r);const f=h*o-a*d;if(f<=0&&o>=0&&d<=0)return s=o/(o-d),e.copy(A).addScaledVector(Pa,s);const p=l*d-h*c;if(p<=0&&c-l>=0&&h-d>=0)return Oa.subVectors(r,n),s=(c-l)/(c-l+(h-d)),e.copy(n).addScaledVector(Oa,s);const g=1/(p+f+u);return i=f*g,s=u*g,e.copy(A).addScaledVector(Ha,i).addScaledVector(Pa,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let za=0;class Ka extends ji{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:za++}),this.uuid=Zi(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const A=t[e];if(void 0===A)continue;if("shading"===e){this.flatShading=1===A;continue}const n=this[e];void 0!==n&&(n&&n.isColor?n.set(A):n&&n.isVector3&&A&&A.isVector3?n.copy(A):this[e]=A)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const A={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){const e=[];for(const A in t){const n=t[A];delete n.metadata,e.push(n)}return e}if(A.uuid=this.uuid,A.type=this.type,""!==this.name&&(A.name=this.name),this.color&&this.color.isColor&&(A.color=this.color.getHex()),void 0!==this.roughness&&(A.roughness=this.roughness),void 0!==this.metalness&&(A.metalness=this.metalness),void 0!==this.sheen&&(A.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(A.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(A.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(A.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(A.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(A.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(A.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(A.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(A.shininess=this.shininess),void 0!==this.clearcoat&&(A.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(A.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(A.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(A.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(A.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,A.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(A.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(A.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(A.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(A.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(A.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(A.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(A.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(A.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(A.lightMap=this.lightMap.toJSON(t).uuid,A.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(A.aoMap=this.aoMap.toJSON(t).uuid,A.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(A.bumpMap=this.bumpMap.toJSON(t).uuid,A.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(A.normalMap=this.normalMap.toJSON(t).uuid,A.normalMapType=this.normalMapType,A.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(A.displacementMap=this.displacementMap.toJSON(t).uuid,A.displacementScale=this.displacementScale,A.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(A.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(A.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(A.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(A.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(A.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(A.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(A.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(A.combine=this.combine)),void 0!==this.envMapIntensity&&(A.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(A.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(A.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(A.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(A.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(A.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(A.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(A.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(A.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(A.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(A.size=this.size),null!==this.shadowSide&&(A.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(A.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(A.blending=this.blending),0!==this.side&&(A.side=this.side),this.vertexColors&&(A.vertexColors=!0),this.opacity<1&&(A.opacity=this.opacity),!0===this.transparent&&(A.transparent=this.transparent),A.depthFunc=this.depthFunc,A.depthTest=this.depthTest,A.depthWrite=this.depthWrite,A.colorWrite=this.colorWrite,A.stencilWrite=this.stencilWrite,A.stencilWriteMask=this.stencilWriteMask,A.stencilFunc=this.stencilFunc,A.stencilRef=this.stencilRef,A.stencilFuncMask=this.stencilFuncMask,A.stencilFail=this.stencilFail,A.stencilZFail=this.stencilZFail,A.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(A.rotation=this.rotation),!0===this.polygonOffset&&(A.polygonOffset=!0),0!==this.polygonOffsetFactor&&(A.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(A.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(A.linewidth=this.linewidth),void 0!==this.dashSize&&(A.dashSize=this.dashSize),void 0!==this.gapSize&&(A.gapSize=this.gapSize),void 0!==this.scale&&(A.scale=this.scale),!0===this.dithering&&(A.dithering=!0),this.alphaTest>0&&(A.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(A.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(A.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(A.wireframe=this.wireframe),this.wireframeLinewidth>1&&(A.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(A.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(A.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(A.flatShading=this.flatShading),!1===this.visible&&(A.visible=!1),!1===this.toneMapped&&(A.toneMapped=!1),!1===this.fog&&(A.fog=!1),"{}"!==JSON.stringify(this.userData)&&(A.userData=this.userData),e){const e=n(t.textures),r=n(t.images);e.length>0&&(A.textures=e),r.length>0&&(A.images=r)}return A}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let A=null;if(null!==e){const t=e.length;A=new Array(t);for(let n=0;n!==t;++n)A[n]=e[n].clone()}return this.clippingPlanes=A,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class Ga extends Ka{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ms(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Wa=new Ms,Xa=new ns;class ja{constructor(t,e,A){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===A,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,A){t*=this.itemSize,A*=e.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[A+n];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let A=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(r=new ms),e[A++]=r.r,e[A++]=r.g,e[A++]=r.b}return this}copyVector2sArray(t){const e=this.array;let A=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(r=new ns),e[A++]=r.x,e[A++]=r.y}return this}copyVector3sArray(t){const e=this.array;let A=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(r=new Ms),e[A++]=r.x,e[A++]=r.y,e[A++]=r.z}return this}copyVector4sArray(t){const e=this.array;let A=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(r=new Cs),e[A++]=r.x,e[A++]=r.y,e[A++]=r.z,e[A++]=r.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,A=this.count;e<A;e++)Xa.fromBufferAttribute(this,e),Xa.applyMatrix3(t),this.setXY(e,Xa.x,Xa.y);else if(3===this.itemSize)for(let e=0,A=this.count;e<A;e++)Wa.fromBufferAttribute(this,e),Wa.applyMatrix3(t),this.setXYZ(e,Wa.x,Wa.y,Wa.z);return this}applyMatrix4(t){for(let e=0,A=this.count;e<A;e++)Wa.fromBufferAttribute(this,e),Wa.applyMatrix4(t),this.setXYZ(e,Wa.x,Wa.y,Wa.z);return this}applyNormalMatrix(t){for(let e=0,A=this.count;e<A;e++)Wa.fromBufferAttribute(this,e),Wa.applyNormalMatrix(t),this.setXYZ(e,Wa.x,Wa.y,Wa.z);return this}transformDirection(t){for(let e=0,A=this.count;e<A;e++)Wa.fromBufferAttribute(this,e),Wa.transformDirection(t),this.setXYZ(e,Wa.x,Wa.y,Wa.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,A){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=A,this}setXYZ(t,e,A,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=A,this.array[t+2]=n,this}setXYZW(t,e,A,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=A,this.array[t+2]=n,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(t.updateRange=this.updateRange),t}}class Ya extends ja{constructor(t,e,A){super(new Uint16Array(t),e,A)}}class Ja extends ja{constructor(t,e,A){super(new Uint32Array(t),e,A)}}class qa extends ja{constructor(t,e,A){super(new Float32Array(t),e,A)}}let Za=0;const $a=new sa,to=new Ea,eo=new Ms,Ao=new Ts,no=new Ts,ro=new Ms;class io extends ji{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Za++}),this.uuid=Zi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(is(t)?Ja:Ya)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,A=0){this.groups.push({start:t,count:e,materialIndex:A})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const A=this.attributes.normal;if(void 0!==A){const e=(new rs).getNormalMatrix(t);A.applyNormalMatrix(e),A.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(t),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return $a.makeRotationFromQuaternion(t),this.applyMatrix4($a),this}rotateX(t){return $a.makeRotationX(t),this.applyMatrix4($a),this}rotateY(t){return $a.makeRotationY(t),this.applyMatrix4($a),this}rotateZ(t){return $a.makeRotationZ(t),this.applyMatrix4($a),this}translate(t,e,A){return $a.makeTranslation(t,e,A),this.applyMatrix4($a),this}scale(t,e,A){return $a.makeScale(t,e,A),this.applyMatrix4($a),this}lookAt(t){return to.lookAt(t),to.updateMatrix(),this.applyMatrix4(to.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eo).negate(),this.translate(eo.x,eo.y,eo.z),this}setFromPoints(t){const e=[];for(let A=0,n=t.length;A<n;A++){const n=t[A];e.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new qa(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Ts);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingBox.set(new Ms(-Infinity,-Infinity,-Infinity),new Ms(Infinity,Infinity,Infinity));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,A=e.length;t<A;t++){const A=e[t];Ao.setFromBufferAttribute(A),this.morphTargetsRelative?(ro.addVectors(this.boundingBox.min,Ao.min),this.boundingBox.expandByPoint(ro),ro.addVectors(this.boundingBox.max,Ao.max),this.boundingBox.expandByPoint(ro)):(this.boundingBox.expandByPoint(Ao.min),this.boundingBox.expandByPoint(Ao.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new qs);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingSphere.set(new Ms,Infinity);else if(t){const A=this.boundingSphere.center;if(Ao.setFromBufferAttribute(t),e)for(let t=0,r=e.length;t<r;t++){const A=e[t];no.setFromBufferAttribute(A),this.morphTargetsRelative?(ro.addVectors(Ao.min,no.min),Ao.expandByPoint(ro),ro.addVectors(Ao.max,no.max),Ao.expandByPoint(ro)):(Ao.expandByPoint(no.min),Ao.expandByPoint(no.max))}Ao.getCenter(A);let n=0;for(let e=0,r=t.count;e<r;e++)ro.fromBufferAttribute(t,e),n=Math.max(n,A.distanceToSquared(ro));if(e)for(let r=0,i=e.length;r<i;r++){const i=e[r],s=this.morphTargetsRelative;for(let e=0,r=i.count;e<r;e++)ro.fromBufferAttribute(i,e),s&&(eo.fromBufferAttribute(t,e),ro.add(eo)),n=Math.max(n,A.distanceToSquared(ro))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return;const A=t.array,n=e.position.array,r=e.normal.array,i=e.uv.array,s=n.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ja(new Float32Array(4*s),4));const a=this.getAttribute("tangent").array,o=[],l=[];for(let b=0;b<s;b++)o[b]=new Ms,l[b]=new Ms;const c=new Ms,u=new Ms,h=new Ms,d=new ns,f=new ns,p=new ns,g=new Ms,m=new Ms;function B(t,e,A){c.fromArray(n,3*t),u.fromArray(n,3*e),h.fromArray(n,3*A),d.fromArray(i,2*t),f.fromArray(i,2*e),p.fromArray(i,2*A),u.sub(c),h.sub(c),f.sub(d),p.sub(d);const r=1/(f.x*p.y-p.x*f.y);isFinite(r)&&(g.copy(u).multiplyScalar(p.y).addScaledVector(h,-f.y).multiplyScalar(r),m.copy(h).multiplyScalar(f.x).addScaledVector(u,-p.x).multiplyScalar(r),o[t].add(g),o[e].add(g),o[A].add(g),l[t].add(m),l[e].add(m),l[A].add(m))}let w=this.groups;0===w.length&&(w=[{start:0,count:A.length}]);for(let b=0,U=w.length;b<U;++b){const t=w[b],e=t.start;for(let n=e,r=e+t.count;n<r;n+=3)B(A[n+0],A[n+1],A[n+2])}const v=new Ms,y=new Ms,_=new Ms,x=new Ms;function C(t){_.fromArray(r,3*t),x.copy(_);const e=o[t];v.copy(e),v.sub(_.multiplyScalar(_.dot(e))).normalize(),y.crossVectors(x,e);const A=y.dot(l[t])<0?-1:1;a[4*t]=v.x,a[4*t+1]=v.y,a[4*t+2]=v.z,a[4*t+3]=A}for(let b=0,U=w.length;b<U;++b){const t=w[b],e=t.start;for(let n=e,r=e+t.count;n<r;n+=3)C(A[n+0]),C(A[n+1]),C(A[n+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let A=this.getAttribute("normal");if(void 0===A)A=new ja(new Float32Array(3*e.count),3),this.setAttribute("normal",A);else for(let t=0,e=A.count;t<e;t++)A.setXYZ(t,0,0,0);const n=new Ms,r=new Ms,i=new Ms,s=new Ms,a=new Ms,o=new Ms,l=new Ms,c=new Ms;if(t)for(let u=0,h=t.count;u<h;u+=3){const h=t.getX(u+0),d=t.getX(u+1),f=t.getX(u+2);n.fromBufferAttribute(e,h),r.fromBufferAttribute(e,d),i.fromBufferAttribute(e,f),l.subVectors(i,r),c.subVectors(n,r),l.cross(c),s.fromBufferAttribute(A,h),a.fromBufferAttribute(A,d),o.fromBufferAttribute(A,f),s.add(l),a.add(l),o.add(l),A.setXYZ(h,s.x,s.y,s.z),A.setXYZ(d,a.x,a.y,a.z),A.setXYZ(f,o.x,o.y,o.z)}else for(let t=0,u=e.count;t<u;t+=3)n.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),i.fromBufferAttribute(e,t+2),l.subVectors(i,r),c.subVectors(n,r),l.cross(c),A.setXYZ(t+0,l.x,l.y,l.z),A.setXYZ(t+1,l.x,l.y,l.z),A.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),A.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return;void 0===e&&(e=0);const A=this.attributes;for(const n in A){if(void 0===t.attributes[n])continue;const r=A[n].array,i=t.attributes[n],s=i.array,a=i.itemSize*e,o=Math.min(s.length,r.length-a);for(let t=0,e=a;t<o;t++,e++)r[e]=s[t]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,A=t.count;e<A;e++)ro.fromBufferAttribute(t,e),ro.normalize(),t.setXYZ(e,ro.x,ro.y,ro.z)}toNonIndexed(){function t(t,e){const A=t.array,n=t.itemSize,r=t.normalized,i=new A.constructor(e.length*n);let s=0,a=0;for(let o=0,l=e.length;o<l;o++){s=t.isInterleavedBufferAttribute?e[o]*t.data.stride+t.offset:e[o]*n;for(let t=0;t<n;t++)i[a++]=A[s++]}return new ja(i,n,r)}if(null===this.index)return this;const e=new io,A=this.index.array,n=this.attributes;for(const s in n){const r=t(n[s],A);e.setAttribute(s,r)}const r=this.morphAttributes;for(const s in r){const n=[],i=r[s];for(let e=0,r=i.length;e<r;e++){const r=t(i[e],A);n.push(r)}e.morphAttributes[s]=n}e.morphTargetsRelative=this.morphTargetsRelative;const i=this.groups;for(let s=0,a=i.length;s<a;s++){const t=i[s];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const A in e)void 0!==e[A]&&(t[A]=e[A]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const A=this.attributes;for(const a in A){const e=A[a];t.data.attributes[a]=e.toJSON(t.data)}const n={};let r=!1;for(const a in this.morphAttributes){const e=this.morphAttributes[a],A=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];A.push(r.toJSON(t.data))}A.length>0&&(n[a]=A,r=!0)}r&&(t.data.morphAttributes=n,t.data.morphTargetsRelative=this.morphTargetsRelative);const i=this.groups;i.length>0&&(t.data.groups=JSON.parse(JSON.stringify(i)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const A=t.index;null!==A&&this.setIndex(A.clone(e));const n=t.attributes;for(const o in n){const t=n[o];this.setAttribute(o,t.clone(e))}const r=t.morphAttributes;for(const o in r){const t=[],A=r[o];for(let n=0,r=A.length;n<r;n++)t.push(A[n].clone(e));this.morphAttributes[o]=t}this.morphTargetsRelative=t.morphTargetsRelative;const i=t.groups;for(let o=0,l=i.length;o<l;o++){const t=i[o];this.addGroup(t.start,t.count,t.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const so=new sa,ao=new ia,oo=new qs,lo=new Ms,co=new Ms,uo=new Ms,ho=new Ms,fo=new Ms,po=new Ms,go=new Ms,mo=new Ms,Bo=new Ms,wo=new ns,vo=new ns,yo=new ns,_o=new Ms,xo=new Ms;class Co extends Ea{constructor(t=new io,e=new Ga){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const A=t[e[0]];if(void 0!==A){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=A.length;t<e;t++){const e=A[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}raycast(t,e){const A=this.geometry,n=this.material,r=this.matrixWorld;if(void 0===n)return;if(null===A.boundingSphere&&A.computeBoundingSphere(),oo.copy(A.boundingSphere),oo.applyMatrix4(r),!1===t.ray.intersectsSphere(oo))return;if(so.copy(r).invert(),ao.copy(t.ray).applyMatrix4(so),null!==A.boundingBox&&!1===ao.intersectsBox(A.boundingBox))return;let i;const s=A.index,a=A.attributes.position,o=A.morphAttributes.position,l=A.morphTargetsRelative,c=A.attributes.uv,u=A.attributes.uv2,h=A.groups,d=A.drawRange;if(null!==s)if(Array.isArray(n))for(let f=0,p=h.length;f<p;f++){const A=h[f],r=n[A.materialIndex];for(let n=Math.max(A.start,d.start),h=Math.min(s.count,Math.min(A.start+A.count,d.start+d.count));n<h;n+=3){const h=s.getX(n),d=s.getX(n+1),f=s.getX(n+2);i=bo(this,r,t,ao,a,o,l,c,u,h,d,f),i&&(i.faceIndex=Math.floor(n/3),i.face.materialIndex=A.materialIndex,e.push(i))}}else{for(let A=Math.max(0,d.start),r=Math.min(s.count,d.start+d.count);A<r;A+=3){const r=s.getX(A),h=s.getX(A+1),d=s.getX(A+2);i=bo(this,n,t,ao,a,o,l,c,u,r,h,d),i&&(i.faceIndex=Math.floor(A/3),e.push(i))}}else if(void 0!==a)if(Array.isArray(n))for(let f=0,p=h.length;f<p;f++){const A=h[f],r=n[A.materialIndex];for(let n=Math.max(A.start,d.start),s=Math.min(a.count,Math.min(A.start+A.count,d.start+d.count));n<s;n+=3){i=bo(this,r,t,ao,a,o,l,c,u,n,n+1,n+2),i&&(i.faceIndex=Math.floor(n/3),i.face.materialIndex=A.materialIndex,e.push(i))}}else{for(let A=Math.max(0,d.start),r=Math.min(a.count,d.start+d.count);A<r;A+=3){i=bo(this,n,t,ao,a,o,l,c,u,A,A+1,A+2),i&&(i.faceIndex=Math.floor(A/3),e.push(i))}}}}function bo(t,e,A,n,r,i,s,a,o,l,c,u){lo.fromBufferAttribute(r,l),co.fromBufferAttribute(r,c),uo.fromBufferAttribute(r,u);const h=t.morphTargetInfluences;if(i&&h){go.set(0,0,0),mo.set(0,0,0),Bo.set(0,0,0);for(let t=0,e=i.length;t<e;t++){const e=h[t],A=i[t];0!==e&&(ho.fromBufferAttribute(A,l),fo.fromBufferAttribute(A,c),po.fromBufferAttribute(A,u),s?(go.addScaledVector(ho,e),mo.addScaledVector(fo,e),Bo.addScaledVector(po,e)):(go.addScaledVector(ho.sub(lo),e),mo.addScaledVector(fo.sub(co),e),Bo.addScaledVector(po.sub(uo),e)))}lo.add(go),co.add(mo),uo.add(Bo)}t.isSkinnedMesh&&(t.boneTransform(l,lo),t.boneTransform(c,co),t.boneTransform(u,uo));const d=function(t,e,A,n,r,i,s,a){let o;if(o=1===e.side?n.intersectTriangle(s,i,r,!0,a):n.intersectTriangle(r,i,s,2!==e.side,a),null===o)return null;xo.copy(a),xo.applyMatrix4(t.matrixWorld);const l=A.ray.origin.distanceTo(xo);return l<A.near||l>A.far?null:{distance:l,point:xo.clone(),object:t}}(t,e,A,n,lo,co,uo,_o);if(d){a&&(wo.fromBufferAttribute(a,l),vo.fromBufferAttribute(a,c),yo.fromBufferAttribute(a,u),d.uv=Va.getUV(_o,lo,co,uo,wo,vo,yo,new ns)),o&&(wo.fromBufferAttribute(o,l),vo.fromBufferAttribute(o,c),yo.fromBufferAttribute(o,u),d.uv2=Va.getUV(_o,lo,co,uo,wo,vo,yo,new ns));const t={a:l,b:c,c:u,normal:new Ms,materialIndex:0};Va.getNormal(lo,co,uo,t.normal),d.face=t}return d}class Uo extends io{constructor(t=1,e=1,A=1,n=1,r=1,i=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:A,widthSegments:n,heightSegments:r,depthSegments:i};const s=this;n=Math.floor(n),r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[];let u=0,h=0;function d(t,e,A,n,r,i,d,f,p,g,m){const B=i/p,w=d/g,v=i/2,y=d/2,_=f/2,x=p+1,C=g+1;let b=0,U=0;const F=new Ms;for(let s=0;s<C;s++){const i=s*w-y;for(let a=0;a<x;a++){const u=a*B-v;F[t]=u*n,F[e]=i*r,F[A]=_,o.push(F.x,F.y,F.z),F[t]=0,F[e]=0,F[A]=f>0?1:-1,l.push(F.x,F.y,F.z),c.push(a/p),c.push(1-s/g),b+=1}}for(let s=0;s<g;s++)for(let t=0;t<p;t++){const e=u+t+x*s,A=u+t+x*(s+1),n=u+(t+1)+x*(s+1),r=u+(t+1)+x*s;a.push(e,A,r),a.push(A,n,r),U+=6}s.addGroup(h,U,m),h+=U,u+=b}d("z","y","x",-1,-1,A,e,t,i,r,0),d("z","y","x",1,-1,A,e,-t,i,r,1),d("x","z","y",1,1,t,A,e,n,i,2),d("x","z","y",1,-1,t,A,-e,n,i,3),d("x","y","z",1,-1,t,e,A,n,r,4),d("x","y","z",-1,-1,t,e,-A,n,r,5),this.setIndex(a),this.setAttribute("position",new qa(o,3)),this.setAttribute("normal",new qa(l,3)),this.setAttribute("uv",new qa(c,2))}static fromJSON(t){return new Uo(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Fo(t){const e={};for(const A in t){e[A]={};for(const n in t[A]){const r=t[A][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[A][n]=r.clone():Array.isArray(r)?e[A][n]=r.slice():e[A][n]=r}}return e}function Qo(t){const e={};for(let A=0;A<t.length;A++){const n=Fo(t[A]);for(const t in n)e[t]=n[t]}return e}const Mo={clone:Fo,merge:Qo};class So extends Ka{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(t.attributes,this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Fo(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let A=0;A<t.length;A++)e.push(t[A].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const A=this.uniforms[n].value;A&&A.isTexture?e.uniforms[n]={type:"t",value:A.toJSON(t).uuid}:A&&A.isColor?e.uniforms[n]={type:"c",value:A.getHex()}:A&&A.isVector2?e.uniforms[n]={type:"v2",value:A.toArray()}:A&&A.isVector3?e.uniforms[n]={type:"v3",value:A.toArray()}:A&&A.isVector4?e.uniforms[n]={type:"v4",value:A.toArray()}:A&&A.isMatrix3?e.uniforms[n]={type:"m3",value:A.toArray()}:A&&A.isMatrix4?e.uniforms[n]={type:"m4",value:A.toArray()}:e.uniforms[n]={value:A}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const A={};for(const n in this.extensions)!0===this.extensions[n]&&(A[n]=!0);return Object.keys(A).length>0&&(e.extensions=A),e}}class Eo extends Ea{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new sa,this.projectionMatrix=new sa,this.projectionMatrixInverse=new sa}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class To extends Eo{constructor(t=50,e=1,A=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=A,this.far=n,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*qi*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Ji*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*qi*Math.atan(Math.tan(.5*Ji*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,A,n,r,i){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=A,this.view.offsetY=n,this.view.width=r,this.view.height=i,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Ji*this.fov)/this.zoom,A=2*e,n=this.aspect*A,r=-.5*n;const i=this.view;if(null!==this.view&&this.view.enabled){const t=i.fullWidth,s=i.fullHeight;r+=i.offsetX*n/t,e-=i.offsetY*A/s,n*=i.width/t,A*=i.height/s}const s=this.filmOffset;0!==s&&(r+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-A,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class Io extends Ea{constructor(t,e,A){if(super(),this.type="CubeCamera",!0!==A.isWebGLCubeRenderTarget)return;this.renderTarget=A;const n=new To(90,1,t,e);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new Ms(1,0,0)),this.add(n);const r=new To(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ms(-1,0,0)),this.add(r);const i=new To(90,1,t,e);i.layers=this.layers,i.up.set(0,0,1),i.lookAt(new Ms(0,1,0)),this.add(i);const s=new To(90,1,t,e);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new Ms(0,-1,0)),this.add(s);const a=new To(90,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Ms(0,0,1)),this.add(a);const o=new To(90,1,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Ms(0,0,-1)),this.add(o)}update(t,e){null===this.parent&&this.updateMatrixWorld();const A=this.renderTarget,[n,r,i,s,a,o]=this.children,l=t.getRenderTarget(),c=t.toneMapping,u=t.xr.enabled;t.toneMapping=0,t.xr.enabled=!1;const h=A.texture.generateMipmaps;A.texture.generateMipmaps=!1,t.setRenderTarget(A,0),t.render(e,n),t.setRenderTarget(A,1),t.render(e,r),t.setRenderTarget(A,2),t.render(e,i),t.setRenderTarget(A,3),t.render(e,s),t.setRenderTarget(A,4),t.render(e,a),A.texture.generateMipmaps=h,t.setRenderTarget(A,5),t.render(e,o),t.setRenderTarget(l),t.toneMapping=c,t.xr.enabled=u,A.texture.needsPMREMUpdate=!0}}class Lo extends xs{constructor(t,e,A,n,r,i,s,a,o,l){super(t=void 0!==t?t:[],e=void 0!==e?e:301,A,n,r,i,s,a,o,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Do extends bs{constructor(t,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const A={width:t,height:t,depth:1},n=[A,A,A,A,A,A];this.texture=new Lo(n,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:1006}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const A={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},n=new Uo(5,5,5),r=new So({name:"CubemapFromEquirect",uniforms:Fo(A.uniforms),vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const i=new Co(n,r),s=e.minFilter;1008===e.minFilter&&(e.minFilter=1006);return new Io(1,10,this).update(t,i),e.minFilter=s,i.geometry.dispose(),i.material.dispose(),this}clear(t,e,A,n){const r=t.getRenderTarget();for(let i=0;i<6;i++)t.setRenderTarget(this,i),t.clear(e,A,n);t.setRenderTarget(r)}}const Ho=new Ms,Po=new Ms,Oo=new rs;class Ro{constructor(t=new Ms(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,A,n){return this.normal.set(t,e,A),this.constant=n,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,A){const n=Ho.subVectors(A,e).cross(Po.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const A=t.delta(Ho),n=this.normal.dot(A);if(0===n)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:e.copy(A).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),A=this.distanceToPoint(t.end);return e<0&&A>0||A<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const A=e||Oo.getNormalMatrix(t),n=this.coplanarPoint(Ho).applyMatrix4(t),r=this.normal.applyMatrix3(A).normalize();return this.constant=-n.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const No=new qs,ko=new Ms;class Vo{constructor(t=new Ro,e=new Ro,A=new Ro,n=new Ro,r=new Ro,i=new Ro){this.planes=[t,e,A,n,r,i]}set(t,e,A,n,r,i){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(A),s[3].copy(n),s[4].copy(r),s[5].copy(i),this}copy(t){const e=this.planes;for(let A=0;A<6;A++)e[A].copy(t.planes[A]);return this}setFromProjectionMatrix(t){const e=this.planes,A=t.elements,n=A[0],r=A[1],i=A[2],s=A[3],a=A[4],o=A[5],l=A[6],c=A[7],u=A[8],h=A[9],d=A[10],f=A[11],p=A[12],g=A[13],m=A[14],B=A[15];return e[0].setComponents(s-n,c-a,f-u,B-p).normalize(),e[1].setComponents(s+n,c+a,f+u,B+p).normalize(),e[2].setComponents(s+r,c+o,f+h,B+g).normalize(),e[3].setComponents(s-r,c-o,f-h,B-g).normalize(),e[4].setComponents(s-i,c-l,f-d,B-m).normalize(),e[5].setComponents(s+i,c+l,f+d,B+m).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),No.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(No)}intersectsSprite(t){return No.center.set(0,0,0),No.radius=.7071067811865476,No.applyMatrix4(t.matrixWorld),this.intersectsSphere(No)}intersectsSphere(t){const e=this.planes,A=t.center,n=-t.radius;for(let r=0;r<6;r++){if(e[r].distanceToPoint(A)<n)return!1}return!0}intersectsBox(t){const e=this.planes;for(let A=0;A<6;A++){const n=e[A];if(ko.x=n.normal.x>0?t.max.x:t.min.x,ko.y=n.normal.y>0?t.max.y:t.min.y,ko.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(ko)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let A=0;A<6;A++)if(e[A].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function zo(){let t=null,e=!1,A=null,n=null;function r(e,i){A(e,i),n=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==A&&(n=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(t){A=t},setContext:function(e){t=e}}}function Ko(t,e){const A=e.isWebGL2,n=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),n.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const A=n.get(e);A&&(t.deleteBuffer(A.buffer),n.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=n.get(e);return void((!t||t.version<e.version)&&n.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const i=n.get(e);void 0===i?n.set(e,function(e,n){const r=e.array,i=e.usage,s=t.createBuffer();let a;if(t.bindBuffer(n,s),t.bufferData(n,r,i),e.onUploadCallback(),r instanceof Float32Array)a=5126;else if(r instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!A)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");a=5131}else a=5123;else if(r instanceof Int16Array)a=5122;else if(r instanceof Uint32Array)a=5125;else if(r instanceof Int32Array)a=5124;else if(r instanceof Int8Array)a=5120;else if(r instanceof Uint8Array)a=5121;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);a=5121}return{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):i.version<e.version&&(!function(e,n,r){const i=n.array,s=n.updateRange;t.bindBuffer(r,e),-1===s.count?t.bufferSubData(r,0,i):(A?t.bufferSubData(r,s.offset*i.BYTES_PER_ELEMENT,i,s.offset,s.count):t.bufferSubData(r,s.offset*i.BYTES_PER_ELEMENT,i.subarray(s.offset,s.offset+s.count)),s.count=-1)}(i.buffer,e,r),i.version=e.version)}}}class Go extends io{constructor(t=1,e=1,A=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:A,heightSegments:n};const r=t/2,i=e/2,s=Math.floor(A),a=Math.floor(n),o=s+1,l=a+1,c=t/s,u=e/a,h=[],d=[],f=[],p=[];for(let g=0;g<l;g++){const t=g*u-i;for(let e=0;e<o;e++){const A=e*c-r;d.push(A,-t,0),f.push(0,0,1),p.push(e/s),p.push(1-g/a)}}for(let g=0;g<a;g++)for(let t=0;t<s;t++){const e=t+o*g,A=t+o*(g+1),n=t+1+o*(g+1),r=t+1+o*g;h.push(e,A,r),h.push(A,n,r)}this.setIndex(h),this.setAttribute("position",new qa(d,3)),this.setAttribute("normal",new qa(f,3)),this.setAttribute("uv",new qa(p,2))}static fromJSON(t){return new Go(t.width,t.height,t.widthSegments,t.heightSegments)}}const Wo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Xo={common:{diffuse:{value:new ms(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new rs},uv2Transform:{value:new rs},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ns(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ms(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ms(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new rs}},sprite:{diffuse:{value:new ms(16777215)},opacity:{value:1},center:{value:new ns(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new rs}}},jo={basic:{uniforms:Qo([Xo.common,Xo.specularmap,Xo.envmap,Xo.aomap,Xo.lightmap,Xo.fog]),vertexShader:Wo.meshbasic_vert,fragmentShader:Wo.meshbasic_frag},lambert:{uniforms:Qo([Xo.common,Xo.specularmap,Xo.envmap,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.fog,Xo.lights,{emissive:{value:new ms(0)}}]),vertexShader:Wo.meshlambert_vert,fragmentShader:Wo.meshlambert_frag},phong:{uniforms:Qo([Xo.common,Xo.specularmap,Xo.envmap,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,Xo.fog,Xo.lights,{emissive:{value:new ms(0)},specular:{value:new ms(1118481)},shininess:{value:30}}]),vertexShader:Wo.meshphong_vert,fragmentShader:Wo.meshphong_frag},standard:{uniforms:Qo([Xo.common,Xo.envmap,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,Xo.roughnessmap,Xo.metalnessmap,Xo.fog,Xo.lights,{emissive:{value:new ms(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wo.meshphysical_vert,fragmentShader:Wo.meshphysical_frag},toon:{uniforms:Qo([Xo.common,Xo.aomap,Xo.lightmap,Xo.emissivemap,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,Xo.gradientmap,Xo.fog,Xo.lights,{emissive:{value:new ms(0)}}]),vertexShader:Wo.meshtoon_vert,fragmentShader:Wo.meshtoon_frag},matcap:{uniforms:Qo([Xo.common,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,Xo.fog,{matcap:{value:null}}]),vertexShader:Wo.meshmatcap_vert,fragmentShader:Wo.meshmatcap_frag},points:{uniforms:Qo([Xo.points,Xo.fog]),vertexShader:Wo.points_vert,fragmentShader:Wo.points_frag},dashed:{uniforms:Qo([Xo.common,Xo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wo.linedashed_vert,fragmentShader:Wo.linedashed_frag},depth:{uniforms:Qo([Xo.common,Xo.displacementmap]),vertexShader:Wo.depth_vert,fragmentShader:Wo.depth_frag},normal:{uniforms:Qo([Xo.common,Xo.bumpmap,Xo.normalmap,Xo.displacementmap,{opacity:{value:1}}]),vertexShader:Wo.meshnormal_vert,fragmentShader:Wo.meshnormal_frag},sprite:{uniforms:Qo([Xo.sprite,Xo.fog]),vertexShader:Wo.sprite_vert,fragmentShader:Wo.sprite_frag},background:{uniforms:{uvTransform:{value:new rs},t2D:{value:null}},vertexShader:Wo.background_vert,fragmentShader:Wo.background_frag},cube:{uniforms:Qo([Xo.envmap,{opacity:{value:1}}]),vertexShader:Wo.cube_vert,fragmentShader:Wo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wo.equirect_vert,fragmentShader:Wo.equirect_frag},distanceRGBA:{uniforms:Qo([Xo.common,Xo.displacementmap,{referencePosition:{value:new Ms},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wo.distanceRGBA_vert,fragmentShader:Wo.distanceRGBA_frag},shadow:{uniforms:Qo([Xo.lights,Xo.fog,{color:{value:new ms(0)},opacity:{value:1}}]),vertexShader:Wo.shadow_vert,fragmentShader:Wo.shadow_frag}};function Yo(t,e,A,n,r,i){const s=new ms(0);let a,o,l=!0===r?0:1,c=null,u=0,h=null;function d(t,e){A.buffers.color.setClear(t.r,t.g,t.b,e,i)}return{getClearColor:function(){return s},setClearColor:function(t,e=1){s.set(t),l=e,d(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(t){l=t,d(s,l)},render:function(A,r){let i=!1,f=!0===r.isScene?r.background:null;f&&f.isTexture&&(f=e.get(f));const p=t.xr,g=p.getSession&&p.getSession();g&&"additive"===g.environmentBlendMode&&(f=null),null===f?d(s,l):f&&f.isColor&&(d(f,1),i=!0),(t.autoClear||i)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&(f.isCubeTexture||306===f.mapping)?(void 0===o&&(o=new Co(new Uo(1,1,1),new So({name:"BackgroundCubeMaterial",uniforms:Fo(jo.cube.uniforms),vertexShader:jo.cube.vertexShader,fragmentShader:jo.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(t,e,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o)),o.material.uniforms.envMap.value=f,o.material.uniforms.flipEnvMap.value=f.isCubeTexture&&!1===f.isRenderTargetTexture?-1:1,c===f&&u===f.version&&h===t.toneMapping||(o.material.needsUpdate=!0,c=f,u=f.version,h=t.toneMapping),o.layers.enableAll(),A.unshift(o,o.geometry,o.material,0,0,null)):f&&f.isTexture&&(void 0===a&&(a=new Co(new Go(2,2),new So({name:"BackgroundMaterial",uniforms:Fo(jo.background.uniforms),vertexShader:jo.background.vertexShader,fragmentShader:jo.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(a)),a.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),a.material.uniforms.uvTransform.value.copy(f.matrix),c===f&&u===f.version&&h===t.toneMapping||(a.material.needsUpdate=!0,c=f,u=f.version,h=t.toneMapping),a.layers.enableAll(),A.unshift(a,a.geometry,a.material,0,0,null))}}}function Jo(t,e,A,n){const r=t.getParameter(34921),i=n.isWebGL2?null:e.get("OES_vertex_array_object"),s=n.isWebGL2||null!==i,a={},o=d(null);let l=o,c=!1;function u(e){return n.isWebGL2?t.bindVertexArray(e):i.bindVertexArrayOES(e)}function h(e){return n.isWebGL2?t.deleteVertexArray(e):i.deleteVertexArrayOES(e)}function d(t){const e=[],A=[],n=[];for(let i=0;i<r;i++)e[i]=0,A[i]=0,n[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:A,attributeDivisors:n,object:t,attributes:{},index:null}}function f(){const t=l.newAttributes;for(let e=0,A=t.length;e<A;e++)t[e]=0}function p(t){g(t,0)}function g(A,r){const i=l.newAttributes,s=l.enabledAttributes,a=l.attributeDivisors;if(i[A]=1,0===s[A]&&(t.enableVertexAttribArray(A),s[A]=1),a[A]!==r){(n.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](A,r),a[A]=r}}function m(){const e=l.newAttributes,A=l.enabledAttributes;for(let n=0,r=A.length;n<r;n++)A[n]!==e[n]&&(t.disableVertexAttribArray(n),A[n]=0)}function B(e,A,r,i,s,a){!0!==n.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,A,r,i,s,a):t.vertexAttribIPointer(e,A,r,s,a)}function w(){v(),c=!0,l!==o&&(l=o,u(l.object))}function v(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:function(r,o,h,w,v){let y=!1;if(s){const e=function(e,A,r){const s=!0===r.wireframe;let o=a[e.id];void 0===o&&(o={},a[e.id]=o);let l=o[A.id];void 0===l&&(l={},o[A.id]=l);let c=l[s];void 0===c&&(c=d(n.isWebGL2?t.createVertexArray():i.createVertexArrayOES()),l[s]=c);return c}(w,h,o);l!==e&&(l=e,u(l.object)),y=function(t,e,A,n){const r=l.attributes,i=e.attributes;let s=0;const a=A.getAttributes();for(const o in a){if(a[o].location>=0){const e=r[o];let A=i[o];if(void 0===A&&("instanceMatrix"===o&&t.instanceMatrix&&(A=t.instanceMatrix),"instanceColor"===o&&t.instanceColor&&(A=t.instanceColor)),void 0===e)return!0;if(e.attribute!==A)return!0;if(A&&e.data!==A.data)return!0;s++}}return l.attributesNum!==s||l.index!==n}(r,w,h,v),y&&function(t,e,A,n){const r={},i=e.attributes;let s=0;const a=A.getAttributes();for(const o in a){if(a[o].location>=0){let e=i[o];void 0===e&&("instanceMatrix"===o&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===o&&t.instanceColor&&(e=t.instanceColor));const A={};A.attribute=e,e&&e.data&&(A.data=e.data),r[o]=A,s++}}l.attributes=r,l.attributesNum=s,l.index=n}(r,w,h,v)}else{const t=!0===o.wireframe;l.geometry===w.id&&l.program===h.id&&l.wireframe===t||(l.geometry=w.id,l.program=h.id,l.wireframe=t,y=!0)}null!==v&&A.update(v,34963),(y||c)&&(c=!1,function(r,i,s,a){if(!1===n.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;f();const o=a.attributes,l=s.getAttributes(),c=i.defaultAttributeValues;for(const e in l){const n=l[e];if(n.location>=0){let i=o[e];if(void 0===i&&("instanceMatrix"===e&&r.instanceMatrix&&(i=r.instanceMatrix),"instanceColor"===e&&r.instanceColor&&(i=r.instanceColor)),void 0!==i){const e=i.normalized,s=i.itemSize,o=A.get(i);if(void 0===o)continue;const l=o.buffer,c=o.type,u=o.bytesPerElement;if(i.isInterleavedBufferAttribute){const A=i.data,o=A.stride,h=i.offset;if(A.isInstancedInterleavedBuffer){for(let t=0;t<n.locationSize;t++)g(n.location+t,A.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=A.meshPerAttribute*A.count)}else for(let t=0;t<n.locationSize;t++)p(n.location+t);t.bindBuffer(34962,l);for(let t=0;t<n.locationSize;t++)B(n.location+t,s/n.locationSize,c,e,o*u,(h+s/n.locationSize*t)*u)}else{if(i.isInstancedBufferAttribute){for(let t=0;t<n.locationSize;t++)g(n.location+t,i.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let t=0;t<n.locationSize;t++)p(n.location+t);t.bindBuffer(34962,l);for(let t=0;t<n.locationSize;t++)B(n.location+t,s/n.locationSize,c,e,s*u,s/n.locationSize*t*u)}}else if(void 0!==c){const A=c[e];if(void 0!==A)switch(A.length){case 2:t.vertexAttrib2fv(n.location,A);break;case 3:t.vertexAttrib3fv(n.location,A);break;case 4:t.vertexAttrib4fv(n.location,A);break;default:t.vertexAttrib1fv(n.location,A)}}}}m()}(r,o,h,w),null!==v&&t.bindBuffer(34963,A.get(v).buffer))},reset:w,resetDefaultState:v,dispose:function(){w();for(const t in a){const e=a[t];for(const t in e){const A=e[t];for(const t in A)h(A[t].object),delete A[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const A in e){const t=e[A];for(const e in t)h(t[e].object),delete t[e];delete e[A]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const A=a[e];if(void 0===A[t.id])continue;const n=A[t.id];for(const t in n)h(n[t].object),delete n[t];delete A[t.id]}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:m}}function qo(t,e,A,n){const r=n.isWebGL2;let i;this.setMode=function(t){i=t},this.render=function(e,n){t.drawArrays(i,e,n),A.update(n,i,1)},this.renderInstances=function(n,s,a){if(0===a)return;let o,l;if(r)o=t,l="drawArraysInstanced";else if(o=e.get("ANGLE_instanced_arrays"),l="drawArraysInstancedANGLE",null===o)return;o[l](i,n,s,a),A.update(s,i,a)}}function Zo(t,e,A){let n;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const i="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let s=void 0!==A.precision?A.precision:"highp";const a=r(s);a!==s&&(s=a);const o=i||e.has("WEBGL_draw_buffers"),l=!0===A.logarithmicDepthBuffer,c=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),f=t.getParameter(34921),p=t.getParameter(36347),g=t.getParameter(36348),m=t.getParameter(36349),B=u>0,w=i||e.has("OES_texture_float");return{isWebGL2:i,drawBuffers:o,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const A=e.get("EXT_texture_filter_anisotropic");n=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:r,precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:B,floatFragmentTextures:w,floatVertexTextures:B&&w,maxSamples:i?t.getParameter(36183):0}}function $o(t){const e=this;let A=null,n=0,r=!1,i=!1;const s=new Ro,a=new rs,o={value:null,needsUpdate:!1};function l(){o.value!==A&&(o.value=A,o.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,A,n,r){const i=null!==t?t.length:0;let l=null;if(0!==i){if(l=o.value,!0!==r||null===l){const e=n+4*i,r=A.matrixWorldInverse;a.getNormalMatrix(r),(null===l||l.length<e)&&(l=new Float32Array(e));for(let A=0,o=n;A!==i;++A,o+=4)s.copy(t[A]).applyMatrix4(r,a),s.normal.toArray(l,o),l[o+3]=s.constant}o.value=l,o.needsUpdate=!0}return e.numPlanes=i,e.numIntersection=0,l}this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,i){const s=0!==t.length||e||0!==n||r;return r=e,A=c(t,i,0),n=t.length,s},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,l()},this.setState=function(e,s,a){const u=e.clippingPlanes,h=e.clipIntersection,d=e.clipShadows,f=t.get(e);if(!r||null===u||0===u.length||i&&!d)i?c(null):l();else{const t=i?0:n,e=4*t;let r=f.clippingState||null;o.value=r,r=c(u,s,e,a);for(let n=0;n!==e;++n)r[n]=A[n];f.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=t}}}function tl(t){let e=new WeakMap;function A(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function n(t){const A=t.target;A.removeEventListener("dispose",n);const r=e.get(A);void 0!==r&&(e.delete(A),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const i=r.mapping;if(303===i||304===i){if(e.has(r)){return A(e.get(r).texture,r.mapping)}{const i=r.image;if(i&&i.height>0){const s=new Do(i.height/2);return s.fromEquirectangularTexture(t,r),e.set(r,s),r.addEventListener("dispose",n),A(s.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}jo.physical={uniforms:Qo([jo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ns(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ms(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ns},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ms(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ms(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Wo.meshphysical_vert,fragmentShader:Wo.meshphysical_frag};class el extends Eo{constructor(t=-1,e=1,A=1,n=-1,r=.1,i=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=A,this.bottom=n,this.near=r,this.far=i,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,A,n,r,i){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=A,this.view.offsetY=n,this.view.width=r,this.view.height=i,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),A=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=A-t,i=A+t,s=n+e,a=n-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,i=r+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(r,i,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const Al=[.125,.215,.35,.446,.526,.582],nl=new el,rl=new ms;let il=null;const sl=(1+Math.sqrt(5))/2,al=1/sl,ol=[new Ms(1,1,1),new Ms(-1,1,1),new Ms(1,1,-1),new Ms(-1,1,-1),new Ms(0,sl,al),new Ms(0,sl,-al),new Ms(al,0,sl),new Ms(-al,0,sl),new Ms(sl,al,0),new Ms(-sl,al,0)];class ll{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,A=.1,n=100){il=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,A,n,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=dl(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=hl(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(il),t.scissorTest=!1,ul(t,0,0,t.width,t.height)}_fromTexture(t,e){301===t.mapping||302===t.mapping?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),il=this._renderer.getRenderTarget();const A=e||this._allocateTargets();return this._textureToCubeUV(t,A),this._applyPMREM(A),this._cleanup(A),A}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,A={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!1},n=cl(t,e,A);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=cl(t,e,A);const{_lodMax:n}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],A=[],n=[];let r=t;const i=t-4+1+Al.length;for(let s=0;s<i;s++){const i=Math.pow(2,r);A.push(i);let a=1/i;s>t-4?a=Al[s-t+4-1]:0===s&&(a=0),n.push(a);const o=1/(i-2),l=-o,c=1+o,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=6,d=6,f=3,p=2,g=1,m=new Float32Array(f*d*h),B=new Float32Array(p*d*h),w=new Float32Array(g*d*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,A=t>2?0:-1,n=[e,A,0,e+2/3,A,0,e+2/3,A+1,0,e,A,0,e+2/3,A+1,0,e,A+1,0];m.set(n,f*d*t),B.set(u,p*d*t);const r=[t,t,t,t,t,t];w.set(r,g*d*t)}const v=new io;v.setAttribute("position",new ja(m,f)),v.setAttribute("uv",new ja(B,p)),v.setAttribute("faceIndex",new ja(w,g)),e.push(v),r>4&&r--}return{lodPlanes:e,sizeLods:A,sigmas:n}}(n)),this._blurMaterial=function(t,e,A){const n=new Float32Array(20),r=new Ms(0,1,0);return new So({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/A,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:fl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(n,t,e)}return n}_compileMaterial(t){const e=new Co(this._lodPlanes[0],t);this._renderer.compile(e,nl)}_sceneToCubeUV(t,e,A,n){const r=new To(90,1,e,A),i=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,o=a.autoClear,l=a.toneMapping;a.getClearColor(rl),a.toneMapping=0,a.autoClear=!1;const c=new Ga({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),u=new Co(new Uo,c);let h=!1;const d=t.background;d?d.isColor&&(c.color.copy(d),t.background=null,h=!0):(c.color.copy(rl),h=!0);for(let f=0;f<6;f++){const e=f%3;0===e?(r.up.set(0,i[f],0),r.lookAt(s[f],0,0)):1===e?(r.up.set(0,0,i[f]),r.lookAt(0,s[f],0)):(r.up.set(0,i[f],0),r.lookAt(0,0,s[f]));const A=this._cubeSize;ul(n,e*A,f>2?A:0,A,A),a.setRenderTarget(n),h&&a.render(u,r),a.render(t,r)}u.geometry.dispose(),u.material.dispose(),a.toneMapping=l,a.autoClear=o,t.background=d}_textureToCubeUV(t,e){const A=this._renderer,n=301===t.mapping||302===t.mapping;n?(null===this._cubemapMaterial&&(this._cubemapMaterial=dl()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=hl());const r=n?this._cubemapMaterial:this._equirectMaterial,i=new Co(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const s=this._cubeSize;ul(e,0,0,3*s,2*s),A.setRenderTarget(e),A.render(i,nl)}_applyPMREM(t){const e=this._renderer,A=e.autoClear;e.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){const e=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),A=ol[(n-1)%ol.length];this._blur(t,n-1,n,e,A)}e.autoClear=A}_blur(t,e,A,n,r){const i=this._pingPongRenderTarget;this._halfBlur(t,i,e,A,n,"latitudinal",r),this._halfBlur(i,t,A,A,n,"longitudinal",r)}_halfBlur(t,e,A,n,r,i,s){const a=this._renderer,o=this._blurMaterial,l=new Co(this._lodPlanes[n],o),c=o.uniforms,u=this._sizeLods[A]-1,h=isFinite(r)?Math.PI/(2*u):2*Math.PI/39,d=r/h,f=isFinite(r)?1+Math.floor(3*d):20,p=[];let g=0;for(let w=0;w<20;++w){const t=w/d,e=Math.exp(-t*t/2);p.push(e),0===w?g+=e:w<f&&(g+=2*e)}for(let w=0;w<p.length;w++)p[w]=p[w]/g;c.envMap.value=t.texture,c.samples.value=f,c.weights.value=p,c.latitudinal.value="latitudinal"===i,s&&(c.poleAxis.value=s);const{_lodMax:m}=this;c.dTheta.value=h,c.mipInt.value=m-A;const B=this._sizeLods[n];ul(e,3*B*(n>m-4?n-m+4:0),4*(this._cubeSize-B),3*B,2*B),a.setRenderTarget(e),a.render(l,nl)}}function cl(t,e,A){const n=new bs(t,e,A);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function ul(t,e,A,n,r){t.viewport.set(e,A,n,r),t.scissor.set(e,A,n,r)}function hl(){return new So({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:fl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function dl(){return new So({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:fl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function fl(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function pl(t){let e=new WeakMap,A=null;function n(t){const A=t.target;A.removeEventListener("dispose",n);const r=e.get(A);void 0!==r&&(e.delete(A),r.dispose())}return{get:function(r){if(r&&r.isTexture){const i=r.mapping,s=303===i||304===i,a=301===i||302===i;if(s||a){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let n=e.get(r);return null===A&&(A=new ll(t)),n=s?A.fromEquirectangular(r,n):A.fromCubemap(r,n),e.set(r,n),n.texture}if(e.has(r))return e.get(r).texture;{const i=r.image;if(s&&i&&i.height>0||a&&i&&function(t){let e=0;const A=6;for(let n=0;n<A;n++)void 0!==t[n]&&e++;return e===A}(i)){null===A&&(A=new ll(t));const i=s?A.fromEquirectangular(r):A.fromCubemap(r);return e.set(r,i),r.addEventListener("dispose",n),i.texture}return null}}}return r},dispose:function(){e=new WeakMap,null!==A&&(A.dispose(),A=null)}}}function gl(t){const e={};function A(A){if(void 0!==e[A])return e[A];let n;switch(A){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(A)}return e[A]=n,n}return{has:function(t){return null!==A(t)},init:function(t){t.isWebGL2?A("EXT_color_buffer_float"):(A("WEBGL_depth_texture"),A("OES_texture_float"),A("OES_texture_half_float"),A("OES_texture_half_float_linear"),A("OES_standard_derivatives"),A("OES_element_index_uint"),A("OES_vertex_array_object"),A("ANGLE_instanced_arrays")),A("OES_texture_float_linear"),A("EXT_color_buffer_half_float"),A("WEBGL_multisampled_render_to_texture")},get:function(t){const e=A(t);return e}}}function ml(t,e,A,n){const r={},i=new WeakMap;function s(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const A in a.attributes)e.remove(a.attributes[A]);a.removeEventListener("dispose",s),delete r[a.id];const o=i.get(a);o&&(e.remove(o),i.delete(a)),n.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,A.memory.geometries--}function a(t){const A=[],n=t.index,r=t.attributes.position;let s=0;if(null!==n){const t=n.array;s=n.version;for(let e=0,n=t.length;e<n;e+=3){const n=t[e+0],r=t[e+1],i=t[e+2];A.push(n,r,r,i,i,n)}}else{const t=r.array;s=r.version;for(let e=0,n=t.length/3-1;e<n;e+=3){const t=e+0,n=e+1,r=e+2;A.push(t,n,n,r,r,t)}}const a=new(is(A)?Ja:Ya)(A,1);a.version=s;const o=i.get(t);o&&e.remove(o),i.set(t,a)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",s),r[e.id]=!0,A.memory.geometries++),e},update:function(t){const A=t.attributes;for(const r in A)e.update(A[r],34962);const n=t.morphAttributes;for(const r in n){const t=n[r];for(let A=0,n=t.length;A<n;A++)e.update(t[A],34962)}},getWireframeAttribute:function(t){const e=i.get(t);if(e){const A=t.index;null!==A&&e.version<A.version&&a(t)}else a(t);return i.get(t)}}}function Bl(t,e,A,n){const r=n.isWebGL2;let i,s,a;this.setMode=function(t){i=t},this.setIndex=function(t){s=t.type,a=t.bytesPerElement},this.render=function(e,n){t.drawElements(i,n,s,e*a),A.update(n,i,1)},this.renderInstances=function(n,o,l){if(0===l)return;let c,u;if(r)c=t,u="drawElementsInstanced";else if(c=e.get("ANGLE_instanced_arrays"),u="drawElementsInstancedANGLE",null===c)return;c[u](i,o,s,n*a,l),A.update(o,i,l)}}function wl(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,A,n){switch(e.calls++,A){case 4:e.triangles+=n*(t/3);break;case 1:e.lines+=n*(t/2);break;case 3:e.lines+=n*(t-1);break;case 2:e.lines+=n*t;break;case 0:e.points+=n*t}}}}function vl(t,e){return t[0]-e[0]}function yl(t,e){return Math.abs(e[1])-Math.abs(t[1])}function _l(t,e){let A=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?A=127:n instanceof Uint8Array?A=255:n instanceof Uint16Array?A=65535:n instanceof Int16Array?A=32767:n instanceof Int32Array&&(A=2147483647),t.divideScalar(A)}function xl(t,e,A){const n={},r=new Float32Array(8),i=new WeakMap,s=new Cs,a=[];for(let o=0;o<8;o++)a[o]=[o,0];return{update:function(o,l,c,u){const h=o.morphTargetInfluences;if(!0===e.isWebGL2){const n=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,r=void 0!==n?n.length:0;let a=i.get(l);if(void 0===a||a.count!==r){let t=function(){m.dispose(),i.delete(l),l.removeEventListener("dispose",t)};void 0!==a&&a.texture.dispose();const A=void 0!==l.morphAttributes.position,n=void 0!==l.morphAttributes.normal,o=void 0!==l.morphAttributes.color,c=l.morphAttributes.position||[],u=l.morphAttributes.normal||[],h=l.morphAttributes.color||[];let d=0;!0===A&&(d=1),!0===n&&(d=2),!0===o&&(d=3);let f=l.attributes.position.count*d,p=1;f>e.maxTextureSize&&(p=Math.ceil(f/e.maxTextureSize),f=e.maxTextureSize);const g=new Float32Array(f*p*4*r),m=new Us(g,f,p,r);m.type=1015,m.needsUpdate=!0;const B=4*d;for(let e=0;e<r;e++){const t=c[e],r=u[e],i=h[e],a=f*p*4*e;for(let e=0;e<t.count;e++){const l=e*B;!0===A&&(s.fromBufferAttribute(t,e),!0===t.normalized&&_l(s,t),g[a+l+0]=s.x,g[a+l+1]=s.y,g[a+l+2]=s.z,g[a+l+3]=0),!0===n&&(s.fromBufferAttribute(r,e),!0===r.normalized&&_l(s,r),g[a+l+4]=s.x,g[a+l+5]=s.y,g[a+l+6]=s.z,g[a+l+7]=0),!0===o&&(s.fromBufferAttribute(i,e),!0===i.normalized&&_l(s,i),g[a+l+8]=s.x,g[a+l+9]=s.y,g[a+l+10]=s.z,g[a+l+11]=4===i.itemSize?s.w:1)}}a={count:r,texture:m,size:new ns(f,p)},i.set(l,a),l.addEventListener("dispose",t)}let o=0;for(let t=0;t<h.length;t++)o+=h[t];const c=l.morphTargetsRelative?1:1-o;u.getUniforms().setValue(t,"morphTargetBaseInfluence",c),u.getUniforms().setValue(t,"morphTargetInfluences",h),u.getUniforms().setValue(t,"morphTargetsTexture",a.texture,A),u.getUniforms().setValue(t,"morphTargetsTextureSize",a.size)}else{const e=void 0===h?0:h.length;let A=n[l.id];if(void 0===A||A.length!==e){A=[];for(let t=0;t<e;t++)A[t]=[t,0];n[l.id]=A}for(let t=0;t<e;t++){const e=A[t];e[0]=t,e[1]=h[t]}A.sort(yl);for(let t=0;t<8;t++)t<e&&A[t][1]?(a[t][0]=A[t][0],a[t][1]=A[t][1]):(a[t][0]=Number.MAX_SAFE_INTEGER,a[t][1]=0);a.sort(vl);const i=l.morphAttributes.position,s=l.morphAttributes.normal;let o=0;for(let t=0;t<8;t++){const e=a[t],A=e[0],n=e[1];A!==Number.MAX_SAFE_INTEGER&&n?(i&&l.getAttribute("morphTarget"+t)!==i[A]&&l.setAttribute("morphTarget"+t,i[A]),s&&l.getAttribute("morphNormal"+t)!==s[A]&&l.setAttribute("morphNormal"+t,s[A]),r[t]=n,o+=n):(i&&!0===l.hasAttribute("morphTarget"+t)&&l.deleteAttribute("morphTarget"+t),s&&!0===l.hasAttribute("morphNormal"+t)&&l.deleteAttribute("morphNormal"+t),r[t]=0)}const c=l.morphTargetsRelative?1:1-o;u.getUniforms().setValue(t,"morphTargetBaseInfluence",c),u.getUniforms().setValue(t,"morphTargetInfluences",r)}}}}function Cl(t,e,A,n){let r=new WeakMap;function i(t){const e=t.target;e.removeEventListener("dispose",i),A.remove(e.instanceMatrix),null!==e.instanceColor&&A.remove(e.instanceColor)}return{update:function(t){const s=n.render.frame,a=t.geometry,o=e.get(t,a);return r.get(o)!==s&&(e.update(o),r.set(o,s)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",i)&&t.addEventListener("dispose",i),A.update(t.instanceMatrix,34962),null!==t.instanceColor&&A.update(t.instanceColor,34962)),o},dispose:function(){r=new WeakMap}}}const bl=new xs,Ul=new Us,Fl=new Fs,Ql=new Lo,Ml=[],Sl=[],El=new Float32Array(16),Tl=new Float32Array(9),Il=new Float32Array(4);function Ll(t,e,A){const n=t[0];if(n<=0||n>0)return t;const r=e*A;let i=Ml[r];if(void 0===i&&(i=new Float32Array(r),Ml[r]=i),0!==e){n.toArray(i,0);for(let n=1,r=0;n!==e;++n)r+=A,t[n].toArray(i,r)}return i}function Dl(t,e){if(t.length!==e.length)return!1;for(let A=0,n=t.length;A<n;A++)if(t[A]!==e[A])return!1;return!0}function Hl(t,e){for(let A=0,n=e.length;A<n;A++)t[A]=e[A]}function Pl(t,e){let A=Sl[e];void 0===A&&(A=new Int32Array(e),Sl[e]=A);for(let n=0;n!==e;++n)A[n]=t.allocateTextureUnit();return A}function Ol(t,e){const A=this.cache;A[0]!==e&&(t.uniform1f(this.addr,e),A[0]=e)}function Rl(t,e){const A=this.cache;if(void 0!==e.x)A[0]===e.x&&A[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),A[0]=e.x,A[1]=e.y);else{if(Dl(A,e))return;t.uniform2fv(this.addr,e),Hl(A,e)}}function Nl(t,e){const A=this.cache;if(void 0!==e.x)A[0]===e.x&&A[1]===e.y&&A[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),A[0]=e.x,A[1]=e.y,A[2]=e.z);else if(void 0!==e.r)A[0]===e.r&&A[1]===e.g&&A[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),A[0]=e.r,A[1]=e.g,A[2]=e.b);else{if(Dl(A,e))return;t.uniform3fv(this.addr,e),Hl(A,e)}}function kl(t,e){const A=this.cache;if(void 0!==e.x)A[0]===e.x&&A[1]===e.y&&A[2]===e.z&&A[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),A[0]=e.x,A[1]=e.y,A[2]=e.z,A[3]=e.w);else{if(Dl(A,e))return;t.uniform4fv(this.addr,e),Hl(A,e)}}function Vl(t,e){const A=this.cache,n=e.elements;if(void 0===n){if(Dl(A,e))return;t.uniformMatrix2fv(this.addr,!1,e),Hl(A,e)}else{if(Dl(A,n))return;Il.set(n),t.uniformMatrix2fv(this.addr,!1,Il),Hl(A,n)}}function zl(t,e){const A=this.cache,n=e.elements;if(void 0===n){if(Dl(A,e))return;t.uniformMatrix3fv(this.addr,!1,e),Hl(A,e)}else{if(Dl(A,n))return;Tl.set(n),t.uniformMatrix3fv(this.addr,!1,Tl),Hl(A,n)}}function Kl(t,e){const A=this.cache,n=e.elements;if(void 0===n){if(Dl(A,e))return;t.uniformMatrix4fv(this.addr,!1,e),Hl(A,e)}else{if(Dl(A,n))return;El.set(n),t.uniformMatrix4fv(this.addr,!1,El),Hl(A,n)}}function Gl(t,e){const A=this.cache;A[0]!==e&&(t.uniform1i(this.addr,e),A[0]=e)}function Wl(t,e){const A=this.cache;Dl(A,e)||(t.uniform2iv(this.addr,e),Hl(A,e))}function Xl(t,e){const A=this.cache;Dl(A,e)||(t.uniform3iv(this.addr,e),Hl(A,e))}function jl(t,e){const A=this.cache;Dl(A,e)||(t.uniform4iv(this.addr,e),Hl(A,e))}function Yl(t,e){const A=this.cache;A[0]!==e&&(t.uniform1ui(this.addr,e),A[0]=e)}function Jl(t,e){const A=this.cache;Dl(A,e)||(t.uniform2uiv(this.addr,e),Hl(A,e))}function ql(t,e){const A=this.cache;Dl(A,e)||(t.uniform3uiv(this.addr,e),Hl(A,e))}function Zl(t,e){const A=this.cache;Dl(A,e)||(t.uniform4uiv(this.addr,e),Hl(A,e))}function $l(t,e,A){const n=this.cache,r=A.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),A.setTexture2D(e||bl,r)}function tc(t,e,A){const n=this.cache,r=A.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),A.setTexture3D(e||Fl,r)}function ec(t,e,A){const n=this.cache,r=A.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),A.setTextureCube(e||Ql,r)}function Ac(t,e,A){const n=this.cache,r=A.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),A.setTexture2DArray(e||Ul,r)}function nc(t,e){t.uniform1fv(this.addr,e)}function rc(t,e){const A=Ll(e,this.size,2);t.uniform2fv(this.addr,A)}function ic(t,e){const A=Ll(e,this.size,3);t.uniform3fv(this.addr,A)}function sc(t,e){const A=Ll(e,this.size,4);t.uniform4fv(this.addr,A)}function ac(t,e){const A=Ll(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,A)}function oc(t,e){const A=Ll(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,A)}function lc(t,e){const A=Ll(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,A)}function cc(t,e){t.uniform1iv(this.addr,e)}function uc(t,e){t.uniform2iv(this.addr,e)}function hc(t,e){t.uniform3iv(this.addr,e)}function dc(t,e){t.uniform4iv(this.addr,e)}function fc(t,e){t.uniform1uiv(this.addr,e)}function pc(t,e){t.uniform2uiv(this.addr,e)}function gc(t,e){t.uniform3uiv(this.addr,e)}function mc(t,e){t.uniform4uiv(this.addr,e)}function Bc(t,e,A){const n=e.length,r=Pl(A,n);t.uniform1iv(this.addr,r);for(let i=0;i!==n;++i)A.setTexture2D(e[i]||bl,r[i])}function wc(t,e,A){const n=e.length,r=Pl(A,n);t.uniform1iv(this.addr,r);for(let i=0;i!==n;++i)A.setTexture3D(e[i]||Fl,r[i])}function vc(t,e,A){const n=e.length,r=Pl(A,n);t.uniform1iv(this.addr,r);for(let i=0;i!==n;++i)A.setTextureCube(e[i]||Ql,r[i])}function yc(t,e,A){const n=e.length,r=Pl(A,n);t.uniform1iv(this.addr,r);for(let i=0;i!==n;++i)A.setTexture2DArray(e[i]||Ul,r[i])}class _c{constructor(t,e,A){this.id=t,this.addr=A,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Ol;case 35664:return Rl;case 35665:return Nl;case 35666:return kl;case 35674:return Vl;case 35675:return zl;case 35676:return Kl;case 5124:case 35670:return Gl;case 35667:case 35671:return Wl;case 35668:case 35672:return Xl;case 35669:case 35673:return jl;case 5125:return Yl;case 36294:return Jl;case 36295:return ql;case 36296:return Zl;case 35678:case 36198:case 36298:case 36306:case 35682:return $l;case 35679:case 36299:case 36307:return tc;case 35680:case 36300:case 36308:case 36293:return ec;case 36289:case 36303:case 36311:case 36292:return Ac}}(e.type)}}class xc{constructor(t,e,A){this.id=t,this.addr=A,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return nc;case 35664:return rc;case 35665:return ic;case 35666:return sc;case 35674:return ac;case 35675:return oc;case 35676:return lc;case 5124:case 35670:return cc;case 35667:case 35671:return uc;case 35668:case 35672:return hc;case 35669:case 35673:return dc;case 5125:return fc;case 36294:return pc;case 36295:return gc;case 36296:return mc;case 35678:case 36198:case 36298:case 36306:case 35682:return Bc;case 35679:case 36299:case 36307:return wc;case 35680:case 36300:case 36308:case 36293:return vc;case 36289:case 36303:case 36311:case 36292:return yc}}(e.type)}}class Cc{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,A){const n=this.seq;for(let r=0,i=n.length;r!==i;++r){const i=n[r];i.setValue(t,e[i.id],A)}}}const bc=/(\w+)(\])?(\[|\.)?/g;function Uc(t,e){t.seq.push(e),t.map[e.id]=e}function Fc(t,e,A){const n=t.name,r=n.length;for(bc.lastIndex=0;;){const i=bc.exec(n),s=bc.lastIndex;let a=i[1];const o="]"===i[2],l=i[3];if(o&&(a|=0),void 0===l||"["===l&&s+2===r){Uc(A,void 0===l?new _c(a,t,e):new xc(a,t,e));break}{let t=A.map[a];void 0===t&&(t=new Cc(a),Uc(A,t)),A=t}}}class Qc{constructor(t,e){this.seq=[],this.map={};const A=t.getProgramParameter(e,35718);for(let n=0;n<A;++n){const A=t.getActiveUniform(e,n);Fc(A,t.getUniformLocation(e,A.name),this)}}setValue(t,e,A,n){const r=this.map[e];void 0!==r&&r.setValue(t,A,n)}setOptional(t,e,A){const n=e[A];void 0!==n&&this.setValue(t,A,n)}static upload(t,e,A,n){for(let r=0,i=e.length;r!==i;++r){const i=e[r],s=A[i.id];!1!==s.needsUpdate&&i.setValue(t,s.value,n)}}static seqWithValue(t,e){const A=[];for(let n=0,r=t.length;n!==r;++n){const r=t[n];r.id in e&&A.push(r)}return A}}function Mc(t,e,A){const n=t.createShader(e);return t.shaderSource(n,A),t.compileShader(n),n}let Sc=0;function Ec(t,e,A){const n=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(n&&""===r)return"";const i=/ERROR: 0:(\d+)/.exec(r);if(i){const n=parseInt(i[1]);return A.toUpperCase()+"\n\n"+r+"\n\n"+function(t,e){const A=t.split("\n"),n=[],r=Math.max(e-6,0),i=Math.min(e+6,A.length);for(let s=r;s<i;s++){const t=s+1;n.push(`${t===e?">":" "} ${t}: ${A[s]}`)}return n.join("\n")}(t.getShaderSource(e),n)}return r}function Tc(t,e){const A=function(t){switch(t){case 3e3:default:return["Linear","( value )"];case 3001:return["sRGB","( value )"]}}(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+A[0]+A[1]+"; }"}function Ic(t,e){let A;switch(e){case 1:default:A="Linear";break;case 2:A="Reinhard";break;case 3:A="OptimizedCineon";break;case 4:A="ACESFilmic";break;case 5:A="Custom"}return"vec3 "+t+"( vec3 color ) { return "+A+"ToneMapping( color ); }"}function Lc(t){return""!==t}function Dc(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Hc(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Pc=/^[ \t]*#include +<([\w\d./]+)>/gm;function Oc(t){return t.replace(Pc,Rc)}function Rc(t,e){const A=Wo[e];if(void 0===A)throw new Error("Can not resolve #include <"+e+">");return Oc(A)}const Nc=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,kc=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Vc(t){return t.replace(kc,Kc).replace(Nc,zc)}function zc(t,e,A,n){return Kc(t,e,A,n)}function Kc(t,e,A,n){let r="";for(let i=parseInt(e);i<parseInt(A);i++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return r}function Gc(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Wc(t,e,A,n){const r=t.getContext(),i=A.defines;let s=A.vertexShader,a=A.fragmentShader;const o=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(A),l=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(A),c=function(t){let e="ENVMAP_MODE_REFLECTION";t.envMap&&302===t.envMapMode&&(e="ENVMAP_MODE_REFRACTION");return e}(A),u=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(A),h=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const A=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,A),112)),texelHeight:n,maxMip:A}}(A),d=A.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Lc).join("\n")}(A),f=function(t){const e=[];for(const A in t){const n=t[A];!1!==n&&e.push("#define "+A+" "+n)}return e.join("\n")}(i),p=r.createProgram();let g,m,B=A.glslVersion?"#version "+A.glslVersion+"\n":"";A.isRawShaderMaterial?(g=[f].filter(Lc).join("\n"),g.length>0&&(g+="\n"),m=[d,f].filter(Lc).join("\n"),m.length>0&&(m+="\n")):(g=[Gc(A),"#define SHADER_NAME "+A.shaderName,f,A.instancing?"#define USE_INSTANCING":"",A.instancingColor?"#define USE_INSTANCING_COLOR":"",A.supportsVertexTextures?"#define VERTEX_TEXTURES":"",A.useFog&&A.fog?"#define USE_FOG":"",A.useFog&&A.fogExp2?"#define FOG_EXP2":"",A.map?"#define USE_MAP":"",A.envMap?"#define USE_ENVMAP":"",A.envMap?"#define "+c:"",A.lightMap?"#define USE_LIGHTMAP":"",A.aoMap?"#define USE_AOMAP":"",A.emissiveMap?"#define USE_EMISSIVEMAP":"",A.bumpMap?"#define USE_BUMPMAP":"",A.normalMap?"#define USE_NORMALMAP":"",A.normalMap&&A.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",A.normalMap&&A.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",A.clearcoatMap?"#define USE_CLEARCOATMAP":"",A.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",A.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",A.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",A.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",A.displacementMap&&A.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",A.specularMap?"#define USE_SPECULARMAP":"",A.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",A.specularColorMap?"#define USE_SPECULARCOLORMAP":"",A.roughnessMap?"#define USE_ROUGHNESSMAP":"",A.metalnessMap?"#define USE_METALNESSMAP":"",A.alphaMap?"#define USE_ALPHAMAP":"",A.transmission?"#define USE_TRANSMISSION":"",A.transmissionMap?"#define USE_TRANSMISSIONMAP":"",A.thicknessMap?"#define USE_THICKNESSMAP":"",A.sheenColorMap?"#define USE_SHEENCOLORMAP":"",A.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",A.vertexTangents?"#define USE_TANGENT":"",A.vertexColors?"#define USE_COLOR":"",A.vertexAlphas?"#define USE_COLOR_ALPHA":"",A.vertexUvs?"#define USE_UV":"",A.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",A.flatShading?"#define FLAT_SHADED":"",A.skinning?"#define USE_SKINNING":"",A.morphTargets?"#define USE_MORPHTARGETS":"",A.morphNormals&&!1===A.flatShading?"#define USE_MORPHNORMALS":"",A.morphColors&&A.isWebGL2?"#define USE_MORPHCOLORS":"",A.morphTargetsCount>0&&A.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",A.morphTargetsCount>0&&A.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+A.morphTextureStride:"",A.morphTargetsCount>0&&A.isWebGL2?"#define MORPHTARGETS_COUNT "+A.morphTargetsCount:"",A.doubleSided?"#define DOUBLE_SIDED":"",A.flipSided?"#define FLIP_SIDED":"",A.shadowMapEnabled?"#define USE_SHADOWMAP":"",A.shadowMapEnabled?"#define "+o:"",A.sizeAttenuation?"#define USE_SIZEATTENUATION":"",A.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",A.logarithmicDepthBuffer&&A.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Lc).join("\n"),m=[d,Gc(A),"#define SHADER_NAME "+A.shaderName,f,A.useFog&&A.fog?"#define USE_FOG":"",A.useFog&&A.fogExp2?"#define FOG_EXP2":"",A.map?"#define USE_MAP":"",A.matcap?"#define USE_MATCAP":"",A.envMap?"#define USE_ENVMAP":"",A.envMap?"#define "+l:"",A.envMap?"#define "+c:"",A.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",A.lightMap?"#define USE_LIGHTMAP":"",A.aoMap?"#define USE_AOMAP":"",A.emissiveMap?"#define USE_EMISSIVEMAP":"",A.bumpMap?"#define USE_BUMPMAP":"",A.normalMap?"#define USE_NORMALMAP":"",A.normalMap&&A.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",A.normalMap&&A.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",A.clearcoat?"#define USE_CLEARCOAT":"",A.clearcoatMap?"#define USE_CLEARCOATMAP":"",A.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",A.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",A.iridescence?"#define USE_IRIDESCENCE":"",A.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",A.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",A.specularMap?"#define USE_SPECULARMAP":"",A.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",A.specularColorMap?"#define USE_SPECULARCOLORMAP":"",A.roughnessMap?"#define USE_ROUGHNESSMAP":"",A.metalnessMap?"#define USE_METALNESSMAP":"",A.alphaMap?"#define USE_ALPHAMAP":"",A.alphaTest?"#define USE_ALPHATEST":"",A.sheen?"#define USE_SHEEN":"",A.sheenColorMap?"#define USE_SHEENCOLORMAP":"",A.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",A.transmission?"#define USE_TRANSMISSION":"",A.transmissionMap?"#define USE_TRANSMISSIONMAP":"",A.thicknessMap?"#define USE_THICKNESSMAP":"",A.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",A.vertexTangents?"#define USE_TANGENT":"",A.vertexColors||A.instancingColor?"#define USE_COLOR":"",A.vertexAlphas?"#define USE_COLOR_ALPHA":"",A.vertexUvs?"#define USE_UV":"",A.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",A.gradientMap?"#define USE_GRADIENTMAP":"",A.flatShading?"#define FLAT_SHADED":"",A.doubleSided?"#define DOUBLE_SIDED":"",A.flipSided?"#define FLIP_SIDED":"",A.shadowMapEnabled?"#define USE_SHADOWMAP":"",A.shadowMapEnabled?"#define "+o:"",A.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",A.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",A.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",A.logarithmicDepthBuffer&&A.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==A.toneMapping?"#define TONE_MAPPING":"",0!==A.toneMapping?Wo.tonemapping_pars_fragment:"",0!==A.toneMapping?Ic("toneMapping",A.toneMapping):"",A.dithering?"#define DITHERING":"",A.opaque?"#define OPAQUE":"",Wo.encodings_pars_fragment,Tc("linearToOutputTexel",A.outputEncoding),A.useDepthPacking?"#define DEPTH_PACKING "+A.depthPacking:"","\n"].filter(Lc).join("\n")),s=Oc(s),s=Dc(s,A),s=Hc(s,A),a=Oc(a),a=Dc(a,A),a=Hc(a,A),s=Vc(s),a=Vc(a),A.isWebGL2&&!0!==A.isRawShaderMaterial&&(B="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,m=["#define varying in","300 es"===A.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===A.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const w=B+m+a,v=Mc(r,35633,B+g+s),y=Mc(r,35632,w);if(r.attachShader(p,v),r.attachShader(p,y),void 0!==A.index0AttributeName?r.bindAttribLocation(p,0,A.index0AttributeName):!0===A.morphTargets&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(p).trim(),e=r.getShaderInfoLog(v).trim(),A=r.getShaderInfoLog(y).trim();let n=!0,i=!0;if(!1===r.getProgramParameter(p,35714)){n=!1;Ec(r,v,"vertex"),Ec(r,y,"fragment")}else""!==t||""!==e&&""!==A||(i=!1);i&&(this.diagnostics={runnable:n,programLog:t,vertexShader:{log:e,prefix:g},fragmentShader:{log:A,prefix:m}})}let _,x;return r.deleteShader(v),r.deleteShader(y),this.getUniforms=function(){return void 0===_&&(_=new Qc(r,p)),_},this.getAttributes=function(){return void 0===x&&(x=function(t,e){const A={},n=t.getProgramParameter(e,35721);for(let r=0;r<n;r++){const n=t.getActiveAttrib(e,r),i=n.name;let s=1;35674===n.type&&(s=2),35675===n.type&&(s=3),35676===n.type&&(s=4),A[i]={type:n.type,location:t.getAttribLocation(e,i),locationSize:s}}return A}(r,p)),x},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.name=A.shaderName,this.id=Sc++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=v,this.fragmentShader=y,this}let Xc=0;class jc{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,A=t.fragmentShader,n=this._getShaderStage(e),r=this._getShaderStage(A),i=this._getShaderCacheForMaterial(t);return!1===i.has(n)&&(i.add(n),n.usedTimes++),!1===i.has(r)&&(i.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const A of e)A.usedTimes--,0===A.usedTimes&&this.shaderCache.delete(A.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const A=new Yc(t);e.set(t,A)}return e.get(t)}}class Yc{constructor(t){this.id=Xc++,this.code=t,this.usedTimes=0}}function Jc(t,e,A,n,r,i,s){const a=new ma,o=new jc,l=[],c=r.isWebGL2,u=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(i,a,l,p,g){const m=p.fog,B=g.geometry,w=i.isMeshStandardMaterial?p.environment:null,v=(i.isMeshStandardMaterial?A:e).get(i.envMap||w),y=v&&306===v.mapping?v.image.height:null,_=f[i.type];null!==i.precision&&(d=r.getMaxPrecision(i.precision),i.precision);const x=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,C=void 0!==x?x.length:0;let b,U,F,Q,M=0;if(void 0!==B.morphAttributes.position&&(M=1),void 0!==B.morphAttributes.normal&&(M=2),void 0!==B.morphAttributes.color&&(M=3),_){const t=jo[_];b=t.vertexShader,U=t.fragmentShader}else b=i.vertexShader,U=i.fragmentShader,o.update(i),F=o.getVertexShaderID(i),Q=o.getFragmentShaderID(i);const S=t.getRenderTarget(),E=i.alphaTest>0,T=i.clearcoat>0,I=i.iridescence>0;return{isWebGL2:c,shaderID:_,shaderName:i.type,vertexShader:b,fragmentShader:U,defines:i.defines,customVertexShaderID:F,customFragmentShaderID:Q,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===g.isInstancedMesh,instancingColor:!0===g.isInstancedMesh&&null!==g.instanceColor,supportsVertexTextures:h,outputEncoding:null===S?t.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:3e3,map:!!i.map,matcap:!!i.matcap,envMap:!!v,envMapMode:v&&v.mapping,envMapCubeUVHeight:y,lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,decodeVideoTexture:!!i.map&&!0===i.map.isVideoTexture&&3001===i.map.encoding,clearcoat:T,clearcoatMap:T&&!!i.clearcoatMap,clearcoatRoughnessMap:T&&!!i.clearcoatRoughnessMap,clearcoatNormalMap:T&&!!i.clearcoatNormalMap,iridescence:I,iridescenceMap:I&&!!i.iridescenceMap,iridescenceThicknessMap:I&&!!i.iridescenceThicknessMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,specularIntensityMap:!!i.specularIntensityMap,specularColorMap:!!i.specularColorMap,opaque:!1===i.transparent&&1===i.blending,alphaMap:!!i.alphaMap,alphaTest:E,gradientMap:!!i.gradientMap,sheen:i.sheen>0,sheenColorMap:!!i.sheenColorMap,sheenRoughnessMap:!!i.sheenRoughnessMap,transmission:i.transmission>0,transmissionMap:!!i.transmissionMap,thicknessMap:!!i.thicknessMap,combine:i.combine,vertexTangents:!!i.normalMap&&!!B.attributes.tangent,vertexColors:i.vertexColors,vertexAlphas:!0===i.vertexColors&&!!B.attributes.color&&4===B.attributes.color.itemSize,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.iridescenceMap||i.iridescenceThicknessMap||i.displacementMap||i.transmissionMap||i.thicknessMap||i.specularIntensityMap||i.specularColorMap||i.sheenColorMap||i.sheenRoughnessMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.iridescenceMap||i.iridescenceThicknessMap||i.transmission>0||i.transmissionMap||i.thicknessMap||i.specularIntensityMap||i.specularColorMap||i.sheen>0||i.sheenColorMap||i.sheenRoughnessMap||!i.displacementMap),fog:!!m,useFog:!0===i.fog,fogExp2:m&&m.isFogExp2,flatShading:!!i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==B.morphAttributes.position,morphNormals:void 0!==B.morphAttributes.normal,morphColors:void 0!==B.morphAttributes.color,morphTargetsCount:C,morphTextureStride:M,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:i.dithering,shadowMapEnabled:t.shadowMap.enabled&&l.length>0,shadowMapType:t.shadowMap.type,toneMapping:i.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,doubleSided:2===i.side,flipSided:1===i.side,useDepthPacking:!!i.depthPacking,depthPacking:i.depthPacking||0,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(e){const A=[];if(e.shaderID?A.push(e.shaderID):(A.push(e.customVertexShaderID),A.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)A.push(t),A.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputEncoding),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.combine),t.push(e.vertexUvs),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(A,e),function(t,e){a.disableAll(),e.isWebGL2&&a.enable(0);e.supportsVertexTextures&&a.enable(1);e.instancing&&a.enable(2);e.instancingColor&&a.enable(3);e.map&&a.enable(4);e.matcap&&a.enable(5);e.envMap&&a.enable(6);e.lightMap&&a.enable(7);e.aoMap&&a.enable(8);e.emissiveMap&&a.enable(9);e.bumpMap&&a.enable(10);e.normalMap&&a.enable(11);e.objectSpaceNormalMap&&a.enable(12);e.tangentSpaceNormalMap&&a.enable(13);e.clearcoat&&a.enable(14);e.clearcoatMap&&a.enable(15);e.clearcoatRoughnessMap&&a.enable(16);e.clearcoatNormalMap&&a.enable(17);e.iridescence&&a.enable(18);e.iridescenceMap&&a.enable(19);e.iridescenceThicknessMap&&a.enable(20);e.displacementMap&&a.enable(21);e.specularMap&&a.enable(22);e.roughnessMap&&a.enable(23);e.metalnessMap&&a.enable(24);e.gradientMap&&a.enable(25);e.alphaMap&&a.enable(26);e.alphaTest&&a.enable(27);e.vertexColors&&a.enable(28);e.vertexAlphas&&a.enable(29);e.vertexUvs&&a.enable(30);e.vertexTangents&&a.enable(31);e.uvsVertexOnly&&a.enable(32);e.fog&&a.enable(33);t.push(a.mask),a.disableAll(),e.useFog&&a.enable(0);e.flatShading&&a.enable(1);e.logarithmicDepthBuffer&&a.enable(2);e.skinning&&a.enable(3);e.morphTargets&&a.enable(4);e.morphNormals&&a.enable(5);e.morphColors&&a.enable(6);e.premultipliedAlpha&&a.enable(7);e.shadowMapEnabled&&a.enable(8);e.physicallyCorrectLights&&a.enable(9);e.doubleSided&&a.enable(10);e.flipSided&&a.enable(11);e.useDepthPacking&&a.enable(12);e.dithering&&a.enable(13);e.specularIntensityMap&&a.enable(14);e.specularColorMap&&a.enable(15);e.transmission&&a.enable(16);e.transmissionMap&&a.enable(17);e.thicknessMap&&a.enable(18);e.sheen&&a.enable(19);e.sheenColorMap&&a.enable(20);e.sheenRoughnessMap&&a.enable(21);e.decodeVideoTexture&&a.enable(22);e.opaque&&a.enable(23);t.push(a.mask)}(A,e),A.push(t.outputEncoding)),A.push(e.customProgramCacheKey),A.join()},getUniforms:function(t){const e=f[t.type];let A;if(e){const t=jo[e];A=Mo.clone(t.uniforms)}else A=t.uniforms;return A},acquireProgram:function(e,A){let n;for(let t=0,r=l.length;t<r;t++){const e=l[t];if(e.cacheKey===A){n=e,++n.usedTimes;break}}return void 0===n&&(n=new Wc(t,A,e,i),l.push(n)),n},releaseProgram:function(t){if(0==--t.usedTimes){const e=l.indexOf(t);l[e]=l[l.length-1],l.pop(),t.destroy()}},releaseShaderCache:function(t){o.remove(t)},programs:l,dispose:function(){o.dispose()}}}function qc(){let t=new WeakMap;return{get:function(e){let A=t.get(e);return void 0===A&&(A={},t.set(e,A)),A},remove:function(e){t.delete(e)},update:function(e,A,n){t.get(e)[A]=n},dispose:function(){t=new WeakMap}}}function Zc(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function $c(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function tu(){const t=[];let e=0;const A=[],n=[],r=[];function i(A,n,r,i,s,a){let o=t[e];return void 0===o?(o={id:A.id,object:A,geometry:n,material:r,groupOrder:i,renderOrder:A.renderOrder,z:s,group:a},t[e]=o):(o.id=A.id,o.object=A,o.geometry=n,o.material=r,o.groupOrder=i,o.renderOrder=A.renderOrder,o.z=s,o.group=a),e++,o}return{opaque:A,transmissive:n,transparent:r,init:function(){e=0,A.length=0,n.length=0,r.length=0},push:function(t,e,s,a,o,l){const c=i(t,e,s,a,o,l);s.transmission>0?n.push(c):!0===s.transparent?r.push(c):A.push(c)},unshift:function(t,e,s,a,o,l){const c=i(t,e,s,a,o,l);s.transmission>0?n.unshift(c):!0===s.transparent?r.unshift(c):A.unshift(c)},finish:function(){for(let A=e,n=t.length;A<n;A++){const e=t[A];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){A.length>1&&A.sort(t||Zc),n.length>1&&n.sort(e||$c),r.length>1&&r.sort(e||$c)}}}function eu(){let t=new WeakMap;return{get:function(e,A){let n;return!1===t.has(e)?(n=new tu,t.set(e,[n])):A>=t.get(e).length?(n=new tu,t.get(e).push(n)):n=t.get(e)[A],n},dispose:function(){t=new WeakMap}}}function Au(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let A;switch(e.type){case"DirectionalLight":A={direction:new Ms,color:new ms};break;case"SpotLight":A={position:new Ms,direction:new Ms,color:new ms,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":A={position:new Ms,color:new ms,distance:0,decay:0};break;case"HemisphereLight":A={direction:new Ms,skyColor:new ms,groundColor:new ms};break;case"RectAreaLight":A={color:new ms,position:new Ms,halfWidth:new Ms,halfHeight:new Ms}}return t[e.id]=A,A}}}let nu=0;function ru(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function iu(t,e){const A=new Au,n=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let A;switch(e.type){case"DirectionalLight":case"SpotLight":A={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ns};break;case"PointLight":A={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ns,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=A,A}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let o=0;o<9;o++)r.probe.push(new Ms);const i=new Ms,s=new sa,a=new sa;return{setup:function(i,s){let a=0,o=0,l=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let c=0,u=0,h=0,d=0,f=0,p=0,g=0,m=0;i.sort(ru);const B=!0!==s?Math.PI:1;for(let t=0,e=i.length;t<e;t++){const e=i[t],s=e.color,w=e.intensity,v=e.distance,y=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)a+=s.r*w*B,o+=s.g*w*B,l+=s.b*w*B;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],w);else if(e.isDirectionalLight){const t=A.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*B),e.castShadow){const t=e.shadow,A=n.get(e);A.shadowBias=t.bias,A.shadowNormalBias=t.normalBias,A.shadowRadius=t.radius,A.shadowMapSize=t.mapSize,r.directionalShadow[c]=A,r.directionalShadowMap[c]=y,r.directionalShadowMatrix[c]=e.shadow.matrix,p++}r.directional[c]=t,c++}else if(e.isSpotLight){const t=A.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(s).multiplyScalar(w*B),t.distance=v,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,A=n.get(e);A.shadowBias=t.bias,A.shadowNormalBias=t.normalBias,A.shadowRadius=t.radius,A.shadowMapSize=t.mapSize,r.spotShadow[h]=A,r.spotShadowMap[h]=y,r.spotShadowMatrix[h]=e.shadow.matrix,m++}r.spot[h]=t,h++}else if(e.isRectAreaLight){const t=A.get(e);t.color.copy(s).multiplyScalar(w),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[d]=t,d++}else if(e.isPointLight){const t=A.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity*B),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,A=n.get(e);A.shadowBias=t.bias,A.shadowNormalBias=t.normalBias,A.shadowRadius=t.radius,A.shadowMapSize=t.mapSize,A.shadowCameraNear=t.camera.near,A.shadowCameraFar=t.camera.far,r.pointShadow[u]=A,r.pointShadowMap[u]=y,r.pointShadowMatrix[u]=e.shadow.matrix,g++}r.point[u]=t,u++}else if(e.isHemisphereLight){const t=A.get(e);t.skyColor.copy(e.color).multiplyScalar(w*B),t.groundColor.copy(e.groundColor).multiplyScalar(w*B),r.hemi[f]=t,f++}}d>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=Xo.LTC_FLOAT_1,r.rectAreaLTC2=Xo.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")&&(r.rectAreaLTC1=Xo.LTC_HALF_1,r.rectAreaLTC2=Xo.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=l;const w=r.hash;w.directionalLength===c&&w.pointLength===u&&w.spotLength===h&&w.rectAreaLength===d&&w.hemiLength===f&&w.numDirectionalShadows===p&&w.numPointShadows===g&&w.numSpotShadows===m||(r.directional.length=c,r.spot.length=h,r.rectArea.length=d,r.point.length=u,r.hemi.length=f,r.directionalShadow.length=p,r.directionalShadowMap.length=p,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=p,r.pointShadowMatrix.length=g,r.spotShadowMatrix.length=m,w.directionalLength=c,w.pointLength=u,w.spotLength=h,w.rectAreaLength=d,w.hemiLength=f,w.numDirectionalShadows=p,w.numPointShadows=g,w.numSpotShadows=m,r.version=nu++)},setupView:function(t,e){let A=0,n=0,o=0,l=0,c=0;const u=e.matrixWorldInverse;for(let h=0,d=t.length;h<d;h++){const e=t[h];if(e.isDirectionalLight){const t=r.directional[A];t.direction.setFromMatrixPosition(e.matrixWorld),i.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(i),t.direction.transformDirection(u),A++}else if(e.isSpotLight){const t=r.spot[o];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),t.direction.setFromMatrixPosition(e.matrixWorld),i.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(i),t.direction.transformDirection(u),o++}else if(e.isRectAreaLight){const t=r.rectArea[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),a.identity(),s.copy(e.matrixWorld),s.premultiply(u),a.extractRotation(s),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),l++}else if(e.isPointLight){const t=r.point[n];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(u),n++}else if(e.isHemisphereLight){const t=r.hemi[c];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(u),c++}}},state:r}}function su(t,e){const A=new iu(t,e),n=[],r=[];return{init:function(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:A},setupLights:function(t){A.setup(n,t)},setupLightsView:function(t){A.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){r.push(t)}}}function au(t,e){let A=new WeakMap;return{get:function(n,r=0){let i;return!1===A.has(n)?(i=new su(t,e),A.set(n,[i])):r>=A.get(n).length?(i=new su(t,e),A.get(n).push(i)):i=A.get(n)[r],i},dispose:function(){A=new WeakMap}}}class ou extends Ka{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class lu extends Ka{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Ms,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function cu(t,e,A){let n=new Vo;const r=new ns,i=new ns,s=new Cs,a=new ou({depthPacking:3201}),o=new lu,l={},c=A.maxTextureSize,u={0:1,1:0,2:2},h=new So({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ns},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const f=new io;f.setAttribute("position",new ja(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Co(f,h),g=this;function m(A,n){const i=e.update(p);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,d.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),null===A.mapPass&&(A.mapPass=new bs(r.x,r.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(n,null,i,h,p,null),d.uniforms.shadow_pass.value=A.mapPass.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(n,null,i,d,p,null)}function B(e,A,n,r,i,s){let c=null;const h=!0===n.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(c=void 0!==h?h:!0===n.isPointLight?o:a,t.localClippingEnabled&&!0===A.clipShadows&&Array.isArray(A.clippingPlanes)&&0!==A.clippingPlanes.length||A.displacementMap&&0!==A.displacementScale||A.alphaMap&&A.alphaTest>0){const t=c.uuid,e=A.uuid;let n=l[t];void 0===n&&(n={},l[t]=n);let r=n[e];void 0===r&&(r=c.clone(),n[e]=r),c=r}return c.visible=A.visible,c.wireframe=A.wireframe,c.side=3===s?null!==A.shadowSide?A.shadowSide:A.side:null!==A.shadowSide?A.shadowSide:u[A.side],c.alphaMap=A.alphaMap,c.alphaTest=A.alphaTest,c.clipShadows=A.clipShadows,c.clippingPlanes=A.clippingPlanes,c.clipIntersection=A.clipIntersection,c.displacementMap=A.displacementMap,c.displacementScale=A.displacementScale,c.displacementBias=A.displacementBias,c.wireframeLinewidth=A.wireframeLinewidth,c.linewidth=A.linewidth,!0===n.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(n.matrixWorld),c.nearDistance=r,c.farDistance=i),c}function w(A,r,i,s,a){if(!1===A.visible)return;if(A.layers.test(r.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&3===a)&&(!A.frustumCulled||n.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,A.matrixWorld);const n=e.update(A),r=A.material;if(Array.isArray(r)){const e=n.groups;for(let o=0,l=e.length;o<l;o++){const l=e[o],c=r[l.materialIndex];if(c&&c.visible){const e=B(A,c,s,i.near,i.far,a);t.renderBufferDirect(i,null,n,e,A,l)}}}else if(r.visible){const e=B(A,r,s,i.near,i.far,a);t.renderBufferDirect(i,null,n,e,A,null)}}const o=A.children;for(let t=0,e=o.length;t<e;t++)w(o[t],r,i,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,A,a){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===e.length)return;const o=t.getRenderTarget(),l=t.getActiveCubeFace(),u=t.getActiveMipmapLevel(),h=t.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(let d=0,f=e.length;d<f;d++){const o=e[d],l=o.shadow;if(void 0===l)continue;if(!1===l.autoUpdate&&!1===l.needsUpdate)continue;r.copy(l.mapSize);const u=l.getFrameExtents();if(r.multiply(u),i.copy(l.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(i.x=Math.floor(c/u.x),r.x=i.x*u.x,l.mapSize.x=i.x),r.y>c&&(i.y=Math.floor(c/u.y),r.y=i.y*u.y,l.mapSize.y=i.y)),null===l.map){const t=3!==this.type?{minFilter:1003,magFilter:1003}:{};l.map=new bs(r.x,r.y,t),l.map.texture.name=o.name+".shadowMap",l.camera.updateProjectionMatrix()}t.setRenderTarget(l.map),t.clear();const f=l.getViewportCount();for(let t=0;t<f;t++){const e=l.getViewport(t);s.set(i.x*e.x,i.y*e.y,i.x*e.z,i.y*e.w),h.viewport(s),l.updateMatrices(o,t),n=l.getFrustum(),w(A,a,l.camera,o,this.type)}!0!==l.isPointLightShadow&&3===this.type&&m(l,a),l.needsUpdate=!1}g.needsUpdate=!1,t.setRenderTarget(o,l,u)}}function uu(t,e,A){const n=A.isWebGL2;const r=new function(){let e=!1;const A=new Cs;let n=null;const r=new Cs(0,0,0,0);return{setMask:function(A){n===A||e||(t.colorMask(A,A,A,A),n=A)},setLocked:function(t){e=t},setClear:function(e,n,i,s,a){!0===a&&(e*=s,n*=s,i*=s),A.set(e,n,i,s),!1===r.equals(A)&&(t.clearColor(e,n,i,s),r.copy(A))},reset:function(){e=!1,n=null,r.set(-1,0,0,0)}}},i=new function(){let e=!1,A=null,n=null,r=null;return{setTest:function(t){t?N(2929):k(2929)},setMask:function(n){A===n||e||(t.depthMask(n),A=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,A=null,n=null,r=null}}},s=new function(){let e=!1,A=null,n=null,r=null,i=null,s=null,a=null,o=null,l=null;return{setTest:function(t){e||(t?N(2960):k(2960))},setMask:function(n){A===n||e||(t.stencilMask(n),A=n)},setFunc:function(e,A,s){n===e&&r===A&&i===s||(t.stencilFunc(e,A,s),n=e,r=A,i=s)},setOp:function(e,A,n){s===e&&a===A&&o===n||(t.stencilOp(e,A,n),s=e,a=A,o=n)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,A=null,n=null,r=null,i=null,s=null,a=null,o=null,l=null}}},a=new WeakMap,o=new WeakMap;let l={},c={},u=new WeakMap,h=[],d=null,f=!1,p=null,g=null,m=null,B=null,w=null,v=null,y=null,_=!1,x=null,C=null,b=null,U=null,F=null;const Q=t.getParameter(35661);let M=!1,S=0;const E=t.getParameter(7938);-1!==E.indexOf("WebGL")?(S=parseFloat(/^WebGL (\d)/.exec(E)[1]),M=S>=1):-1!==E.indexOf("OpenGL ES")&&(S=parseFloat(/^OpenGL ES (\d)/.exec(E)[1]),M=S>=2);let T=null,I={};const L=t.getParameter(3088),D=t.getParameter(2978),H=(new Cs).fromArray(L),P=(new Cs).fromArray(D);function O(e,A,n){const r=new Uint8Array(4),i=t.createTexture();t.bindTexture(e,i),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let s=0;s<n;s++)t.texImage2D(A+s,0,6408,1,1,0,6408,5121,r);return i}const R={};function N(e){!0!==l[e]&&(t.enable(e),l[e]=!0)}function k(e){!1!==l[e]&&(t.disable(e),l[e]=!1)}R[3553]=O(3553,3553,1),R[34067]=O(34067,34069,6),r.setClear(0,0,0,1),i.setClear(1),s.setClear(0),N(2929),i.setFunc(3),G(!1),W(1),N(2884),K(0);const V={100:32774,101:32778,102:32779};if(n)V[103]=32775,V[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(V[103]=t.MIN_EXT,V[104]=t.MAX_EXT)}const z={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function K(e,A,n,r,i,s,a,o){if(0!==e){if(!1===f&&(N(3042),f=!0),5===e)i=i||A,s=s||n,a=a||r,A===g&&i===w||(t.blendEquationSeparate(V[A],V[i]),g=A,w=i),n===m&&r===B&&s===v&&a===y||(t.blendFuncSeparate(z[n],z[r],z[s],z[a]),m=n,B=r,v=s,y=a),p=e,_=null;else if(e!==p||o!==_){if(100===g&&100===w||(t.blendEquation(32774),g=100,w=100),o)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFuncSeparate(0,768,0,770)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFunc(0,768)}m=null,B=null,v=null,y=null,p=e,_=o}}else!0===f&&(k(3042),f=!1)}function G(e){x!==e&&(e?t.frontFace(2304):t.frontFace(2305),x=e)}function W(e){0!==e?(N(2884),e!==C&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):k(2884),C=e}function X(e,A,n){e?(N(32823),U===A&&F===n||(t.polygonOffset(A,n),U=A,F=n)):k(32823)}function j(e){void 0===e&&(e=33984+Q-1),T!==e&&(t.activeTexture(e),T=e)}return{buffers:{color:r,depth:i,stencil:s},enable:N,disable:k,bindFramebuffer:function(e,A){return c[e]!==A&&(t.bindFramebuffer(e,A),c[e]=A,n&&(36009===e&&(c[36160]=A),36160===e&&(c[36009]=A)),!0)},drawBuffers:function(n,r){let i=h,s=!1;if(n)if(i=u.get(r),void 0===i&&(i=[],u.set(r,i)),n.isWebGLMultipleRenderTargets){const t=n.texture;if(i.length!==t.length||36064!==i[0]){for(let e=0,A=t.length;e<A;e++)i[e]=36064+e;i.length=t.length,s=!0}}else 36064!==i[0]&&(i[0]=36064,s=!0);else 1029!==i[0]&&(i[0]=1029,s=!0);s&&(A.isWebGL2?t.drawBuffers(i):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(i))},useProgram:function(e){return d!==e&&(t.useProgram(e),d=e,!0)},setBlending:K,setMaterial:function(t,e){2===t.side?k(2884):N(2884);let A=1===t.side;e&&(A=!A),G(A),1===t.blending&&!1===t.transparent?K(0):K(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),i.setFunc(t.depthFunc),i.setTest(t.depthTest),i.setMask(t.depthWrite),r.setMask(t.colorWrite);const n=t.stencilWrite;s.setTest(n),n&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),X(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?N(32926):k(32926)},setFlipSided:G,setCullFace:W,setLineWidth:function(e){e!==b&&(M&&t.lineWidth(e),b=e)},setPolygonOffset:X,setScissorTest:function(t){t?N(3089):k(3089)},activeTexture:j,bindTexture:function(e,A){null===T&&j();let n=I[T];void 0===n&&(n={type:void 0,texture:void 0},I[T]=n),n.type===e&&n.texture===A||(t.bindTexture(e,A||R[e]),n.type=e,n.texture=A)},unbindTexture:function(){const e=I[T];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(e){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(e){}},updateUBOMapping:function(e,A){let n=o.get(A);void 0===n&&(n=new WeakMap,o.set(A,n));let r=n.get(e);void 0===r&&(r=t.getUniformBlockIndex(A,e.name),n.set(e,r))},uniformBlockBinding:function(e,A){const n=o.get(A).get(e);a.get(e)!==n&&(t.uniformBlockBinding(A,n,e.__bindingPointIndex),a.set(e,n))},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(e){}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(e){}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(e){}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(e){}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(e){}},scissor:function(e){!1===H.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),H.copy(e))},viewport:function(e){!1===P.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),P.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===n&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),l={},T=null,I={},c={},u=new WeakMap,h=[],d=null,f=!1,p=null,g=null,m=null,B=null,w=null,v=null,y=null,_=!1,x=null,C=null,b=null,U=null,F=null,H.set(0,0,t.canvas.width,t.canvas.height),P.set(0,0,t.canvas.width,t.canvas.height),r.reset(),i.reset(),s.reset()}}}function hu(t,e,A,n,r,i,s){const a=r.isWebGL2,o=(r.maxTextures,r.maxCubemapSize),l=r.maxTextureSize,c=r.maxSamples,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let f;const p=new WeakMap;let g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(k){}function m(t,e){return g?new OffscreenCanvas(t,e):ss("canvas")}function B(t,e,A,n){let r=1;if((t.width>n||t.height>n)&&(r=n/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const n=e?As:Math.floor,i=n(r*t.width),s=n(r*t.height);void 0===f&&(f=m(i,s));const a=A?m(i,s):f;a.width=i,a.height=s;return a.getContext("2d").drawImage(t,0,0,i,s),a}return t}return t}function w(t){return es(t.width)&&es(t.height)}function v(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&1006!==t.minFilter}function y(e){t.generateMipmap(e)}function _(A,n,r,i,s=!1){if(!1===a)return n;if(null!==A&&void 0!==t[A])return t[A];let o=n;return 6403===n&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),33319===n&&(5126===r&&(o=33328),5131===r&&(o=33327),5121===r&&(o=33323)),6408===n&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=3001===i&&!1===s?35907:32856),32819===r&&(o=32854),32820===r&&(o=32855)),33325!==o&&33326!==o&&33327!==o&&33328!==o&&34842!==o&&34836!==o||e.get("EXT_color_buffer_float"),o}function x(t,e,A){return!0===v(t,A)||t.isFramebufferTexture&&1003!==t.minFilter&&1006!==t.minFilter?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function C(t){return 1003===t||1004===t||1005===t?9728:9729}function b(t){const e=t.target;e.removeEventListener("dispose",b),function(t){const e=n.get(t);if(void 0===e.__webglInit)return;const A=t.source,r=p.get(A);if(r){const n=r[e.__cacheKey];n.usedTimes--,0===n.usedTimes&&F(t),0===Object.keys(r).length&&p.delete(A)}n.remove(t)}(e),e.isVideoTexture&&d.delete(e)}function U(e){const A=e.target;A.removeEventListener("dispose",U),function(e){const A=e.texture,r=n.get(e),i=n.get(A);void 0!==i.__webglTexture&&(t.deleteTexture(i.__webglTexture),s.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let n=0;n<6;n++)t.deleteFramebuffer(r.__webglFramebuffer[n]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[n]);else{if(t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(let e=0;e<r.__webglColorRenderbuffer.length;e++)r.__webglColorRenderbuffer[e]&&t.deleteRenderbuffer(r.__webglColorRenderbuffer[e]);r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(e.isWebGLMultipleRenderTargets)for(let a=0,o=A.length;a<o;a++){const e=n.get(A[a]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),s.memory.textures--),n.remove(A[a])}n.remove(A),n.remove(e)}(A)}function F(e){const A=n.get(e);t.deleteTexture(A.__webglTexture);const r=e.source;delete p.get(r)[A.__cacheKey],s.memory.textures--}let Q=0;function M(t,e){const r=n.get(t);if(t.isVideoTexture&&function(t){const e=s.render.frame;d.get(t)!==e&&(d.set(t,e),t.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&r.__version!==t.version){const A=t.image;if(null===A);else if(!1!==A.complete)return void L(r,t,e)}A.activeTexture(33984+e),A.bindTexture(3553,r.__webglTexture)}const S={1e3:10497,1001:33071,1002:33648},E={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function T(A,i,s){if(s?(t.texParameteri(A,10242,S[i.wrapS]),t.texParameteri(A,10243,S[i.wrapT]),32879!==A&&35866!==A||t.texParameteri(A,32882,S[i.wrapR]),t.texParameteri(A,10240,E[i.magFilter]),t.texParameteri(A,10241,E[i.minFilter])):(t.texParameteri(A,10242,33071),t.texParameteri(A,10243,33071),32879!==A&&35866!==A||t.texParameteri(A,32882,33071),1001!==i.wrapS||i.wrapT,t.texParameteri(A,10240,C(i.magFilter)),t.texParameteri(A,10241,C(i.minFilter)),1003!==i.minFilter&&i.minFilter),!0===e.has("EXT_texture_filter_anisotropic")){const s=e.get("EXT_texture_filter_anisotropic");if(1015===i.type&&!1===e.has("OES_texture_float_linear"))return;if(!1===a&&1016===i.type&&!1===e.has("OES_texture_half_float_linear"))return;(i.anisotropy>1||n.get(i).__currentAnisotropy)&&(t.texParameterf(A,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,r.getMaxAnisotropy())),n.get(i).__currentAnisotropy=i.anisotropy)}}function I(e,A){let n=!1;void 0===e.__webglInit&&(e.__webglInit=!0,A.addEventListener("dispose",b));const r=A.source;let i=p.get(r);void 0===i&&(i={},p.set(r,i));const a=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.encoding),e.join()}(A);if(a!==e.__cacheKey){void 0===i[a]&&(i[a]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,n=!0),i[a].usedTimes++;const r=i[e.__cacheKey];void 0!==r&&(i[e.__cacheKey].usedTimes--,0===r.usedTimes&&F(A)),e.__cacheKey=a,e.__webglTexture=i[a].texture}return n}function L(e,n,r){let s=3553;n.isDataArrayTexture&&(s=35866),n.isData3DTexture&&(s=32879);const o=I(e,n),c=n.source;if(A.activeTexture(33984+r),A.bindTexture(s,e.__webglTexture),c.version!==c.__currentVersion||!0===o){t.pixelStorei(37440,n.flipY),t.pixelStorei(37441,n.premultiplyAlpha),t.pixelStorei(3317,n.unpackAlignment),t.pixelStorei(37443,0);const e=function(t){return!a&&(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)}(n)&&!1===w(n.image);let r=B(n.image,e,!1,l);r=N(n,r);const u=w(r)||a,h=i.convert(n.format,n.encoding);let d,f=i.convert(n.type),p=_(n.internalFormat,h,f,n.encoding,n.isVideoTexture);T(s,n,u);const g=n.mipmaps,m=a&&!0!==n.isVideoTexture,C=void 0===c.__currentVersion||!0===o,b=x(n,r,u);if(n.isDepthTexture)p=6402,a?p=1015===n.type?36012:1014===n.type?33190:1020===n.type?35056:33189:n.type,1026===n.format&&6402===p&&1012!==n.type&&1014!==n.type&&(n.type=1014,f=i.convert(n.type)),1027===n.format&&6402===p&&(p=34041,1020!==n.type&&(n.type=1020,f=i.convert(n.type))),C&&(m?A.texStorage2D(3553,1,p,r.width,r.height):A.texImage2D(3553,0,p,r.width,r.height,0,h,f,null));else if(n.isDataTexture)if(g.length>0&&u){m&&C&&A.texStorage2D(3553,b,p,g[0].width,g[0].height);for(let t=0,e=g.length;t<e;t++)d=g[t],m?A.texSubImage2D(3553,t,0,0,d.width,d.height,h,f,d.data):A.texImage2D(3553,t,p,d.width,d.height,0,h,f,d.data);n.generateMipmaps=!1}else m?(C&&A.texStorage2D(3553,b,p,r.width,r.height),A.texSubImage2D(3553,0,0,0,r.width,r.height,h,f,r.data)):A.texImage2D(3553,0,p,r.width,r.height,0,h,f,r.data);else if(n.isCompressedTexture){m&&C&&A.texStorage2D(3553,b,p,g[0].width,g[0].height);for(let t=0,e=g.length;t<e;t++)d=g[t],1023!==n.format?null!==h&&(m?A.compressedTexSubImage2D(3553,t,0,0,d.width,d.height,h,d.data):A.compressedTexImage2D(3553,t,p,d.width,d.height,0,d.data)):m?A.texSubImage2D(3553,t,0,0,d.width,d.height,h,f,d.data):A.texImage2D(3553,t,p,d.width,d.height,0,h,f,d.data)}else if(n.isDataArrayTexture)m?(C&&A.texStorage3D(35866,b,p,r.width,r.height,r.depth),A.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,h,f,r.data)):A.texImage3D(35866,0,p,r.width,r.height,r.depth,0,h,f,r.data);else if(n.isData3DTexture)m?(C&&A.texStorage3D(32879,b,p,r.width,r.height,r.depth),A.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,h,f,r.data)):A.texImage3D(32879,0,p,r.width,r.height,r.depth,0,h,f,r.data);else if(n.isFramebufferTexture){if(C)if(m)A.texStorage2D(3553,b,p,r.width,r.height);else{let t=r.width,e=r.height;for(let n=0;n<b;n++)A.texImage2D(3553,n,p,t,e,0,h,f,null),t>>=1,e>>=1}}else if(g.length>0&&u){m&&C&&A.texStorage2D(3553,b,p,g[0].width,g[0].height);for(let t=0,e=g.length;t<e;t++)d=g[t],m?A.texSubImage2D(3553,t,0,0,h,f,d):A.texImage2D(3553,t,p,h,f,d);n.generateMipmaps=!1}else m?(C&&A.texStorage2D(3553,b,p,r.width,r.height),A.texSubImage2D(3553,0,0,0,h,f,r)):A.texImage2D(3553,0,p,h,f,r);v(n,u)&&y(s),c.__currentVersion=c.version,n.onUpdate&&n.onUpdate(n)}e.__version=n.version}function D(e,r,s,a,o){const l=i.convert(s.format,s.encoding),c=i.convert(s.type),h=_(s.internalFormat,l,c,s.encoding);n.get(r).__hasExternalTextures||(32879===o||35866===o?A.texImage3D(o,0,h,r.width,r.height,r.depth,0,l,c,null):A.texImage2D(o,0,h,r.width,r.height,0,l,c,null)),A.bindFramebuffer(36160,e),R(r)?u.framebufferTexture2DMultisampleEXT(36160,a,o,n.get(s).__webglTexture,0,O(r)):t.framebufferTexture2D(36160,a,o,n.get(s).__webglTexture,0),A.bindFramebuffer(36160,null)}function H(e,A,n){if(t.bindRenderbuffer(36161,e),A.depthBuffer&&!A.stencilBuffer){let r=33189;if(n||R(A)){const e=A.depthTexture;e&&e.isDepthTexture&&(1015===e.type?r=36012:1014===e.type&&(r=33190));const n=O(A);R(A)?u.renderbufferStorageMultisampleEXT(36161,n,r,A.width,A.height):t.renderbufferStorageMultisample(36161,n,r,A.width,A.height)}else t.renderbufferStorage(36161,r,A.width,A.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(A.depthBuffer&&A.stencilBuffer){const r=O(A);n&&!1===R(A)?t.renderbufferStorageMultisample(36161,r,35056,A.width,A.height):R(A)?u.renderbufferStorageMultisampleEXT(36161,r,35056,A.width,A.height):t.renderbufferStorage(36161,34041,A.width,A.height),t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=!0===A.isWebGLMultipleRenderTargets?A.texture:[A.texture];for(let r=0;r<e.length;r++){const s=e[r],a=i.convert(s.format,s.encoding),o=i.convert(s.type),l=_(s.internalFormat,a,o,s.encoding),c=O(A);n&&!1===R(A)?t.renderbufferStorageMultisample(36161,c,l,A.width,A.height):R(A)?u.renderbufferStorageMultisampleEXT(36161,c,l,A.width,A.height):t.renderbufferStorage(36161,l,A.width,A.height)}}t.bindRenderbuffer(36161,null)}function P(e){const r=n.get(e),i=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!r.__autoAllocateDepthBuffer){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(A.bindFramebuffer(36160,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),M(r.depthTexture,0);const i=n.get(r.depthTexture).__webglTexture,s=O(r);if(1026===r.depthTexture.format)R(r)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,i,0,s):t.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==r.depthTexture.format)throw new Error("Unknown depthTexture format");R(r)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,i,0,s):t.framebufferTexture2D(36160,33306,3553,i,0)}}(r.__webglFramebuffer,e)}else if(i){r.__webglDepthbuffer=[];for(let n=0;n<6;n++)A.bindFramebuffer(36160,r.__webglFramebuffer[n]),r.__webglDepthbuffer[n]=t.createRenderbuffer(),H(r.__webglDepthbuffer[n],e,!1)}else A.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),H(r.__webglDepthbuffer,e,!1);A.bindFramebuffer(36160,null)}function O(t){return Math.min(c,t.samples)}function R(t){const A=n.get(t);return a&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==A.__useRenderToTexture}function N(t,A){const n=t.encoding,r=t.format;t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||1035===t.format||3e3!==n&&3001===n&&!1===a&&(!0===e.has("EXT_sRGB")&&1023===r?(t.format=1035,t.minFilter=1006,t.generateMipmaps=!1):A=ws.sRGBToLinear(A)),A}this.allocateTextureUnit=function(){const t=Q;return Q+=1,t},this.resetTextureUnits=function(){Q=0},this.setTexture2D=M,this.setTexture2DArray=function(t,e){const r=n.get(t);t.version>0&&r.__version!==t.version?L(r,t,e):(A.activeTexture(33984+e),A.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=n.get(t);t.version>0&&r.__version!==t.version?L(r,t,e):(A.activeTexture(33984+e),A.bindTexture(32879,r.__webglTexture))},this.setTextureCube=function(e,r){const s=n.get(e);e.version>0&&s.__version!==e.version?function(e,n,r){if(6!==n.image.length)return;const s=I(e,n),l=n.source;if(A.activeTexture(33984+r),A.bindTexture(34067,e.__webglTexture),l.version!==l.__currentVersion||!0===s){t.pixelStorei(37440,n.flipY),t.pixelStorei(37441,n.premultiplyAlpha),t.pixelStorei(3317,n.unpackAlignment),t.pixelStorei(37443,0);const e=n.isCompressedTexture||n.image[0].isCompressedTexture,r=n.image[0]&&n.image[0].isDataTexture,c=[];for(let t=0;t<6;t++)c[t]=e||r?r?n.image[t].image:n.image[t]:B(n.image[t],!1,!0,o),c[t]=N(n,c[t]);const u=c[0],h=w(u)||a,d=i.convert(n.format,n.encoding),f=i.convert(n.type),p=_(n.internalFormat,d,f,n.encoding),g=a&&!0!==n.isVideoTexture,m=void 0===l.__currentVersion||!0===s;let C,b=x(n,u,h);if(T(34067,n,h),e){g&&m&&A.texStorage2D(34067,b,p,u.width,u.height);for(let t=0;t<6;t++){C=c[t].mipmaps;for(let e=0;e<C.length;e++){const r=C[e];1023!==n.format?null!==d&&(g?A.compressedTexSubImage2D(34069+t,e,0,0,r.width,r.height,d,r.data):A.compressedTexImage2D(34069+t,e,p,r.width,r.height,0,r.data)):g?A.texSubImage2D(34069+t,e,0,0,r.width,r.height,d,f,r.data):A.texImage2D(34069+t,e,p,r.width,r.height,0,d,f,r.data)}}}else{C=n.mipmaps,g&&m&&(C.length>0&&b++,A.texStorage2D(34067,b,p,c[0].width,c[0].height));for(let t=0;t<6;t++)if(r){g?A.texSubImage2D(34069+t,0,0,0,c[t].width,c[t].height,d,f,c[t].data):A.texImage2D(34069+t,0,p,c[t].width,c[t].height,0,d,f,c[t].data);for(let e=0;e<C.length;e++){const n=C[e].image[t].image;g?A.texSubImage2D(34069+t,e+1,0,0,n.width,n.height,d,f,n.data):A.texImage2D(34069+t,e+1,p,n.width,n.height,0,d,f,n.data)}}else{g?A.texSubImage2D(34069+t,0,0,0,d,f,c[t]):A.texImage2D(34069+t,0,p,d,f,c[t]);for(let e=0;e<C.length;e++){const n=C[e];g?A.texSubImage2D(34069+t,e+1,0,0,d,f,n.image[t]):A.texImage2D(34069+t,e+1,p,d,f,n.image[t])}}}v(n,h)&&y(34067),l.__currentVersion=l.version,n.onUpdate&&n.onUpdate(n)}e.__version=n.version}(s,e,r):(A.activeTexture(33984+r),A.bindTexture(34067,s.__webglTexture))},this.rebindTextures=function(t,e,A){const r=n.get(t);void 0!==e&&D(r.__webglFramebuffer,t,t.texture,36064,3553),void 0!==A&&P(t)},this.setupRenderTarget=function(e){const o=e.texture,l=n.get(e),c=n.get(o);e.addEventListener("dispose",U),!0!==e.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=t.createTexture()),c.__version=o.version,s.memory.textures++);const u=!0===e.isWebGLCubeRenderTarget,h=!0===e.isWebGLMultipleRenderTargets,d=w(e)||a;if(u){l.__webglFramebuffer=[];for(let e=0;e<6;e++)l.__webglFramebuffer[e]=t.createFramebuffer()}else{if(l.__webglFramebuffer=t.createFramebuffer(),h&&r.drawBuffers){const A=e.texture;for(let e=0,r=A.length;e<r;e++){const r=n.get(A[e]);void 0===r.__webglTexture&&(r.__webglTexture=t.createTexture(),s.memory.textures++)}}if(a&&e.samples>0&&!1===R(e)){const n=h?o:[o];l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=[],A.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(let A=0;A<n.length;A++){const r=n[A];l.__webglColorRenderbuffer[A]=t.createRenderbuffer(),t.bindRenderbuffer(36161,l.__webglColorRenderbuffer[A]);const s=i.convert(r.format,r.encoding),a=i.convert(r.type),o=_(r.internalFormat,s,a,r.encoding),c=O(e);t.renderbufferStorageMultisample(36161,c,o,e.width,e.height),t.framebufferRenderbuffer(36160,36064+A,36161,l.__webglColorRenderbuffer[A])}t.bindRenderbuffer(36161,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),H(l.__webglDepthRenderbuffer,e,!0)),A.bindFramebuffer(36160,null)}}if(u){A.bindTexture(34067,c.__webglTexture),T(34067,o,d);for(let t=0;t<6;t++)D(l.__webglFramebuffer[t],e,o,36064,34069+t);v(o,d)&&y(34067),A.unbindTexture()}else if(h){const t=e.texture;for(let r=0,i=t.length;r<i;r++){const i=t[r],s=n.get(i);A.bindTexture(3553,s.__webglTexture),T(3553,i,d),D(l.__webglFramebuffer,e,i,36064+r,3553),v(i,d)&&y(3553)}A.unbindTexture()}else{let t=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&a&&(t=e.isWebGL3DRenderTarget?32879:35866),A.bindTexture(t,c.__webglTexture),T(t,o,d),D(l.__webglFramebuffer,e,o,36064,t),v(o,d)&&y(t),A.unbindTexture()}e.depthBuffer&&P(e)},this.updateRenderTargetMipmap=function(t){const e=w(t)||a,r=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let i=0,s=r.length;i<s;i++){const s=r[i];if(v(s,e)){const e=t.isWebGLCubeRenderTarget?34067:3553,r=n.get(s).__webglTexture;A.bindTexture(e,r),y(e),A.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(a&&e.samples>0&&!1===R(e)){const r=e.isWebGLMultipleRenderTargets?e.texture:[e.texture],i=e.width,s=e.height;let a=16384;const o=[],l=e.stencilBuffer?33306:36096,c=n.get(e),u=!0===e.isWebGLMultipleRenderTargets;if(u)for(let e=0;e<r.length;e++)A.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+e,36161,null),A.bindFramebuffer(36160,c.__webglFramebuffer),t.framebufferTexture2D(36009,36064+e,3553,null,0);A.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),A.bindFramebuffer(36009,c.__webglFramebuffer);for(let A=0;A<r.length;A++){o.push(36064+A),e.depthBuffer&&o.push(l);const d=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;if(!1===d&&(e.depthBuffer&&(a|=256),e.stencilBuffer&&(a|=1024)),u&&t.framebufferRenderbuffer(36008,36064,36161,c.__webglColorRenderbuffer[A]),!0===d&&(t.invalidateFramebuffer(36008,[l]),t.invalidateFramebuffer(36009,[l])),u){const e=n.get(r[A]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,e,0)}t.blitFramebuffer(0,0,i,s,0,0,i,s,a,9728),h&&t.invalidateFramebuffer(36008,o)}if(A.bindFramebuffer(36008,null),A.bindFramebuffer(36009,null),u)for(let e=0;e<r.length;e++){A.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+e,36161,c.__webglColorRenderbuffer[e]);const i=n.get(r[e]).__webglTexture;A.bindFramebuffer(36160,c.__webglFramebuffer),t.framebufferTexture2D(36009,36064+e,3553,i,0)}A.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=P,this.setupFrameBufferTexture=D,this.useMultisampledRTT=R}function du(t,e,A){const n=A.isWebGL2;return{convert:function(A,r=null){let i;if(1009===A)return 5121;if(1017===A)return 32819;if(1018===A)return 32820;if(1010===A)return 5120;if(1011===A)return 5122;if(1012===A)return 5123;if(1013===A)return 5124;if(1014===A)return 5125;if(1015===A)return 5126;if(1016===A)return n?5131:(i=e.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(1021===A)return 6406;if(1023===A)return 6408;if(1024===A)return 6409;if(1025===A)return 6410;if(1026===A)return 6402;if(1027===A)return 34041;if(1028===A)return 6403;if(1022===A)return 6408;if(1035===A)return i=e.get("EXT_sRGB"),null!==i?i.SRGB_ALPHA_EXT:null;if(1029===A)return 36244;if(1030===A)return 33319;if(1031===A)return 33320;if(1033===A)return 36249;if(33776===A||33777===A||33778===A||33779===A)if(3001===r){if(i=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(33776===A)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===A)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===A)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===A)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(33776===A)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===A)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===A)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===A)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===A||35841===A||35842===A||35843===A){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(35840===A)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===A)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===A)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===A)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===A)return i=e.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===A||37496===A){if(i=e.get("WEBGL_compressed_texture_etc"),null===i)return null;if(37492===A)return 3001===r?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===A||37809===A||37810===A||37811===A||37812===A||37813===A||37814===A||37815===A||37816===A||37817===A||37818===A||37819===A||37820===A||37821===A){if(i=e.get("WEBGL_compressed_texture_astc"),null===i)return null;if(37808===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===A)return 3001===r?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===A){if(i=e.get("EXT_texture_compression_bptc"),null===i)return null;if(36492===A)return 3001===r?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}return 1020===A?n?34042:(i=e.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[A]?t[A]:null}}}class fu extends To{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class pu extends Ea{constructor(){super(),this.isGroup=!0,this.type="Group"}}const gu={type:"move"};class mu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new pu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new pu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ms,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ms),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new pu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ms,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ms),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,A){let n=null,r=null,i=null;const s=this._targetRay,a=this._grip,o=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(o&&t.hand){i=!0;for(const i of t.hand.values()){const t=e.getJointPose(i,A);if(void 0===o.joints[i.jointName]){const t=new pu;t.matrixAutoUpdate=!1,t.visible=!1,o.joints[i.jointName]=t,o.add(t)}const n=o.joints[i.jointName];null!==t&&(n.matrix.fromArray(t.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.jointRadius=t.radius),n.visible=null!==t}const n=o.joints["index-finger-tip"],r=o.joints["thumb-tip"],s=n.position.distanceTo(r.position),a=.02,l=.005;o.inputState.pinching&&s>a+l?(o.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!o.inputState.pinching&&s<=a-l&&(o.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,A),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(n=e.getPose(t.targetRaySpace,A),null===n&&null!==r&&(n=r),null!==n&&(s.matrix.fromArray(n.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),n.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(n.linearVelocity)):s.hasLinearVelocity=!1,n.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(n.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(gu)))}return null!==s&&(s.visible=null!==n),null!==a&&(a.visible=null!==r),null!==o&&(o.visible=null!==i),this}}class Bu extends xs{constructor(t,e,A,n,r,i,s,a,o,l){if(1026!==(l=void 0!==l?l:1026)&&1027!==l)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===A&&1026===l&&(A=1014),void 0===A&&1027===l&&(A=1020),super(null,n,r,i,s,a,l,A,o),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==s?s:1003,this.minFilter=void 0!==a?a:1003,this.flipY=!1,this.generateMipmaps=!1}}class wu extends ji{constructor(t,e){super();const A=this;let n=null,r=1,i=null,s="local-floor",a=null,o=null,l=null,c=null,u=null,h=null;const d=e.getContextAttributes();let f=null,p=null;const g=[],m=[],B=new To;B.layers.enable(1),B.viewport=new Cs;const w=new To;w.layers.enable(2),w.viewport=new Cs;const v=[B,w],y=new fu;y.layers.enable(1),y.layers.enable(2);let _=null,x=null;function C(t){const e=m.indexOf(t.inputSource);if(-1===e)return;const A=g[e];void 0!==A&&A.dispatchEvent({type:t.type,data:t.inputSource})}function b(){n.removeEventListener("select",C),n.removeEventListener("selectstart",C),n.removeEventListener("selectend",C),n.removeEventListener("squeeze",C),n.removeEventListener("squeezestart",C),n.removeEventListener("squeezeend",C),n.removeEventListener("end",b),n.removeEventListener("inputsourceschange",U);for(let t=0;t<g.length;t++){const e=m[t];null!==e&&(m[t]=null,g[t].disconnect(e))}_=null,x=null,t.setRenderTarget(f),u=null,c=null,l=null,n=null,p=null,E.stop(),A.isPresenting=!1,A.dispatchEvent({type:"sessionend"})}function U(t){for(let e=0;e<t.removed.length;e++){const A=t.removed[e],n=m.indexOf(A);n>=0&&(m[n]=null,g[n].dispatchEvent({type:"disconnected",data:A}))}for(let e=0;e<t.added.length;e++){const A=t.added[e];let n=m.indexOf(A);if(-1===n){for(let t=0;t<g.length;t++){if(t>=m.length){m.push(A),n=t;break}if(null===m[t]){m[t]=A,n=t;break}}if(-1===n)break}const r=g[n];r&&r.dispatchEvent({type:"connected",data:A})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=g[t];return void 0===e&&(e=new mu,g[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=g[t];return void 0===e&&(e=new mu,g[t]=e),e.getGripSpace()},this.getHand=function(t){let e=g[t];return void 0===e&&(e=new mu,g[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,A.isPresenting},this.setReferenceSpaceType=function(t){s=t,A.isPresenting},this.getReferenceSpace=function(){return a||i},this.setReferenceSpace=function(t){a=t},this.getBaseLayer=function(){return null!==c?c:u},this.getBinding=function(){return l},this.getFrame=function(){return h},this.getSession=function(){return n},this.setSession=async function(o){if(n=o,null!==n){if(f=t.getRenderTarget(),n.addEventListener("select",C),n.addEventListener("selectstart",C),n.addEventListener("selectend",C),n.addEventListener("squeeze",C),n.addEventListener("squeezestart",C),n.addEventListener("squeezeend",C),n.addEventListener("end",b),n.addEventListener("inputsourceschange",U),!0!==d.xrCompatible&&await e.makeXRCompatible(),void 0===n.renderState.layers||!1===t.capabilities.isWebGL2){const A={antialias:void 0!==n.renderState.layers||d.antialias,alpha:d.alpha,depth:d.depth,stencil:d.stencil,framebufferScaleFactor:r};u=new XRWebGLLayer(n,e,A),n.updateRenderState({baseLayer:u}),p=new bs(u.framebufferWidth,u.framebufferHeight,{format:1023,type:1009,encoding:t.outputEncoding})}else{let A=null,i=null,s=null;d.depth&&(s=d.stencil?35056:33190,A=d.stencil?1027:1026,i=d.stencil?1020:1014);const a={colorFormat:32856,depthFormat:s,scaleFactor:r};l=new XRWebGLBinding(n,e),c=l.createProjectionLayer(a),n.updateRenderState({layers:[c]}),p=new bs(c.textureWidth,c.textureHeight,{format:1023,type:1009,depthTexture:new Bu(c.textureWidth,c.textureHeight,i,void 0,void 0,void 0,void 0,void 0,void 0,A),stencilBuffer:d.stencil,encoding:t.outputEncoding,samples:d.antialias?4:0});t.properties.get(p).__ignoreDepthValues=c.ignoreDepthValues}p.isXRRenderTarget=!0,this.setFoveation(1),a=null,i=await n.requestReferenceSpace(s),E.setContext(n),E.start(),A.isPresenting=!0,A.dispatchEvent({type:"sessionstart"})}};const F=new Ms,Q=new Ms;function M(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===n)return;y.near=w.near=B.near=t.near,y.far=w.far=B.far=t.far,_===y.near&&x===y.far||(n.updateRenderState({depthNear:y.near,depthFar:y.far}),_=y.near,x=y.far);const e=t.parent,A=y.cameras;M(y,e);for(let n=0;n<A.length;n++)M(A[n],e);y.matrixWorld.decompose(y.position,y.quaternion,y.scale),t.position.copy(y.position),t.quaternion.copy(y.quaternion),t.scale.copy(y.scale),t.matrix.copy(y.matrix),t.matrixWorld.copy(y.matrixWorld);const r=t.children;for(let n=0,i=r.length;n<i;n++)r[n].updateMatrixWorld(!0);2===A.length?function(t,e,A){F.setFromMatrixPosition(e.matrixWorld),Q.setFromMatrixPosition(A.matrixWorld);const n=F.distanceTo(Q),r=e.projectionMatrix.elements,i=A.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),o=(r[9]+1)/r[5],l=(r[9]-1)/r[5],c=(r[8]-1)/r[0],u=(i[8]+1)/i[0],h=s*c,d=s*u,f=n/(-c+u),p=f*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(p),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const g=s+f,m=a+f,B=h-p,w=d+(n-p),v=o*a/m*g,y=l*a/m*g;t.projectionMatrix.makePerspective(B,w,v,y,g,m)}(y,B,w):y.projectionMatrix.copy(B.projectionMatrix)},this.getCamera=function(){return y},this.getFoveation=function(){return null!==c?c.fixedFoveation:null!==u?u.fixedFoveation:void 0},this.setFoveation=function(t){null!==c&&(c.fixedFoveation=t),null!==u&&void 0!==u.fixedFoveation&&(u.fixedFoveation=t)};let S=null;const E=new zo;E.setAnimationLoop((function(e,A){if(o=A.getViewerPose(a||i),h=A,null!==o){const e=o.views;null!==u&&(t.setRenderTargetFramebuffer(p,u.framebuffer),t.setRenderTarget(p));let A=!1;e.length!==y.cameras.length&&(y.cameras.length=0,A=!0);for(let n=0;n<e.length;n++){const r=e[n];let i=null;if(null!==u)i=u.getViewport(r);else{const e=l.getViewSubImage(c,r);i=e.viewport,0===n&&(t.setRenderTargetTextures(p,e.colorTexture,c.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(p))}let s=v[n];void 0===s&&(s=new To,s.layers.enable(n),s.viewport=new Cs,v[n]=s),s.matrix.fromArray(r.transform.matrix),s.projectionMatrix.fromArray(r.projectionMatrix),s.viewport.set(i.x,i.y,i.width,i.height),0===n&&y.matrix.copy(s.matrix),!0===A&&y.cameras.push(s)}}for(let t=0;t<g.length;t++){const e=m[t],n=g[t];null!==e&&void 0!==n&&n.update(e,A,a||i)}S&&S(e,A),h=null})),this.setAnimationLoop=function(t){S=t},this.dispose=function(){}}}function vu(t,e){function A(A,n){A.opacity.value=n.opacity,n.color&&A.diffuse.value.copy(n.color),n.emissive&&A.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(A.map.value=n.map),n.alphaMap&&(A.alphaMap.value=n.alphaMap),n.bumpMap&&(A.bumpMap.value=n.bumpMap,A.bumpScale.value=n.bumpScale,1===n.side&&(A.bumpScale.value*=-1)),n.displacementMap&&(A.displacementMap.value=n.displacementMap,A.displacementScale.value=n.displacementScale,A.displacementBias.value=n.displacementBias),n.emissiveMap&&(A.emissiveMap.value=n.emissiveMap),n.normalMap&&(A.normalMap.value=n.normalMap,A.normalScale.value.copy(n.normalScale),1===n.side&&A.normalScale.value.negate()),n.specularMap&&(A.specularMap.value=n.specularMap),n.alphaTest>0&&(A.alphaTest.value=n.alphaTest);const r=e.get(n).envMap;if(r&&(A.envMap.value=r,A.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,A.reflectivity.value=n.reflectivity,A.ior.value=n.ior,A.refractionRatio.value=n.refractionRatio),n.lightMap){A.lightMap.value=n.lightMap;const e=!0!==t.physicallyCorrectLights?Math.PI:1;A.lightMapIntensity.value=n.lightMapIntensity*e}let i,s;n.aoMap&&(A.aoMap.value=n.aoMap,A.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap?i=n.clearcoatRoughnessMap:n.iridescenceMap?i=n.iridescenceMap:n.iridescenceThicknessMap?i=n.iridescenceThicknessMap:n.specularIntensityMap?i=n.specularIntensityMap:n.specularColorMap?i=n.specularColorMap:n.transmissionMap?i=n.transmissionMap:n.thicknessMap?i=n.thicknessMap:n.sheenColorMap?i=n.sheenColorMap:n.sheenRoughnessMap&&(i=n.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),A.uvTransform.value.copy(i.matrix)),n.aoMap?s=n.aoMap:n.lightMap&&(s=n.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),A.uv2Transform.value.copy(s.matrix))}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,n,r,i,s){n.isMeshBasicMaterial||n.isMeshLambertMaterial?A(t,n):n.isMeshToonMaterial?(A(t,n),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,n)):n.isMeshPhongMaterial?(A(t,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,n)):n.isMeshStandardMaterial?(A(t,n),function(t,A){t.roughness.value=A.roughness,t.metalness.value=A.metalness,A.roughnessMap&&(t.roughnessMap.value=A.roughnessMap);A.metalnessMap&&(t.metalnessMap.value=A.metalnessMap);e.get(A).envMap&&(t.envMapIntensity.value=A.envMapIntensity)}(t,n),n.isMeshPhysicalMaterial&&function(t,e,A){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()));e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=A.texture,t.transmissionSamplerSize.value.set(A.width,A.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap);e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap)}(t,n,s)):n.isMeshMatcapMaterial?(A(t,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,n)):n.isMeshDepthMaterial?A(t,n):n.isMeshDistanceMaterial?(A(t,n),function(t,e){t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,n)):n.isMeshNormalMaterial?A(t,n):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,n)):n.isPointsMaterial?function(t,e,A,n){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*A,t.scale.value=.5*n,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);let r;e.map?r=e.map:e.alphaMap&&(r=e.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,n,r,i):n.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);let A;e.map?A=e.map:e.alphaMap&&(A=e.alphaMap);void 0!==A&&(!0===A.matrixAutoUpdate&&A.updateMatrix(),t.uvTransform.value.copy(A.matrix))}(t,n):n.isShadowMaterial?(t.color.value.copy(n.color),t.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function yu(t,e,A,n){let r={},i={},s=[];const a=A.isWebGL2?t.getParameter(35375):0;function o(t,e,A){const n=t.value;if(void 0===A[e])return A[e]="number"==typeof n?n:n.clone(),!0;if("number"==typeof n){if(A[e]!==n)return A[e]=n,!0}else{const t=A[e];if(!1===t.equals(n))return t.copy(n),!0}return!1}function l(t){const e=t.value,A={boundary:0,storage:0};return"number"==typeof e?(A.boundary=4,A.storage=4):e.isVector2?(A.boundary=8,A.storage=8):e.isVector3||e.isColor?(A.boundary=16,A.storage=12):e.isVector4?(A.boundary=16,A.storage=16):e.isMatrix3?(A.boundary=48,A.storage=48):e.isMatrix4?(A.boundary=64,A.storage=64):e.isTexture,A}function c(e){const A=e.target;A.removeEventListener("dispose",c);const n=s.indexOf(A.__bindingPointIndex);s.splice(n,1),t.deleteBuffer(r[A.id]),delete r[A.id],delete i[A.id]}return{bind:function(t,e){const A=e.program;n.uniformBlockBinding(t,A)},update:function(A,u){let h=r[A.id];void 0===h&&(!function(t){const e=t.uniforms;let A=0;const n=16;let r=0;for(let i=0,s=e.length;i<s;i++){const t=e[i],s=l(t);if(t.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=A,i>0){r=A%n;const e=n-r;0!==r&&e-s.boundary<0&&(A+=n-r,t.__offset=A)}A+=s.storage}r=A%n,r>0&&(A+=n-r);t.__size=A,t.__cache={}}(A),h=function(e){const A=function(){for(let t=0;t<a;t++)if(-1===s.indexOf(t))return s.push(t),t;return 0}();e.__bindingPointIndex=A;const n=t.createBuffer(),r=e.__size,i=e.usage;return t.bindBuffer(35345,n),t.bufferData(35345,r,i),t.bindBuffer(35345,null),t.bindBufferBase(35345,A,n),n}(A),r[A.id]=h,A.addEventListener("dispose",c));const d=u.program;n.updateUBOMapping(A,d);const f=e.render.frame;i[A.id]!==f&&(!function(e){const A=r[e.id],n=e.uniforms,i=e.__cache;t.bindBuffer(35345,A);for(let r=0,s=n.length;r<s;r++){const e=n[r];if(!0===o(e,r,i)){const A=e.value,n=e.__offset;"number"==typeof A?(e.__data[0]=A,t.bufferSubData(35345,n,e.__data)):(e.value.isMatrix3?(e.__data[0]=e.value.elements[0],e.__data[1]=e.value.elements[1],e.__data[2]=e.value.elements[2],e.__data[3]=e.value.elements[0],e.__data[4]=e.value.elements[3],e.__data[5]=e.value.elements[4],e.__data[6]=e.value.elements[5],e.__data[7]=e.value.elements[0],e.__data[8]=e.value.elements[6],e.__data[9]=e.value.elements[7],e.__data[10]=e.value.elements[8],e.__data[11]=e.value.elements[0]):A.toArray(e.__data),t.bufferSubData(35345,n,e.__data))}}t.bindBuffer(35345,null)}(A),i[A.id]=f)},dispose:function(){for(const e in r)t.deleteBuffer(r[e]);s=[],r={},i={}}}}function _u(t={}){this.isWebGLRenderer=!0;const e=void 0!==t.canvas?t.canvas:function(){const t=ss("canvas");return t.style.display="block",t}(),A=void 0!==t.context?t.context:null,n=void 0===t.depth||t.depth,r=void 0===t.stencil||t.stencil,i=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,a=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,o=void 0!==t.powerPreference?t.powerPreference:"default",l=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let c;c=null!==A?A.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;let u=null,h=null;const d=[],f=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return 2},set:function(){}}});const p=this;let g=!1,m=0,B=0,w=null,v=-1,y=null;const _=new Cs,x=new Cs;let C=null,b=e.width,U=e.height,F=1,Q=null,M=null;const S=new Cs(0,0,b,U),E=new Cs(0,0,b,U);let T=!1;const I=new Vo;let L=!1,D=!1,H=null;const P=new sa,O=new ns,R=new Ms,N={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function k(){return null===w?F:1}let V,z,K,G,W,X,j,Y,J,q,Z,$,tt,et,At,nt,rt,it,st,at,ot,lt,ct,ut,ht=A;function dt(t,A){for(let n=0;n<t.length;n++){const r=t[n],i=e.getContext(r,A);if(null!==i)return i}return null}try{const t={alpha:!0,depth:n,stencil:r,antialias:i,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:o,failIfMajorPerformanceCaveat:l};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r143"),e.addEventListener("webglcontextlost",gt,!1),e.addEventListener("webglcontextrestored",mt,!1),e.addEventListener("webglcontextcreationerror",Bt,!1),null===ht){const e=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&e.shift(),ht=dt(e,t),null===ht)throw dt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ht.getShaderPrecisionFormat&&(ht.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(St){throw St}function ft(){V=new gl(ht),z=new Zo(ht,V,t),V.init(z),lt=new du(ht,V,z),K=new uu(ht,V,z),G=new wl,W=new qc,X=new hu(ht,V,K,W,z,lt,G),j=new tl(p),Y=new pl(p),J=new Ko(ht,z),ct=new Jo(ht,V,J,z),q=new ml(ht,J,G,ct),Z=new Cl(ht,q,J,G),st=new xl(ht,z,X),nt=new $o(W),$=new Jc(p,j,Y,V,z,ct,nt),tt=new vu(p,W),et=new eu,At=new au(V,z),it=new Yo(p,j,K,Z,c,s),rt=new cu(p,Z,z),ut=new yu(ht,G,z,K),at=new qo(ht,V,G,z),ot=new Bl(ht,V,G,z),G.programs=$.programs,p.capabilities=z,p.extensions=V,p.properties=W,p.renderLists=et,p.shadowMap=rt,p.state=K,p.info=G}ft();const pt=new wu(p,ht);function gt(t){t.preventDefault(),g=!0}function mt(){g=!1;const t=G.autoReset,e=rt.enabled,A=rt.autoUpdate,n=rt.needsUpdate,r=rt.type;ft(),G.autoReset=t,rt.enabled=e,rt.autoUpdate=A,rt.needsUpdate=n,rt.type=r}function Bt(t){}function wt(t){const e=t.target;e.removeEventListener("dispose",wt),function(t){(function(t){const e=W.get(t).programs;void 0!==e&&(e.forEach((function(t){$.releaseProgram(t)})),t.isShaderMaterial&&$.releaseShaderCache(t))})(t),W.remove(t)}(e)}this.xr=pt,this.getContext=function(){return ht},this.getContextAttributes=function(){return ht.getContextAttributes()},this.forceContextLoss=function(){const t=V.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=V.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(t){void 0!==t&&(F=t,this.setSize(b,U,!1))},this.getSize=function(t){return t.set(b,U)},this.setSize=function(t,A,n){pt.isPresenting||(b=t,U=A,e.width=Math.floor(t*F),e.height=Math.floor(A*F),!1!==n&&(e.style.width=t+"px",e.style.height=A+"px"),this.setViewport(0,0,t,A))},this.getDrawingBufferSize=function(t){return t.set(b*F,U*F).floor()},this.setDrawingBufferSize=function(t,A,n){b=t,U=A,F=n,e.width=Math.floor(t*n),e.height=Math.floor(A*n),this.setViewport(0,0,t,A)},this.getCurrentViewport=function(t){return t.copy(_)},this.getViewport=function(t){return t.copy(S)},this.setViewport=function(t,e,A,n){t.isVector4?S.set(t.x,t.y,t.z,t.w):S.set(t,e,A,n),K.viewport(_.copy(S).multiplyScalar(F).floor())},this.getScissor=function(t){return t.copy(E)},this.setScissor=function(t,e,A,n){t.isVector4?E.set(t.x,t.y,t.z,t.w):E.set(t,e,A,n),K.scissor(x.copy(E).multiplyScalar(F).floor())},this.getScissorTest=function(){return T},this.setScissorTest=function(t){K.setScissorTest(T=t)},this.setOpaqueSort=function(t){Q=t},this.setTransparentSort=function(t){M=t},this.getClearColor=function(t){return t.copy(it.getClearColor())},this.setClearColor=function(){it.setClearColor.apply(it,arguments)},this.getClearAlpha=function(){return it.getClearAlpha()},this.setClearAlpha=function(){it.setClearAlpha.apply(it,arguments)},this.clear=function(t=!0,e=!0,A=!0){let n=0;t&&(n|=16384),e&&(n|=256),A&&(n|=1024),ht.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",gt,!1),e.removeEventListener("webglcontextrestored",mt,!1),e.removeEventListener("webglcontextcreationerror",Bt,!1),et.dispose(),At.dispose(),W.dispose(),j.dispose(),Y.dispose(),Z.dispose(),ct.dispose(),ut.dispose(),$.dispose(),pt.dispose(),pt.removeEventListener("sessionstart",yt),pt.removeEventListener("sessionend",_t),H&&(H.dispose(),H=null),xt.stop()},this.renderBufferDirect=function(t,e,A,n,r,i){null===e&&(e=N);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=function(t,e,A,n,r){!0!==e.isScene&&(e=N);X.resetTextureUnits();const i=e.fog,s=n.isMeshStandardMaterial?e.environment:null,a=null===w?p.outputEncoding:!0===w.isXRRenderTarget?w.texture.encoding:3e3,o=(n.isMeshStandardMaterial?Y:j).get(n.envMap||s),l=!0===n.vertexColors&&!!A.attributes.color&&4===A.attributes.color.itemSize,c=!!n.normalMap&&!!A.attributes.tangent,u=!!A.morphAttributes.position,d=!!A.morphAttributes.normal,f=!!A.morphAttributes.color,g=n.toneMapped?p.toneMapping:0,m=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,B=void 0!==m?m.length:0,_=W.get(n),x=h.state.lights;if(!0===L&&(!0===D||t!==y)){const e=t===y&&n.id===v;nt.setState(n,t,e)}let C=!1;n.version===_.__version?_.needsLights&&_.lightsStateVersion!==x.state.version||_.outputEncoding!==a||r.isInstancedMesh&&!1===_.instancing?C=!0:r.isInstancedMesh||!0!==_.instancing?r.isSkinnedMesh&&!1===_.skinning?C=!0:r.isSkinnedMesh||!0!==_.skinning?_.envMap!==o||!0===n.fog&&_.fog!==i?C=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===nt.numPlanes&&_.numIntersection===nt.numIntersection?(_.vertexAlphas!==l||_.vertexTangents!==c||_.morphTargets!==u||_.morphNormals!==d||_.morphColors!==f||_.toneMapping!==g||!0===z.isWebGL2&&_.morphTargetsCount!==B)&&(C=!0):C=!0:C=!0:C=!0:(C=!0,_.__version=n.version);let b=_.currentProgram;!0===C&&(b=Qt(n,e,r));let Q=!1,M=!1,S=!1;const E=b.getUniforms(),T=_.uniforms;K.useProgram(b.program)&&(Q=!0,M=!0,S=!0);n.id!==v&&(v=n.id,M=!0);if(Q||y!==t){if(E.setValue(ht,"projectionMatrix",t.projectionMatrix),z.logarithmicDepthBuffer&&E.setValue(ht,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),y!==t&&(y=t,M=!0,S=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const e=E.map.cameraPosition;void 0!==e&&e.setValue(ht,R.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&E.setValue(ht,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&E.setValue(ht,"viewMatrix",t.matrixWorldInverse)}if(r.isSkinnedMesh){E.setOptional(ht,r,"bindMatrix"),E.setOptional(ht,r,"bindMatrixInverse");const t=r.skeleton;t&&z.floatVertexTextures&&(null===t.boneTexture&&t.computeBoneTexture(),E.setValue(ht,"boneTexture",t.boneTexture,X),E.setValue(ht,"boneTextureSize",t.boneTextureSize))}const I=A.morphAttributes;(void 0!==I.position||void 0!==I.normal||void 0!==I.color&&!0===z.isWebGL2)&&st.update(r,A,n,b);(M||_.receiveShadow!==r.receiveShadow)&&(_.receiveShadow=r.receiveShadow,E.setValue(ht,"receiveShadow",r.receiveShadow));M&&(E.setValue(ht,"toneMappingExposure",p.toneMappingExposure),_.needsLights&&(O=S,(P=T).ambientLightColor.needsUpdate=O,P.lightProbe.needsUpdate=O,P.directionalLights.needsUpdate=O,P.directionalLightShadows.needsUpdate=O,P.pointLights.needsUpdate=O,P.pointLightShadows.needsUpdate=O,P.spotLights.needsUpdate=O,P.spotLightShadows.needsUpdate=O,P.rectAreaLights.needsUpdate=O,P.hemisphereLights.needsUpdate=O),i&&!0===n.fog&&tt.refreshFogUniforms(T,i),tt.refreshMaterialUniforms(T,n,F,U,H),Qc.upload(ht,_.uniformsList,T,X));var P,O;n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Qc.upload(ht,_.uniformsList,T,X),n.uniformsNeedUpdate=!1);n.isSpriteMaterial&&E.setValue(ht,"center",r.center);if(E.setValue(ht,"modelViewMatrix",r.modelViewMatrix),E.setValue(ht,"normalMatrix",r.normalMatrix),E.setValue(ht,"modelMatrix",r.matrixWorld),n.isShaderMaterial||n.isRawShaderMaterial){const t=n.uniformsGroups;for(let e=0,A=t.length;e<A;e++)if(z.isWebGL2){const A=t[e];ut.update(A,b),ut.bind(A,b)}}return b}(t,e,A,n,r);K.setMaterial(n,s);let o=A.index;const l=A.attributes.position;if(null===o){if(void 0===l||0===l.count)return}else if(0===o.count)return;let c,u=1;!0===n.wireframe&&(o=q.getWireframeAttribute(A),u=2),ct.setup(r,n,a,A,o);let d=at;null!==o&&(c=J.get(o),d=ot,d.setIndex(c));const f=null!==o?o.count:l.count,g=A.drawRange.start*u,m=A.drawRange.count*u,B=null!==i?i.start*u:0,_=null!==i?i.count*u:Infinity,x=Math.max(g,B),C=Math.min(f,g+m,B+_)-1,b=Math.max(0,C-x+1);if(0!==b){if(r.isMesh)!0===n.wireframe?(K.setLineWidth(n.wireframeLinewidth*k()),d.setMode(1)):d.setMode(4);else if(r.isLine){let t=n.linewidth;void 0===t&&(t=1),K.setLineWidth(t*k()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(x,b,r.count);else if(A.isInstancedBufferGeometry){const t=Math.min(A.instanceCount,A._maxInstanceCount);d.renderInstances(x,b,t)}else d.render(x,b)}},this.compile=function(t,e){h=At.get(t),h.init(),f.push(h),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(h.pushLight(t),t.castShadow&&h.pushShadow(t))})),h.setupLights(p.physicallyCorrectLights),t.traverse((function(e){const A=e.material;if(A)if(Array.isArray(A))for(let n=0;n<A.length;n++){Qt(A[n],t,e)}else Qt(A,t,e)})),f.pop(),h=null};let vt=null;function yt(){xt.stop()}function _t(){xt.start()}const xt=new zo;function Ct(t,e,A,n){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)A=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)h.pushLight(t),t.castShadow&&h.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||I.intersectsSprite(t)){n&&R.setFromMatrixPosition(t.matrixWorld).applyMatrix4(P);const e=Z.update(t),r=t.material;r.visible&&u.push(t,e,r,A,R.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==G.render.frame&&(t.skeleton.update(),t.skeleton.frame=G.render.frame),!t.frustumCulled||I.intersectsObject(t))){n&&R.setFromMatrixPosition(t.matrixWorld).applyMatrix4(P);const e=Z.update(t),r=t.material;if(Array.isArray(r)){const n=e.groups;for(let i=0,s=n.length;i<s;i++){const s=n[i],a=r[s.materialIndex];a&&a.visible&&u.push(t,e,a,A,R.z,s)}}else r.visible&&u.push(t,e,r,A,R.z,null)}const r=t.children;for(let i=0,s=r.length;i<s;i++)Ct(r[i],e,A,n)}function bt(t,e,A,n){const r=t.opaque,s=t.transmissive,a=t.transparent;h.setupLightsView(A),s.length>0&&function(t,e,A){const n=z.isWebGL2;null===H&&(H=new bs(1,1,{generateMipmaps:!0,type:V.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:n&&!0===i?4:0}));p.getDrawingBufferSize(O),n?H.setSize(O.x,O.y):H.setSize(As(O.x),As(O.y));const r=p.getRenderTarget();p.setRenderTarget(H),p.clear();const s=p.toneMapping;p.toneMapping=0,Ut(t,e,A),p.toneMapping=s,X.updateMultisampleRenderTarget(H),X.updateRenderTargetMipmap(H),p.setRenderTarget(r)}(r,e,A),n&&K.viewport(_.copy(n)),r.length>0&&Ut(r,e,A),s.length>0&&Ut(s,e,A),a.length>0&&Ut(a,e,A),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function Ut(t,e,A){const n=!0===e.isScene?e.overrideMaterial:null;for(let r=0,i=t.length;r<i;r++){const i=t[r],s=i.object,a=i.geometry,o=null===n?i.material:n,l=i.group;s.layers.test(A.layers)&&Ft(s,e,A,a,o,l)}}function Ft(t,e,A,n,r,i){t.onBeforeRender(p,e,A,n,r,i),t.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),r.onBeforeRender(p,e,A,n,t,i),!0===r.transparent&&2===r.side?(r.side=1,r.needsUpdate=!0,p.renderBufferDirect(A,e,n,r,t,i),r.side=0,r.needsUpdate=!0,p.renderBufferDirect(A,e,n,r,t,i),r.side=2):p.renderBufferDirect(A,e,n,r,t,i),t.onAfterRender(p,e,A,n,r,i)}function Qt(t,e,A){!0!==e.isScene&&(e=N);const n=W.get(t),r=h.state.lights,i=h.state.shadowsArray,s=r.state.version,a=$.getParameters(t,r.state,i,e,A),o=$.getProgramCacheKey(a);let l=n.programs;n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.envMap=(t.isMeshStandardMaterial?Y:j).get(t.envMap||n.environment),void 0===l&&(t.addEventListener("dispose",wt),l=new Map,n.programs=l);let c=l.get(o);if(void 0!==c){if(n.currentProgram===c&&n.lightsStateVersion===s)return Mt(t,a),c}else a.uniforms=$.getUniforms(t),t.onBuild(A,a,p),t.onBeforeCompile(a,p),c=$.acquireProgram(a,o),l.set(o,c),n.uniforms=a.uniforms;const u=n.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(u.clippingPlanes=nt.uniform),Mt(t,a),n.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),n.lightsStateVersion=s,n.needsLights&&(u.ambientLightColor.value=r.state.ambient,u.lightProbe.value=r.state.probe,u.directionalLights.value=r.state.directional,u.directionalLightShadows.value=r.state.directionalShadow,u.spotLights.value=r.state.spot,u.spotLightShadows.value=r.state.spotShadow,u.rectAreaLights.value=r.state.rectArea,u.ltc_1.value=r.state.rectAreaLTC1,u.ltc_2.value=r.state.rectAreaLTC2,u.pointLights.value=r.state.point,u.pointLightShadows.value=r.state.pointShadow,u.hemisphereLights.value=r.state.hemi,u.directionalShadowMap.value=r.state.directionalShadowMap,u.directionalShadowMatrix.value=r.state.directionalShadowMatrix,u.spotShadowMap.value=r.state.spotShadowMap,u.spotShadowMatrix.value=r.state.spotShadowMatrix,u.pointShadowMap.value=r.state.pointShadowMap,u.pointShadowMatrix.value=r.state.pointShadowMatrix);const d=c.getUniforms(),f=Qc.seqWithValue(d.seq,u);return n.currentProgram=c,n.uniformsList=f,c}function Mt(t,e){const A=W.get(t);A.outputEncoding=e.outputEncoding,A.instancing=e.instancing,A.skinning=e.skinning,A.morphTargets=e.morphTargets,A.morphNormals=e.morphNormals,A.morphColors=e.morphColors,A.morphTargetsCount=e.morphTargetsCount,A.numClippingPlanes=e.numClippingPlanes,A.numIntersection=e.numClipIntersection,A.vertexAlphas=e.vertexAlphas,A.vertexTangents=e.vertexTangents,A.toneMapping=e.toneMapping}xt.setAnimationLoop((function(t){vt&&vt(t)})),"undefined"!=typeof self&&xt.setContext(self),this.setAnimationLoop=function(t){vt=t,pt.setAnimationLoop(t),null===t?xt.stop():xt.start()},pt.addEventListener("sessionstart",yt),pt.addEventListener("sessionend",_t),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return;if(!0===g)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===pt.enabled&&!0===pt.isPresenting&&(!0===pt.cameraAutoUpdate&&pt.updateCamera(e),e=pt.getCamera()),!0===t.isScene&&t.onBeforeRender(p,t,e,w),h=At.get(t,f.length),h.init(),f.push(h),P.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),I.setFromProjectionMatrix(P),D=this.localClippingEnabled,L=nt.init(this.clippingPlanes,D,e),u=et.get(t,d.length),u.init(),d.push(u),Ct(t,e,0,p.sortObjects),u.finish(),!0===p.sortObjects&&u.sort(Q,M),!0===L&&nt.beginShadows();const A=h.state.shadowsArray;if(rt.render(A,t,e),!0===L&&nt.endShadows(),!0===this.info.autoReset&&this.info.reset(),it.render(u,t),h.setupLights(p.physicallyCorrectLights),e.isArrayCamera){const A=e.cameras;for(let e=0,n=A.length;e<n;e++){const n=A[e];bt(u,t,n,n.viewport)}}else bt(u,t,e);null!==w&&(X.updateMultisampleRenderTarget(w),X.updateRenderTargetMipmap(w)),!0===t.isScene&&t.onAfterRender(p,t,e),ct.resetDefaultState(),v=-1,y=null,f.pop(),h=f.length>0?f[f.length-1]:null,d.pop(),u=d.length>0?d[d.length-1]:null},this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(t,e,A){W.get(t.texture).__webglTexture=e,W.get(t.depthTexture).__webglTexture=A;const n=W.get(t);n.__hasExternalTextures=!0,n.__hasExternalTextures&&(n.__autoAllocateDepthBuffer=void 0===A,n.__autoAllocateDepthBuffer||!0===V.has("WEBGL_multisampled_render_to_texture")&&(n.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const A=W.get(t);A.__webglFramebuffer=e,A.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,A=0){w=t,m=e,B=A;let n=!0;if(t){const e=W.get(t);void 0!==e.__useDefaultFramebuffer?(K.bindFramebuffer(36160,null),n=!1):void 0===e.__webglFramebuffer?X.setupRenderTarget(t):e.__hasExternalTextures&&X.rebindTextures(t,W.get(t.texture).__webglTexture,W.get(t.depthTexture).__webglTexture)}let r=null,i=!1,s=!1;if(t){const A=t.texture;(A.isData3DTexture||A.isDataArrayTexture)&&(s=!0);const n=W.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(r=n[e],i=!0):r=z.isWebGL2&&t.samples>0&&!1===X.useMultisampledRTT(t)?W.get(t).__webglMultisampledFramebuffer:n,_.copy(t.viewport),x.copy(t.scissor),C=t.scissorTest}else _.copy(S).multiplyScalar(F).floor(),x.copy(E).multiplyScalar(F).floor(),C=T;if(K.bindFramebuffer(36160,r)&&z.drawBuffers&&n&&K.drawBuffers(t,r),K.viewport(_),K.scissor(x),K.setScissorTest(C),i){const n=W.get(t.texture);ht.framebufferTexture2D(36160,36064,34069+e,n.__webglTexture,A)}else if(s){const n=W.get(t.texture),r=e||0;ht.framebufferTextureLayer(36160,36064,n.__webglTexture,A||0,r)}v=-1},this.readRenderTargetPixels=function(t,e,A,n,r,i,s){if(!t||!t.isWebGLRenderTarget)return;let a=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){K.bindFramebuffer(36160,a);try{const s=t.texture,a=s.format,o=s.type;if(1023!==a&&lt.convert(a)!==ht.getParameter(35739))return;const l=1016===o&&(V.has("EXT_color_buffer_half_float")||z.isWebGL2&&V.has("EXT_color_buffer_float"));if(!(1009===o||lt.convert(o)===ht.getParameter(35738)||1015===o&&(z.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float"))||l))return;e>=0&&e<=t.width-n&&A>=0&&A<=t.height-r&&ht.readPixels(e,A,n,r,lt.convert(a),lt.convert(o),i)}finally{const t=null!==w?W.get(w).__webglFramebuffer:null;K.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,e,A=0){const n=Math.pow(2,-A),r=Math.floor(e.image.width*n),i=Math.floor(e.image.height*n);X.setTexture2D(e,0),ht.copyTexSubImage2D(3553,A,0,0,t.x,t.y,r,i),K.unbindTexture()},this.copyTextureToTexture=function(t,e,A,n=0){const r=e.image.width,i=e.image.height,s=lt.convert(A.format),a=lt.convert(A.type);X.setTexture2D(A,0),ht.pixelStorei(37440,A.flipY),ht.pixelStorei(37441,A.premultiplyAlpha),ht.pixelStorei(3317,A.unpackAlignment),e.isDataTexture?ht.texSubImage2D(3553,n,t.x,t.y,r,i,s,a,e.image.data):e.isCompressedTexture?ht.compressedTexSubImage2D(3553,n,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,s,e.mipmaps[0].data):ht.texSubImage2D(3553,n,t.x,t.y,s,a,e.image),0===n&&A.generateMipmaps&&ht.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function(t,e,A,n,r=0){if(p.isWebGL1Renderer)return;const i=t.max.x-t.min.x+1,s=t.max.y-t.min.y+1,a=t.max.z-t.min.z+1,o=lt.convert(n.format),l=lt.convert(n.type);let c;if(n.isData3DTexture)X.setTexture3D(n,0),c=32879;else{if(!n.isDataArrayTexture)return;X.setTexture2DArray(n,0),c=35866}ht.pixelStorei(37440,n.flipY),ht.pixelStorei(37441,n.premultiplyAlpha),ht.pixelStorei(3317,n.unpackAlignment);const u=ht.getParameter(3314),h=ht.getParameter(32878),d=ht.getParameter(3316),f=ht.getParameter(3315),g=ht.getParameter(32877),m=A.isCompressedTexture?A.mipmaps[0]:A.image;ht.pixelStorei(3314,m.width),ht.pixelStorei(32878,m.height),ht.pixelStorei(3316,t.min.x),ht.pixelStorei(3315,t.min.y),ht.pixelStorei(32877,t.min.z),A.isDataTexture||A.isData3DTexture?ht.texSubImage3D(c,r,e.x,e.y,e.z,i,s,a,o,l,m.data):A.isCompressedTexture?ht.compressedTexSubImage3D(c,r,e.x,e.y,e.z,i,s,a,o,m.data):ht.texSubImage3D(c,r,e.x,e.y,e.z,i,s,a,o,l,m),ht.pixelStorei(3314,u),ht.pixelStorei(32878,h),ht.pixelStorei(3316,d),ht.pixelStorei(3315,f),ht.pixelStorei(32877,g),0===r&&n.generateMipmaps&&ht.generateMipmap(c),K.unbindTexture()},this.initTexture=function(t){t.isCubeTexture?X.setTextureCube(t,0):t.isData3DTexture?X.setTexture3D(t,0):t.isDataArrayTexture?X.setTexture2DArray(t,0):X.setTexture2D(t,0),K.unbindTexture()},this.resetState=function(){m=0,B=0,w=null,K.reset(),ct.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends _u{}).prototype.isWebGL1Renderer=!0;class xu extends Ea{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}class Cu{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Zi()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,A){t*=this.stride,A*=e.stride;for(let n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[A+n];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Zi()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),A=new this.constructor(e,this.stride);return A.setUsage(this.usage),A}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Zi()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bu=new Ms;class Uu{constructor(t,e,A,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=A,this.normalized=!0===n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,A=this.data.count;e<A;e++)bu.fromBufferAttribute(this,e),bu.applyMatrix4(t),this.setXYZ(e,bu.x,bu.y,bu.z);return this}applyNormalMatrix(t){for(let e=0,A=this.count;e<A;e++)bu.fromBufferAttribute(this,e),bu.applyNormalMatrix(t),this.setXYZ(e,bu.x,bu.y,bu.z);return this}transformDirection(t){for(let e=0,A=this.count;e<A;e++)bu.fromBufferAttribute(this,e),bu.transformDirection(t),this.setXYZ(e,bu.x,bu.y,bu.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,A){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=A,this}setXYZ(t,e,A,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=A,this.data.array[t+2]=n,this}setXYZW(t,e,A,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=A,this.data.array[t+2]=n,this.data.array[t+3]=r,this}clone(t){if(void 0===t){const t=[];for(let e=0;e<this.count;e++){const A=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[A+e])}return new ja(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Uu(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){const t=[];for(let e=0;e<this.count;e++){const A=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[A+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Fu extends Ka{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ms(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Qu;const Mu=new Ms,Su=new Ms,Eu=new Ms,Tu=new ns,Iu=new ns,Lu=new sa,Du=new Ms,Hu=new Ms,Pu=new Ms,Ou=new ns,Ru=new ns,Nu=new ns;class ku extends Ea{constructor(t){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Qu){Qu=new io;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new Cu(t,5);Qu.setIndex([0,1,2,0,2,3]),Qu.setAttribute("position",new Uu(e,3,0,!1)),Qu.setAttribute("uv",new Uu(e,2,3,!1))}this.geometry=Qu,this.material=void 0!==t?t:new Fu,this.center=new ns(.5,.5)}raycast(t,e){t.camera,Su.setFromMatrixScale(this.matrixWorld),Lu.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Eu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Su.multiplyScalar(-Eu.z);const A=this.material.rotation;let n,r;0!==A&&(r=Math.cos(A),n=Math.sin(A));const i=this.center;Vu(Du.set(-.5,-.5,0),Eu,i,Su,n,r),Vu(Hu.set(.5,-.5,0),Eu,i,Su,n,r),Vu(Pu.set(.5,.5,0),Eu,i,Su,n,r),Ou.set(0,0),Ru.set(1,0),Nu.set(1,1);let s=t.ray.intersectTriangle(Du,Hu,Pu,!1,Mu);if(null===s&&(Vu(Hu.set(-.5,.5,0),Eu,i,Su,n,r),Ru.set(0,1),s=t.ray.intersectTriangle(Du,Pu,Hu,!1,Mu),null===s))return;const a=t.ray.origin.distanceTo(Mu);a<t.near||a>t.far||e.push({distance:a,point:Mu.clone(),uv:Va.getUV(Mu,Du,Hu,Pu,Ou,Ru,Nu,new ns),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Vu(t,e,A,n,r,i){Tu.subVectors(t,A).addScalar(.5).multiply(n),void 0!==r?(Iu.x=i*Tu.x-r*Tu.y,Iu.y=r*Tu.x+i*Tu.y):Iu.copy(Tu),t.copy(e),t.x+=Iu.x,t.y+=Iu.y,t.applyMatrix4(Lu)}class zu extends Ka{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ms(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Ku=new Ms,Gu=new Ms,Wu=new sa,Xu=new ia,ju=new qs;class Yu extends Ea{constructor(t=new io,e=new zu){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,A=[0];for(let t=1,n=e.count;t<n;t++)Ku.fromBufferAttribute(e,t-1),Gu.fromBufferAttribute(e,t),A[t]=A[t-1],A[t]+=Ku.distanceTo(Gu);t.setAttribute("lineDistance",new qa(A,1))}return this}raycast(t,e){const A=this.geometry,n=this.matrixWorld,r=t.params.Line.threshold,i=A.drawRange;if(null===A.boundingSphere&&A.computeBoundingSphere(),ju.copy(A.boundingSphere),ju.applyMatrix4(n),ju.radius+=r,!1===t.ray.intersectsSphere(ju))return;Wu.copy(n).invert(),Xu.copy(t.ray).applyMatrix4(Wu);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,o=new Ms,l=new Ms,c=new Ms,u=new Ms,h=this.isLineSegments?2:1,d=A.index,f=A.attributes.position;if(null!==d){for(let A=Math.max(0,i.start),n=Math.min(d.count,i.start+i.count)-1;A<n;A+=h){const n=d.getX(A),r=d.getX(A+1);o.fromBufferAttribute(f,n),l.fromBufferAttribute(f,r);if(Xu.distanceSqToSegment(o,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const i=t.ray.origin.distanceTo(u);i<t.near||i>t.far||e.push({distance:i,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{for(let A=Math.max(0,i.start),n=Math.min(f.count,i.start+i.count)-1;A<n;A+=h){o.fromBufferAttribute(f,A),l.fromBufferAttribute(f,A+1);if(Xu.distanceSqToSegment(o,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(u);n<t.near||n>t.far||e.push({distance:n,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const A=t[e[0]];if(void 0!==A){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=A.length;t<e;t++){const e=A[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}const Ju=new Ms,qu=new Ms;class Zu extends Yu{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,A=[];for(let t=0,n=e.count;t<n;t+=2)Ju.fromBufferAttribute(e,t),qu.fromBufferAttribute(e,t+1),A[t]=0===t?0:A[t-1],A[t+1]=A[t]+Ju.distanceTo(qu);t.setAttribute("lineDistance",new qa(A,1))}return this}}class $u extends Ka{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ms(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const th=new sa,eh=new ia,Ah=new qs,nh=new Ms;class rh extends Ea{constructor(t=new io,e=new $u){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const A=this.geometry,n=this.matrixWorld,r=t.params.Points.threshold,i=A.drawRange;if(null===A.boundingSphere&&A.computeBoundingSphere(),Ah.copy(A.boundingSphere),Ah.applyMatrix4(n),Ah.radius+=r,!1===t.ray.intersectsSphere(Ah))return;th.copy(n).invert(),eh.copy(t.ray).applyMatrix4(th);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,o=A.index,l=A.attributes.position;if(null!==o){for(let A=Math.max(0,i.start),r=Math.min(o.count,i.start+i.count);A<r;A++){const r=o.getX(A);nh.fromBufferAttribute(l,r),ih(nh,r,a,n,t,e,this)}}else{for(let A=Math.max(0,i.start),r=Math.min(l.count,i.start+i.count);A<r;A++)nh.fromBufferAttribute(l,A),ih(nh,A,a,n,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const A=t[e[0]];if(void 0!==A){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=A.length;t<e;t++){const e=A[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function ih(t,e,A,n,r,i,s){const a=eh.distanceSqToPoint(t);if(a<A){const A=new Ms;eh.closestPointToPoint(t,A),A.applyMatrix4(n);const o=r.ray.origin.distanceTo(A);if(o<r.near||o>r.far)return;i.push({distance:o,distanceToRay:Math.sqrt(a),point:A,index:e,face:null,object:s})}}class sh{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return null}getPointAt(t,e){const A=this.getUtoTmapping(t);return this.getPoint(A,e)}getPoints(t=5){const e=[];for(let A=0;A<=t;A++)e.push(this.getPoint(A/t));return e}getSpacedPoints(t=5){const e=[];for(let A=0;A<=t;A++)e.push(this.getPointAt(A/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let A,n=this.getPoint(0),r=0;e.push(0);for(let i=1;i<=t;i++)A=this.getPoint(i/t),r+=A.distanceTo(n),e.push(r),n=A;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const A=this.getLengths();let n=0;const r=A.length;let i;i=e||t*A[r-1];let s,a=0,o=r-1;for(;a<=o;)if(n=Math.floor(a+(o-a)/2),s=A[n]-i,s<0)a=n+1;else{if(!(s>0)){o=n;break}o=n-1}if(n=o,A[n]===i)return n/(r-1);const l=A[n];return(n+(i-l)/(A[n+1]-l))/(r-1)}getTangent(t,e){const A=1e-4;let n=t-A,r=t+A;n<0&&(n=0),r>1&&(r=1);const i=this.getPoint(n),s=this.getPoint(r),a=e||(i.isVector2?new ns:new Ms);return a.copy(s).sub(i).normalize(),a}getTangentAt(t,e){const A=this.getUtoTmapping(t);return this.getTangent(A,e)}computeFrenetFrames(t,e){const A=new Ms,n=[],r=[],i=[],s=new Ms,a=new sa;for(let h=0;h<=t;h++){const e=h/t;n[h]=this.getTangentAt(e,new Ms)}r[0]=new Ms,i[0]=new Ms;let o=Number.MAX_VALUE;const l=Math.abs(n[0].x),c=Math.abs(n[0].y),u=Math.abs(n[0].z);l<=o&&(o=l,A.set(1,0,0)),c<=o&&(o=c,A.set(0,1,0)),u<=o&&A.set(0,0,1),s.crossVectors(n[0],A).normalize(),r[0].crossVectors(n[0],s),i[0].crossVectors(n[0],r[0]);for(let h=1;h<=t;h++){if(r[h]=r[h-1].clone(),i[h]=i[h-1].clone(),s.crossVectors(n[h-1],n[h]),s.length()>Number.EPSILON){s.normalize();const t=Math.acos($i(n[h-1].dot(n[h]),-1,1));r[h].applyMatrix4(a.makeRotationAxis(s,t))}i[h].crossVectors(n[h],r[h])}if(!0===e){let e=Math.acos($i(r[0].dot(r[t]),-1,1));e/=t,n[0].dot(s.crossVectors(r[0],r[t]))>0&&(e=-e);for(let A=1;A<=t;A++)r[A].applyMatrix4(a.makeRotationAxis(n[A],e*A)),i[A].crossVectors(n[A],r[A])}return{tangents:n,normals:r,binormals:i}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class ah extends sh{constructor(t=0,e=0,A=1,n=1,r=0,i=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=A,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=i,this.aClockwise=s,this.aRotation=a}getPoint(t,e){const A=e||new ns,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const i=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r===n?r=-n:r-=n);const s=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(s),o=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),A=a-this.aX,n=o-this.aY;a=A*t-n*e+this.aX,o=A*e+n*t+this.aY}return A.set(a,o)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class oh extends ah{constructor(t,e,A,n,r,i){super(t,e,A,A,n,r,i),this.isArcCurve=!0,this.type="ArcCurve"}}function lh(){let t=0,e=0,A=0,n=0;function r(r,i,s,a){t=r,e=s,A=-3*r+3*i-2*s-a,n=2*r-2*i+s+a}return{initCatmullRom:function(t,e,A,n,i){r(e,A,i*(A-t),i*(n-e))},initNonuniformCatmullRom:function(t,e,A,n,i,s,a){let o=(e-t)/i-(A-t)/(i+s)+(A-e)/s,l=(A-e)/s-(n-e)/(s+a)+(n-A)/a;o*=s,l*=s,r(e,A,o,l)},calc:function(r){const i=r*r;return t+e*r+A*i+n*(i*r)}}}const ch=new Ms,uh=new lh,hh=new lh,dh=new lh;class fh extends sh{constructor(t=[],e=!1,A="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=A,this.tension=n}getPoint(t,e=new Ms){const A=e,n=this.points,r=n.length,i=(r-(this.closed?0:1))*t;let s,a,o=Math.floor(i),l=i-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:0===l&&o===r-1&&(o=r-2,l=1),this.closed||o>0?s=n[(o-1)%r]:(ch.subVectors(n[0],n[1]).add(n[0]),s=ch);const c=n[o%r],u=n[(o+1)%r];if(this.closed||o+2<r?a=n[(o+2)%r]:(ch.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=ch),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(s.distanceToSquared(c),t),A=Math.pow(c.distanceToSquared(u),t),n=Math.pow(u.distanceToSquared(a),t);A<1e-4&&(A=1),e<1e-4&&(e=A),n<1e-4&&(n=A),uh.initNonuniformCatmullRom(s.x,c.x,u.x,a.x,e,A,n),hh.initNonuniformCatmullRom(s.y,c.y,u.y,a.y,e,A,n),dh.initNonuniformCatmullRom(s.z,c.z,u.z,a.z,e,A,n)}else"catmullrom"===this.curveType&&(uh.initCatmullRom(s.x,c.x,u.x,a.x,this.tension),hh.initCatmullRom(s.y,c.y,u.y,a.y,this.tension),dh.initCatmullRom(s.z,c.z,u.z,a.z,this.tension));return A.set(uh.calc(l),hh.calc(l),dh.calc(l)),A}copy(t){super.copy(t),this.points=[];for(let e=0,A=t.points.length;e<A;e++){const A=t.points[e];this.points.push(A.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,A=this.points.length;e<A;e++){const A=this.points[e];t.points.push(A.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,A=t.points.length;e<A;e++){const A=t.points[e];this.points.push((new Ms).fromArray(A))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function ph(t,e,A,n,r){const i=.5*(n-e),s=.5*(r-A),a=t*t;return(2*A-2*n+i+s)*(t*a)+(-3*A+3*n-2*i-s)*a+i*t+A}function gh(t,e,A,n){return function(t,e){const A=1-t;return A*A*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,A)+function(t,e){return t*t*e}(t,n)}function mh(t,e,A,n,r){return function(t,e){const A=1-t;return A*A*A*e}(t,e)+function(t,e){const A=1-t;return 3*A*A*t*e}(t,A)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,r)}class Bh extends sh{constructor(t=new Ms,e=new Ms,A=new Ms){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=A}getPoint(t,e=new Ms){const A=e,n=this.v0,r=this.v1,i=this.v2;return A.set(gh(t,n.x,r.x,i.x),gh(t,n.y,r.y,i.y),gh(t,n.z,r.z,i.z)),A}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}var wh=Object.freeze({__proto__:null,ArcCurve:oh,CatmullRomCurve3:fh,CubicBezierCurve:class extends sh{constructor(t=new ns,e=new ns,A=new ns,n=new ns){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=A,this.v3=n}getPoint(t,e=new ns){const A=e,n=this.v0,r=this.v1,i=this.v2,s=this.v3;return A.set(mh(t,n.x,r.x,i.x,s.x),mh(t,n.y,r.y,i.y,s.y)),A}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}},CubicBezierCurve3:class extends sh{constructor(t=new Ms,e=new Ms,A=new Ms,n=new Ms){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=A,this.v3=n}getPoint(t,e=new Ms){const A=e,n=this.v0,r=this.v1,i=this.v2,s=this.v3;return A.set(mh(t,n.x,r.x,i.x,s.x),mh(t,n.y,r.y,i.y,s.y),mh(t,n.z,r.z,i.z,s.z)),A}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}},EllipseCurve:ah,LineCurve:class extends sh{constructor(t=new ns,e=new ns){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new ns){const A=e;return 1===t?A.copy(this.v2):(A.copy(this.v2).sub(this.v1),A.multiplyScalar(t).add(this.v1)),A}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const A=e||new ns;return A.copy(this.v2).sub(this.v1).normalize(),A}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},LineCurve3:class extends sh{constructor(t=new Ms,e=new Ms){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new Ms){const A=e;return 1===t?A.copy(this.v2):(A.copy(this.v2).sub(this.v1),A.multiplyScalar(t).add(this.v1)),A}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:class extends sh{constructor(t=new ns,e=new ns,A=new ns){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=A}getPoint(t,e=new ns){const A=e,n=this.v0,r=this.v1,i=this.v2;return A.set(gh(t,n.x,r.x,i.x),gh(t,n.y,r.y,i.y)),A}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve3:Bh,SplineCurve:class extends sh{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new ns){const A=e,n=this.points,r=(n.length-1)*t,i=Math.floor(r),s=r-i,a=n[0===i?i:i-1],o=n[i],l=n[i>n.length-2?n.length-1:i+1],c=n[i>n.length-3?n.length-1:i+2];return A.set(ph(s,a.x,o.x,l.x,c.x),ph(s,a.y,o.y,l.y,c.y)),A}copy(t){super.copy(t),this.points=[];for(let e=0,A=t.points.length;e<A;e++){const A=t.points[e];this.points.push(A.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,A=this.points.length;e<A;e++){const A=this.points[e];t.points.push(A.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,A=t.points.length;e<A;e++){const A=t.points[e];this.points.push((new ns).fromArray(A))}return this}}});class vh extends io{constructor(t=1,e=32,A=16,n=0,r=2*Math.PI,i=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:A,phiStart:n,phiLength:r,thetaStart:i,thetaLength:s},e=Math.max(3,Math.floor(e)),A=Math.max(2,Math.floor(A));const a=Math.min(i+s,Math.PI);let o=0;const l=[],c=new Ms,u=new Ms,h=[],d=[],f=[],p=[];for(let g=0;g<=A;g++){const h=[],m=g/A;let B=0;0==g&&0==i?B=.5/e:g==A&&a==Math.PI&&(B=-.5/e);for(let A=0;A<=e;A++){const a=A/e;c.x=-t*Math.cos(n+a*r)*Math.sin(i+m*s),c.y=t*Math.cos(i+m*s),c.z=t*Math.sin(n+a*r)*Math.sin(i+m*s),d.push(c.x,c.y,c.z),u.copy(c).normalize(),f.push(u.x,u.y,u.z),p.push(a+B,1-m),h.push(o++)}l.push(h)}for(let g=0;g<A;g++)for(let t=0;t<e;t++){const e=l[g][t+1],n=l[g][t],r=l[g+1][t],s=l[g+1][t+1];(0!==g||i>0)&&h.push(e,n,s),(g!==A-1||a<Math.PI)&&h.push(n,r,s)}this.setIndex(h),this.setAttribute("position",new qa(d,3)),this.setAttribute("normal",new qa(f,3)),this.setAttribute("uv",new qa(p,2))}static fromJSON(t){return new vh(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class yh extends io{constructor(t=new Bh(new Ms(-1,-1,0),new Ms(-1,1,0),new Ms(1,1,0)),e=64,A=1,n=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:A,radialSegments:n,closed:r};const i=t.computeFrenetFrames(e,r);this.tangents=i.tangents,this.normals=i.normals,this.binormals=i.binormals;const s=new Ms,a=new Ms,o=new ns;let l=new Ms;const c=[],u=[],h=[],d=[];function f(r){l=t.getPointAt(r/e,l);const o=i.normals[r],h=i.binormals[r];for(let t=0;t<=n;t++){const e=t/n*Math.PI*2,r=Math.sin(e),i=-Math.cos(e);a.x=i*o.x+r*h.x,a.y=i*o.y+r*h.y,a.z=i*o.z+r*h.z,a.normalize(),u.push(a.x,a.y,a.z),s.x=l.x+A*a.x,s.y=l.y+A*a.y,s.z=l.z+A*a.z,c.push(s.x,s.y,s.z)}}!function(){for(let t=0;t<e;t++)f(t);f(!1===r?e:0),function(){for(let t=0;t<=e;t++)for(let A=0;A<=n;A++)o.x=t/e,o.y=A/n,h.push(o.x,o.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=n;e++){const A=(n+1)*(t-1)+(e-1),r=(n+1)*t+(e-1),i=(n+1)*t+e,s=(n+1)*(t-1)+e;d.push(A,r,s),d.push(r,i,s)}}()}(),this.setIndex(d),this.setAttribute("position",new qa(c,3)),this.setAttribute("normal",new qa(u,3)),this.setAttribute("uv",new qa(h,2))}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new yh((new wh[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}const _h={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class xh{constructor(t,e,A){const n=this;let r,i=!1,s=0,a=0;const o=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=A,this.itemStart=function(t){a++,!1===i&&void 0!==n.onStart&&n.onStart(t,s,a),i=!0},this.itemEnd=function(t){s++,void 0!==n.onProgress&&n.onProgress(t,s,a),s===a&&(i=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return o.push(t,e),this},this.removeHandler=function(t){const e=o.indexOf(t);return-1!==e&&o.splice(e,2),this},this.getHandler=function(t){for(let e=0,A=o.length;e<A;e+=2){const A=o[e],n=o[e+1];if(A.global&&(A.lastIndex=0),A.test(t))return n}return null}}}const Ch=new xh;class bh{constructor(t){this.manager=void 0!==t?t:Ch,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const A=this;return new Promise((function(n,r){A.load(t,n,e,r)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}class Uh extends bh{constructor(t){super(t)}load(t,e,A,n){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,i=_h.get(t);if(void 0!==i)return r.manager.itemStart(t),setTimeout((function(){e&&e(i),r.manager.itemEnd(t)}),0),i;const s=ss("img");function a(){l(),_h.add(t,this),e&&e(this),r.manager.itemEnd(t)}function o(e){l(),n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)}function l(){s.removeEventListener("load",a,!1),s.removeEventListener("error",o,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",o,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s}}class Fh extends bh{constructor(t){super(t)}load(t,e,A,n){const r=new xs,i=new Uh(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(t,(function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)}),A,n),r}}class Qh extends Ea{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new ms(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}const Mh=new sa,Sh=new Ms,Eh=new Ms;class Th{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ns(512,512),this.map=null,this.mapPass=null,this.matrix=new sa,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Vo,this._frameExtents=new ns(1,1),this._viewportCount=1,this._viewports=[new Cs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,A=this.matrix;Sh.setFromMatrixPosition(t.matrixWorld),e.position.copy(Sh),Eh.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Eh),e.updateMatrixWorld(),Mh.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Mh),A.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),A.multiply(e.projectionMatrix),A.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}const Ih=new sa,Lh=new Ms,Dh=new Ms;class Hh extends Th{constructor(){super(new To(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ns(4,2),this._viewportCount=6,this._viewports=[new Cs(2,1,1,1),new Cs(0,1,1,1),new Cs(3,1,1,1),new Cs(1,1,1,1),new Cs(3,0,1,1),new Cs(1,0,1,1)],this._cubeDirections=[new Ms(1,0,0),new Ms(-1,0,0),new Ms(0,0,1),new Ms(0,0,-1),new Ms(0,1,0),new Ms(0,-1,0)],this._cubeUps=[new Ms(0,1,0),new Ms(0,1,0),new Ms(0,1,0),new Ms(0,1,0),new Ms(0,0,1),new Ms(0,0,-1)]}updateMatrices(t,e=0){const A=this.camera,n=this.matrix,r=t.distance||A.far;r!==A.far&&(A.far=r,A.updateProjectionMatrix()),Lh.setFromMatrixPosition(t.matrixWorld),A.position.copy(Lh),Dh.copy(A.position),Dh.add(this._cubeDirections[e]),A.up.copy(this._cubeUps[e]),A.lookAt(Dh),A.updateMatrixWorld(),n.makeTranslation(-Lh.x,-Lh.y,-Lh.z),Ih.multiplyMatrices(A.projectionMatrix,A.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ih)}}class Ph extends Qh{constructor(t,e,A=0,n=1){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=A,this.decay=n,this.shadow=new Hh}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Oh extends Th{constructor(){super(new el(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Rh extends Qh{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ea.DefaultUp),this.updateMatrix(),this.target=new Ea,this.shadow=new Oh}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class Nh{constructor(t=1,e=0,A=0){return this.radius=t,this.phi=e,this.theta=A,this}set(t,e,A){return this.radius=t,this.phi=e,this.theta=A,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,A){return this.radius=Math.sqrt(t*t+e*e+A*A),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,A),this.phi=Math.acos($i(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class kh extends Zu{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],A=new io;A.setAttribute("position",new qa(e,3)),A.setAttribute("color",new qa([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(A,new zu({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,A){const n=new ms,r=this.geometry.attributes.color.array;return n.set(t),n.toArray(r,0),n.toArray(r,3),n.set(e),n.toArray(r,6),n.toArray(r,9),n.set(A),n.toArray(r,12),n.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"143"}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__="143"));const Vh={type:"change"},zh={type:"start"},Kh={type:"end"};class Gh extends ji{constructor(t,e){super(),document,this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Ms,this.minDistance=0,this.maxDistance=Infinity,this.minZoom=0,this.maxZoom=Infinity,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-Infinity,this.maxAzimuthAngle=Infinity,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:ki,MIDDLE:Vi,RIGHT:zi},this.touches={ONE:Ki,TWO:Wi},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",z),this._domElementKeyEvents=t},this.saveState=function(){A.target0.copy(A.target),A.position0.copy(A.object.position),A.zoom0=A.object.zoom},this.reset=function(){A.target.copy(A.target0),A.object.position.copy(A.position0),A.object.zoom=A.zoom0,A.object.updateProjectionMatrix(),A.dispatchEvent(Vh),A.update(),r=n.NONE},this.update=function(){const e=new Ms,u=(new Qs).setFromUnitVectors(t.up,new Ms(0,1,0)),h=u.clone().invert(),d=new Ms,f=new Qs,p=2*Math.PI;return function(){const t=A.object.position;e.copy(t).sub(A.target),e.applyQuaternion(u),s.setFromVector3(e),A.autoRotate&&r===n.NONE&&x(2*Math.PI/60/60*A.autoRotateSpeed),A.enableDamping?(s.theta+=a.theta*A.dampingFactor,s.phi+=a.phi*A.dampingFactor):(s.theta+=a.theta,s.phi+=a.phi);let g=A.minAzimuthAngle,m=A.maxAzimuthAngle;return isFinite(g)&&isFinite(m)&&(g<-Math.PI?g+=p:g>Math.PI&&(g-=p),m<-Math.PI?m+=p:m>Math.PI&&(m-=p),s.theta=g<=m?Math.max(g,Math.min(m,s.theta)):s.theta>(g+m)/2?Math.max(g,s.theta):Math.min(m,s.theta)),s.phi=Math.max(A.minPolarAngle,Math.min(A.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=o,s.radius=Math.max(A.minDistance,Math.min(A.maxDistance,s.radius)),!0===A.enableDamping?A.target.addScaledVector(l,A.dampingFactor):A.target.add(l),e.setFromSpherical(s),e.applyQuaternion(h),t.copy(A.target).add(e),A.object.lookAt(A.target),!0===A.enableDamping?(a.theta*=1-A.dampingFactor,a.phi*=1-A.dampingFactor,l.multiplyScalar(1-A.dampingFactor)):(a.set(0,0,0),l.set(0,0,0)),o=1,!!(c||d.distanceToSquared(A.object.position)>i||8*(1-f.dot(A.object.quaternion))>i)&&(A.dispatchEvent(Vh),d.copy(A.object.position),f.copy(A.object.quaternion),c=!1,!0)}}(),this.dispose=function(){A.domElement.removeEventListener("contextmenu",K),A.domElement.removeEventListener("pointerdown",O),A.domElement.removeEventListener("pointercancel",k),A.domElement.removeEventListener("wheel",V),A.domElement.removeEventListener("pointermove",R),A.domElement.removeEventListener("pointerup",N),null!==A._domElementKeyEvents&&A._domElementKeyEvents.removeEventListener("keydown",z)};const A=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=n.NONE;const i=1e-6,s=new Nh,a=new Nh;let o=1;const l=new Ms;let c=!1;const u=new ns,h=new ns,d=new ns,f=new ns,p=new ns,g=new ns,m=new ns,B=new ns,w=new ns,v=[],y={};function _(){return Math.pow(.95,A.zoomSpeed)}function x(t){a.theta-=t}function C(t){a.phi-=t}const b=function(){const t=new Ms;return function(e,A){t.setFromMatrixColumn(A,0),t.multiplyScalar(-e),l.add(t)}}(),U=function(){const t=new Ms;return function(e,n){!0===A.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(A.object.up,t)),t.multiplyScalar(e),l.add(t)}}(),F=function(){const t=new Ms;return function(e,n){const r=A.domElement;if(A.object.isPerspectiveCamera){const i=A.object.position;t.copy(i).sub(A.target);let s=t.length();s*=Math.tan(A.object.fov/2*Math.PI/180),b(2*e*s/r.clientHeight,A.object.matrix),U(2*n*s/r.clientHeight,A.object.matrix)}else A.object.isOrthographicCamera?(b(e*(A.object.right-A.object.left)/A.object.zoom/r.clientWidth,A.object.matrix),U(n*(A.object.top-A.object.bottom)/A.object.zoom/r.clientHeight,A.object.matrix)):A.enablePan=!1}}();function Q(t){A.object.isPerspectiveCamera?o/=t:A.object.isOrthographicCamera?(A.object.zoom=Math.max(A.minZoom,Math.min(A.maxZoom,A.object.zoom*t)),A.object.updateProjectionMatrix(),c=!0):A.enableZoom=!1}function M(t){A.object.isPerspectiveCamera?o*=t:A.object.isOrthographicCamera?(A.object.zoom=Math.max(A.minZoom,Math.min(A.maxZoom,A.object.zoom/t)),A.object.updateProjectionMatrix(),c=!0):A.enableZoom=!1}function S(t){u.set(t.clientX,t.clientY)}function E(t){f.set(t.clientX,t.clientY)}function T(){if(1===v.length)u.set(v[0].pageX,v[0].pageY);else{const t=.5*(v[0].pageX+v[1].pageX),e=.5*(v[0].pageY+v[1].pageY);u.set(t,e)}}function I(){if(1===v.length)f.set(v[0].pageX,v[0].pageY);else{const t=.5*(v[0].pageX+v[1].pageX),e=.5*(v[0].pageY+v[1].pageY);f.set(t,e)}}function L(){const t=v[0].pageX-v[1].pageX,e=v[0].pageY-v[1].pageY,A=Math.sqrt(t*t+e*e);m.set(0,A)}function D(t){if(1==v.length)h.set(t.pageX,t.pageY);else{const e=X(t),A=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);h.set(A,n)}d.subVectors(h,u).multiplyScalar(A.rotateSpeed);const e=A.domElement;x(2*Math.PI*d.x/e.clientHeight),C(2*Math.PI*d.y/e.clientHeight),u.copy(h)}function H(t){if(1===v.length)p.set(t.pageX,t.pageY);else{const e=X(t),A=.5*(t.pageX+e.x),n=.5*(t.pageY+e.y);p.set(A,n)}g.subVectors(p,f).multiplyScalar(A.panSpeed),F(g.x,g.y),f.copy(p)}function P(t){const e=X(t),n=t.pageX-e.x,r=t.pageY-e.y,i=Math.sqrt(n*n+r*r);B.set(0,i),w.set(0,Math.pow(B.y/m.y,A.zoomSpeed)),Q(w.y),m.copy(B)}function O(t){!1!==A.enabled&&(0===v.length&&(A.domElement.setPointerCapture(t.pointerId),A.domElement.addEventListener("pointermove",R),A.domElement.addEventListener("pointerup",N)),function(t){v.push(t)}(t),"touch"===t.pointerType?function(t){switch(W(t),v.length){case 1:switch(A.touches.ONE){case Ki:if(!1===A.enableRotate)return;T(),r=n.TOUCH_ROTATE;break;case Gi:if(!1===A.enablePan)return;I(),r=n.TOUCH_PAN;break;default:r=n.NONE}break;case 2:switch(A.touches.TWO){case Wi:if(!1===A.enableZoom&&!1===A.enablePan)return;A.enableZoom&&L(),A.enablePan&&I(),r=n.TOUCH_DOLLY_PAN;break;case Xi:if(!1===A.enableZoom&&!1===A.enableRotate)return;A.enableZoom&&L(),A.enableRotate&&T(),r=n.TOUCH_DOLLY_ROTATE;break;default:r=n.NONE}break;default:r=n.NONE}r!==n.NONE&&A.dispatchEvent(zh)}(t):function(t){let e;switch(t.button){case 0:e=A.mouseButtons.LEFT;break;case 1:e=A.mouseButtons.MIDDLE;break;case 2:e=A.mouseButtons.RIGHT;break;default:e=-1}switch(e){case Vi:if(!1===A.enableZoom)return;!function(t){m.set(t.clientX,t.clientY)}(t),r=n.DOLLY;break;case ki:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===A.enablePan)return;E(t),r=n.PAN}else{if(!1===A.enableRotate)return;S(t),r=n.ROTATE}break;case zi:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===A.enableRotate)return;S(t),r=n.ROTATE}else{if(!1===A.enablePan)return;E(t),r=n.PAN}break;default:r=n.NONE}r!==n.NONE&&A.dispatchEvent(zh)}(t))}function R(t){!1!==A.enabled&&("touch"===t.pointerType?function(t){switch(W(t),r){case n.TOUCH_ROTATE:if(!1===A.enableRotate)return;D(t),A.update();break;case n.TOUCH_PAN:if(!1===A.enablePan)return;H(t),A.update();break;case n.TOUCH_DOLLY_PAN:if(!1===A.enableZoom&&!1===A.enablePan)return;!function(t){A.enableZoom&&P(t),A.enablePan&&H(t)}(t),A.update();break;case n.TOUCH_DOLLY_ROTATE:if(!1===A.enableZoom&&!1===A.enableRotate)return;!function(t){A.enableZoom&&P(t),A.enableRotate&&D(t)}(t),A.update();break;default:r=n.NONE}}(t):function(t){switch(r){case n.ROTATE:if(!1===A.enableRotate)return;!function(t){h.set(t.clientX,t.clientY),d.subVectors(h,u).multiplyScalar(A.rotateSpeed);const e=A.domElement;x(2*Math.PI*d.x/e.clientHeight),C(2*Math.PI*d.y/e.clientHeight),u.copy(h),A.update()}(t);break;case n.DOLLY:if(!1===A.enableZoom)return;!function(t){B.set(t.clientX,t.clientY),w.subVectors(B,m),w.y>0?Q(_()):w.y<0&&M(_()),m.copy(B),A.update()}(t);break;case n.PAN:if(!1===A.enablePan)return;!function(t){p.set(t.clientX,t.clientY),g.subVectors(p,f).multiplyScalar(A.panSpeed),F(g.x,g.y),f.copy(p),A.update()}(t)}}(t))}function N(t){G(t),0===v.length&&(A.domElement.releasePointerCapture(t.pointerId),A.domElement.removeEventListener("pointermove",R),A.domElement.removeEventListener("pointerup",N)),A.dispatchEvent(Kh),r=n.NONE}function k(t){G(t)}function V(t){!1!==A.enabled&&!1!==A.enableZoom&&r===n.NONE&&(t.preventDefault(),A.dispatchEvent(zh),function(t){t.deltaY<0?M(_()):t.deltaY>0&&Q(_()),A.update()}(t),A.dispatchEvent(Kh))}function z(t){!1!==A.enabled&&!1!==A.enablePan&&function(t){let e=!1;switch(t.code){case A.keys.UP:F(0,A.keyPanSpeed),e=!0;break;case A.keys.BOTTOM:F(0,-A.keyPanSpeed),e=!0;break;case A.keys.LEFT:F(A.keyPanSpeed,0),e=!0;break;case A.keys.RIGHT:F(-A.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),A.update())}(t)}function K(t){!1!==A.enabled&&t.preventDefault()}function G(t){delete y[t.pointerId];for(let e=0;e<v.length;e++)if(v[e].pointerId==t.pointerId)return void v.splice(e,1)}function W(t){let e=y[t.pointerId];void 0===e&&(e=new ns,y[t.pointerId]=e),e.set(t.pageX,t.pageY)}function X(t){const e=t.pointerId===v[0].pointerId?v[1]:v[0];return y[e.pointerId]}A.domElement.addEventListener("contextmenu",K),A.domElement.addEventListener("pointerdown",O),A.domElement.addEventListener("pointercancel",k),A.domElement.addEventListener("wheel",V,{passive:!1}),this.update()}}class Wh{constructor(t){this.initZoom=()=>{document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)},this.coordinates=(t,e)=>{const A=270,n=-270;this.mouseX=t-window.innerWidth/2,this.mouseY=e-window.innerHeight/2,this.mouseX=this.mouseX>=A?A:this.mouseX,this.mouseX=this.mouseX<=n?n:this.mouseX,this.mouseY=this.mouseY>=A?A:this.mouseY,this.mouseY=this.mouseY<=n?n:this.mouseY,this.camera.position.x+=.05*(-1*this.mouseX-this.camera.position.x),this.camera.position.y+=.05*(this.mouseY-this.camera.position.y),this.camera.lookAt(this.scene.position)},this.onMouseMove=t=>{this.coordinates(t.clientX,t.clientY)},this.onTouchMove=t=>{const e=t.changedTouches[0].clientX,A=t.changedTouches[0].clientY;this.coordinates(e,A)},this.render=()=>{this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render)},this.dom=t,this.mouseX=this.mouseY=0,this.initScenes(),this.setControls(),this.render()}initAxesHelper(){const t=new kh(80);this.scene.add(t),this.renderer.render(this.scene,this.camera)}initScenes(){this.scene=new xu,this.camera=new To(35,window.innerWidth/window.innerHeight,1,1e5),this.camera.position.set(0,0,280);const t=new Rh;t.position.set(0,0,1);const e=new Rh;t.position.set(0,0,-1),this.scene.add(t),this.scene.add(e);const A=new Ph(15658734);A.position.set(200,400,300);const n=new Ph(15658734);n.position.set(400,200,-300),this.scene.add(A),this.scene.add(n),this.renderer=new _u({alpha:!0,antialias:!0,preserveDrawingBuffer:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.dom.appendChild(this.renderer.domElement)}setControls(){this.controls=new Gh(this.camera,this.renderer.domElement),this.controls.autoRotateSpeed=3,this.controls.enableDamping=!0,this.controls.dampingFactor=.05,this.controls.enableZoom=!0,this.controls.minDistance=100,this.controls.maxDistance=300,this.controls.enablePan=!1}}const Xh=["gradient","redCircle","label","aperture","glow","light_column"].map((t=>({name:t,url:"./earth/"+t+".png"})));Xh.push({name:"earth",url:"./earth/earth.jpg"});const jh={textures:Xh};class Yh{constructor(t){this.callback=t,this.textures={},this.setLoadingManager(),this.loadResources()}setLoadingManager(){this.manager=new xh,this.manager.onStart=()=>{},this.manager.onLoad=()=>{this.callback()},this.manager.onProgress=t=>{},this.manager.onError=t=>{}}loadResources(){var t;this.textureLoader=new Fh(this.manager),null==(t=jh.textures)||t.forEach((t=>{this.textureLoader.load(t.url,(e=>{this.textures[t.name]=e}))}))}}function Jh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qh(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}
/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Zh,$h,td,ed,Ad,nd,rd,id,sd,ad,od,ld,cd,ud,hd,dd,fd,pd,gd,md,Bd,wd,vd,yd,_d,xd,Cd,bd,Ud,Fd,Qd={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Md={duration:.5,overwrite:!1,delay:0},Sd=2*Math.PI,Ed=Sd/4,Td=0,Id=Math.sqrt,Ld=Math.cos,Dd=Math.sin,Hd=function(t){return"string"==typeof t},Pd=function(t){return"function"==typeof t},Od=function(t){return"number"==typeof t},Rd=function(t){return void 0===t},Nd=function(t){return"object"==typeof t},kd=function(t){return!1!==t},Vd=function(){return"undefined"!=typeof window},zd=function(t){return Pd(t)||Hd(t)},Kd="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Gd=Array.isArray,Wd=/(?:-?\.?\d|\.)+/gi,Xd=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,jd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Yd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Jd=/[+-]=-?[.\d]+/,qd=/[^,'"\[\]\s]+/gi,Zd=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$d={},tf={},ef=function(t){return(tf=Sf(t,$d))&&Sg},Af=function(t,e){return!e&&void 0},nf=function(t,e){return t&&($d[t]=e)&&tf&&(tf[t]=e)||$d},rf=function(){return 0},sf={suppressEvents:!0,isStart:!0,kill:!1},af={suppressEvents:!0,kill:!1},of={suppressEvents:!0},lf={},cf=[],uf={},hf={},df={},ff=30,pf=[],gf="",mf=function(t){var e,A,n=t[0];if(Nd(n)||Pd(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(A=pf.length;A--&&!pf[A].targetTest(n););e=pf[A]}for(A=t.length;A--;)t[A]&&(t[A]._gsap||(t[A]._gsap=new Kp(t[A],e)))||t.splice(A,1);return t},Bf=function(t){return t._gsap||mf(op(t))[0]._gsap},wf=function(t,e,A){return(A=t[e])&&Pd(A)?t[e]():Rd(A)&&t.getAttribute&&t.getAttribute(e)||A},vf=function(t,e){return(t=t.split(",")).forEach(e)||t},yf=function(t){return Math.round(1e5*t)/1e5||0},_f=function(t){return Math.round(1e7*t)/1e7||0},xf=function(t,e){var A=e.charAt(0),n=parseFloat(e.substr(2));return t=parseFloat(t),"+"===A?t+n:"-"===A?t-n:"*"===A?t*n:t/n},Cf=function(t,e){for(var A=e.length,n=0;t.indexOf(e[n])<0&&++n<A;);return n<A},bf=function(){var t,e,A=cf.length,n=cf.slice(0);for(uf={},cf.length=0,t=0;t<A;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Uf=function(t,e,A,n){cf.length&&!$h&&bf(),t.render(e,A,n||$h&&e<0&&(t._initted||t._startAt)),cf.length&&!$h&&bf()},Ff=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(qd).length<2?e:Hd(t)?t.trim():t},Qf=function(t){return t},Mf=function(t,e){for(var A in e)A in t||(t[A]=e[A]);return t},Sf=function(t,e){for(var A in e)t[A]=e[A];return t},Ef=function t(e,A){for(var n in A)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=Nd(A[n])?t(e[n]||(e[n]={}),A[n]):A[n]);return e},Tf=function(t,e){var A,n={};for(A in t)A in e||(n[A]=t[A]);return n},If=function(t){var e,A=t.parent||ed,n=t.keyframes?(e=Gd(t.keyframes),function(t,A){for(var n in A)n in t||"duration"===n&&e||"ease"===n||(t[n]=A[n])}):Mf;if(kd(t.inherit))for(;A;)n(t,A.vars.defaults),A=A.parent||A._dp;return t},Lf=function(t,e,A,n,r){void 0===A&&(A="_first"),void 0===n&&(n="_last");var i,s=t[n];if(r)for(i=e[r];s&&s[r]>i;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[A],t[A]=e),e._next?e._next._prev=e:t[n]=e,e._prev=s,e.parent=e._dp=t,e},Df=function(t,e,A,n){void 0===A&&(A="_first"),void 0===n&&(n="_last");var r=e._prev,i=e._next;r?r._next=i:t[A]===e&&(t[A]=i),i?i._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},Hf=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Pf=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var A=t;A;)A._dirty=1,A=A.parent;return t},Of=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Rf=function(t,e,A,n){return t._startAt&&($h?t._startAt.revert(af):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,n))},Nf=function t(e){return!e||e._ts&&t(e.parent)},kf=function(t){return t._repeat?Vf(t._tTime,t=t.duration()+t._rDelay)*t:0},Vf=function(t,e){var A=Math.floor(t/=e);return t&&A===t?A-1:A},zf=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Kf=function(t){return t._end=_f(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},Gf=function(t,e){var A=t._dp;return A&&A.smoothChildTiming&&t._ts&&(t._start=_f(A._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Kf(t),A._dirty||Pf(A,t)),t},Wf=function(t,e){var A;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(A=zf(t.rawTime(),e),(!e._dur||rp(0,e.totalDuration(),A)-e._tTime>1e-8)&&e.render(A,!0)),Pf(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(A=t;A._dp;)A.rawTime()>=0&&A.totalTime(A._tTime),A=A._dp;t._zTime=-1e-8}},Xf=function(t,e,A,n){return e.parent&&Hf(e),e._start=_f((Od(A)?A:A||t!==ed?ep(t,A,e):t._time)+e._delay),e._end=_f(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),Lf(t,e,"_first","_last",t._sort?"_start":0),qf(e)||(t._recent=e),n||Wf(t,e),t._ts<0&&Gf(t,t._tTime),t},jf=function(t,e){return $d.ScrollTrigger?$d.ScrollTrigger.create(e,t):void 0},Yf=function(t,e,A,n,r){return Zp(t,e,r),t._initted?!A&&t._pt&&!$h&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&sd!==Ep.frame?(cf.push(t),t._lazy=[r,n],1):void 0:1},Jf=function t(e){var A=e.parent;return A&&A._ts&&A._initted&&!A._lock&&(A.rawTime()<0||t(A))},qf=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Zf=function(t,e,A,n){var r=t._repeat,i=_f(e)||0,s=t._tTime/t._tDur;return s&&!n&&(t._time*=i/t._dur),t._dur=i,t._tDur=r?r<0?1e10:_f(i*(r+1)+t._rDelay*r):i,s>0&&!n&&Gf(t,t._tTime=t._tDur*s),t.parent&&Kf(t),A||Pf(t.parent,t),t},$f=function(t){return t instanceof Wp?Pf(t):Zf(t,t._dur)},tp={_start:0,endTime:rf,totalDuration:rf},ep=function t(e,A,n){var r,i,s,a=e.labels,o=e._recent||tp,l=e.duration()>=1e8?o.endTime(!1):e._dur;return Hd(A)&&(isNaN(A)||A in a)?(i=A.charAt(0),s="%"===A.substr(-1),r=A.indexOf("="),"<"===i||">"===i?(r>=0&&(A=A.replace(/=/,"")),("<"===i?o._start:o.endTime(o._repeat>=0))+(parseFloat(A.substr(1))||0)*(s?(r<0?o:n).totalDuration()/100:1)):r<0?(A in a||(a[A]=l),a[A]):(i=parseFloat(A.charAt(r-1)+A.substr(r+1)),s&&n&&(i=i/100*(Gd(n)?n[0]:n).totalDuration()),r>1?t(e,A.substr(0,r-1),n)+i:l+i)):null==A?l:+A},Ap=function(t,e,A){var n,r,i=Od(e[1]),s=(i?2:1)+(t<2?0:1),a=e[s];if(i&&(a.duration=e[1]),a.parent=A,t){for(n=a,r=A;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=kd(r.vars.inherit)&&r.parent;a.immediateRender=kd(n.immediateRender),t<2?a.runBackwards=1:a.startAt=e[s-1]}return new ng(e[0],a,e[s+1])},np=function(t,e){return t||0===t?e(t):e},rp=function(t,e,A){return A<t?t:A>e?e:A},ip=function(t,e){return Hd(t)&&(e=Zd.exec(t))?e[1]:""},sp=[].slice,ap=function(t,e){return t&&Nd(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Nd(t[0]))&&!t.nodeType&&t!==Ad},op=function(t,e,A){return td&&!e&&td.selector?td.selector(t):!Hd(t)||A||!nd&&Tp()?Gd(t)?function(t,e,A){return void 0===A&&(A=[]),t.forEach((function(t){var n;return Hd(t)&&!e||ap(t,1)?(n=A).push.apply(n,op(t)):A.push(t)}))||A}(t,A):ap(t)?sp.call(t,0):t?[t]:[]:sp.call((e||rd).querySelectorAll(t),0)},lp=function(t){return t=op(t)[0]||Af()||{},function(e){var A=t.current||t.nativeElement||t;return op(e,A.querySelectorAll?A:A===t?Af()||rd.createElement("div"):t)}},cp=function(t){return t.sort((function(){return.5-Math.random()}))},up=function(t){if(Pd(t))return t;var e=Nd(t)?t:{each:t},A=Rp(e.ease),n=e.from||0,r=parseFloat(e.base)||0,i={},s=n>0&&n<1,a=isNaN(n)||s,o=e.axis,l=n,c=n;return Hd(n)?l=c={center:.5,edges:.5,end:1}[n]||0:!s&&a&&(l=n[0],c=n[1]),function(t,s,u){var h,d,f,p,g,m,B,w,v,y=(u||e).length,_=i[y];if(!_){if(!(v="auto"===e.grid?0:(e.grid||[1,1e8])[1])){for(B=-1e8;B<(B=u[v++].getBoundingClientRect().left)&&v<y;);v<y&&v--}for(_=i[y]=[],h=a?Math.min(v,y)*l-.5:n%v,d=1e8===v?0:a?y*c/v-.5:n/v|0,B=0,w=1e8,m=0;m<y;m++)f=m%v-h,p=d-(m/v|0),_[m]=g=o?Math.abs("y"===o?p:f):Id(f*f+p*p),g>B&&(B=g),g<w&&(w=g);"random"===n&&cp(_),_.max=B-w,_.min=w,_.v=y=(parseFloat(e.amount)||parseFloat(e.each)*(v>y?y-1:o?"y"===o?y/v:v:Math.max(v,y/v))||0)*("edges"===n?-1:1),_.b=y<0?r-y:r,_.u=ip(e.amount||e.each)||0,A=A&&y<0?Pp(A):A}return y=(_[t]-_.min)/_.max||0,_f(_.b+(A?A(y):y)*_.v)+_.u}},hp=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(A){var n=_f(Math.round(parseFloat(A)/t)*t*e);return(n-n%1)/e+(Od(A)?0:ip(A))}},dp=function(t,e){var A,n,r=Gd(t);return!r&&Nd(t)&&(A=r=t.radius||1e8,t.values?(t=op(t.values),(n=!Od(t[0]))&&(A*=A)):t=hp(t.increment)),np(e,r?Pd(t)?function(e){return n=t(e),Math.abs(n-e)<=A?n:e}:function(e){for(var r,i,s=parseFloat(n?e.x:e),a=parseFloat(n?e.y:0),o=1e8,l=0,c=t.length;c--;)(r=n?(r=t[c].x-s)*r+(i=t[c].y-a)*i:Math.abs(t[c]-s))<o&&(o=r,l=c);return l=!A||o<=A?t[l]:e,n||l===e||Od(e)?l:l+ip(e)}:hp(t))},fp=function(t,e,A,n){return np(Gd(t)?!e:!0===A?!!(A=0):!n,(function(){return Gd(t)?t[~~(Math.random()*t.length)]:(A=A||1e-5)&&(n=A<1?Math.pow(10,(A+"").length-2):1)&&Math.floor(Math.round((t-A/2+Math.random()*(e-t+.99*A))/A)*A*n)/n}))},pp=function(t,e,A){return np(A,(function(A){return t[~~e(A)]}))},gp=function(t){for(var e,A,n,r,i=0,s="";~(e=t.indexOf("random(",i));)n=t.indexOf(")",e),r="["===t.charAt(e+7),A=t.substr(e+7,n-e-7).match(r?qd:Wd),s+=t.substr(i,e-i)+fp(r?A:+A[0],r?0:+A[1],+A[2]||1e-5),i=n+1;return s+t.substr(i,t.length-i)},mp=function(t,e,A,n,r){var i=e-t,s=n-A;return np(r,(function(e){return A+((e-t)/i*s||0)}))},Bp=function(t,e,A){var n,r,i,s=t.labels,a=1e8;for(n in s)(r=s[n]-e)<0==!!A&&r&&a>(r=Math.abs(r))&&(i=n,a=r);return i},wp=function(t,e,A){var n,r,i,s=t.vars,a=s[e],o=td,l=t._ctx;if(a)return n=s[e+"Params"],r=s.callbackScope||t,A&&cf.length&&bf(),l&&(td=l),i=n?a.apply(r,n):a.call(r),td=o,i},vp=function(t){return Hf(t),t.scrollTrigger&&t.scrollTrigger.kill(!!$h),t.progress()<1&&wp(t,"onInterrupt"),t},yp=[],_p=function(t){if(t)if(t=!t.name&&t.default||t,Vd()||t.headless){var e=t.name,A=Pd(t),n=e&&!A&&t.init?function(){this._props=[]}:t,r={init:rf,render:hg,add:Jp,kill:fg,modifier:dg,rawVars:0},i={targetTest:0,get:0,getSetter:og,aliases:{},register:0};if(Tp(),t!==n){if(hf[e])return;Mf(n,Mf(Tf(t,r),i)),Sf(n.prototype,Sf(r,Tf(t,i))),hf[n.prop=e]=n,t.targetTest&&(pf.push(n),lf[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}nf(e,n),t.register&&t.register(Sg,n,mg)}else yp.push(t)},xp={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},Cp=function(t,e,A){return 255*(6*(t+=t<0?1:t>1?-1:0)<1?e+(A-e)*t*6:t<.5?A:3*t<2?e+(A-e)*(2/3-t)*6:e)+.5|0},bp=function(t,e,A){var n,r,i,s,a,o,l,c,u,h,d=t?Od(t)?[t>>16,t>>8&255,255&t]:0:xp.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),xp[t])d=xp[t];else if("#"===t.charAt(0)){if(t.length<6&&(n=t.charAt(1),r=t.charAt(2),i=t.charAt(3),t="#"+n+n+r+r+i+i+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&255,255&d,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]}else if("hsl"===t.substr(0,3))if(d=h=t.match(Wd),e){if(~t.indexOf("="))return d=t.match(Xd),A&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,a=+d[1]/100,n=2*(o=+d[2]/100)-(r=o<=.5?o*(a+1):o+a-o*a),d.length>3&&(d[3]*=1),d[0]=Cp(s+1/3,n,r),d[1]=Cp(s,n,r),d[2]=Cp(s-1/3,n,r);else d=t.match(Wd)||xp.transparent;d=d.map(Number)}return e&&!h&&(n=d[0]/255,r=d[1]/255,i=d[2]/255,o=((l=Math.max(n,r,i))+(c=Math.min(n,r,i)))/2,l===c?s=a=0:(u=l-c,a=o>.5?u/(2-l-c):u/(l+c),s=l===n?(r-i)/u+(r<i?6:0):l===r?(i-n)/u+2:(n-r)/u+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*a+.5),d[2]=~~(100*o+.5)),A&&d.length<4&&(d[3]=1),d},Up=function(t){var e=[],A=[],n=-1;return t.split(Qp).forEach((function(t){var r=t.match(jd)||[];e.push.apply(e,r),A.push(n+=r.length+1)})),e.c=A,e},Fp=function(t,e,A){var n,r,i,s,a="",o=(t+a).match(Qp),l=e?"hsla(":"rgba(",c=0;if(!o)return t;if(o=o.map((function(t){return(t=bp(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),A&&(i=Up(t),(n=A.c).join(a)!==i.c.join(a)))for(s=(r=t.replace(Qp,"1").split(jd)).length-1;c<s;c++)a+=r[c]+(~n.indexOf(c)?o.shift()||l+"0,0,0,0)":(i.length?i:o.length?o:A).shift());if(!r)for(s=(r=t.split(Qp)).length-1;c<s;c++)a+=r[c]+o[c];return a+r[s]},Qp=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in xp)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Mp=/hsl[a]?\(/,Sp=function(t){var e,A=t.join(" ");if(Qp.lastIndex=0,Qp.test(A))return e=Mp.test(A),t[1]=Fp(t[1],e),t[0]=Fp(t[0],e,Up(t[1])),!0},Ep=(pd=Date.now,gd=500,md=33,Bd=pd(),wd=Bd,yd=vd=1e3/240,xd=function t(e){var A,n,r,i,s=pd()-wd,a=!0===e;if((s>gd||s<0)&&(Bd+=s-md),((A=(r=(wd+=s)-Bd)-yd)>0||a)&&(i=++hd.frame,dd=r-1e3*hd.time,hd.time=r/=1e3,yd+=A+(A>=vd?4:vd-A),n=1),a||(ld=cd(t)),n)for(fd=0;fd<_d.length;fd++)_d[fd](r,dd,i,e)},hd={time:0,frame:0,tick:function(){xd(!0)},deltaRatio:function(t){return dd/(1e3/(t||60))},wake:function(){id&&(!nd&&Vd()&&(Ad=nd=window,rd=Ad.document||{},$d.gsap=Sg,(Ad.gsapVersions||(Ad.gsapVersions=[])).push(Sg.version),ef(tf||Ad.GreenSockGlobals||!Ad.gsap&&Ad||{}),yp.forEach(_p)),ud="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,ld&&hd.sleep(),cd=ud||function(t){return setTimeout(t,yd-1e3*hd.time+1|0)},od=1,xd(2))},sleep:function(){(ud?cancelAnimationFrame:clearTimeout)(ld),od=0,cd=rf},lagSmoothing:function(t,e){gd=t||Infinity,md=Math.min(e||33,gd)},fps:function(t){vd=1e3/(t||240),yd=1e3*hd.time+vd},add:function(t,e,A){var n=e?function(e,A,r,i){t(e,A,r,i),hd.remove(n)}:t;return hd.remove(t),_d[A?"unshift":"push"](n),Tp(),n},remove:function(t,e){~(e=_d.indexOf(t))&&_d.splice(e,1)&&fd>=e&&fd--},_listeners:_d=[]},hd),Tp=function(){return!od&&Ep.wake()},Ip={},Lp=/^[\d.\-M][\d.\-,\s]/,Dp=/["']/g,Hp=function(t){for(var e,A,n,r={},i=t.substr(1,t.length-3).split(":"),s=i[0],a=1,o=i.length;a<o;a++)A=i[a],e=a!==o-1?A.lastIndexOf(","):A.length,n=A.substr(0,e),r[s]=isNaN(n)?n.replace(Dp,"").trim():+n,s=A.substr(e+1).trim();return r},Pp=function(t){return function(e){return 1-t(1-e)}},Op=function t(e,A){for(var n,r=e._first;r;)r instanceof Wp?t(r,A):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===A||(r.timeline?t(r.timeline,A):(n=r._ease,r._ease=r._yEase,r._yEase=n,r._yoyo=A)),r=r._next},Rp=function(t,e){return t&&(Pd(t)?t:Ip[t]||function(t){var e,A,n,r,i=(t+"").split("("),s=Ip[i[0]];return s&&i.length>1&&s.config?s.config.apply(null,~t.indexOf("{")?[Hp(i[1])]:(e=t,A=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",A),e.substring(A,~r&&r<n?e.indexOf(")",n+1):n)).split(",").map(Ff)):Ip._CE&&Lp.test(t)?Ip._CE("",t):s}(t))||e},Np=function(t,e,A,n){void 0===A&&(A=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,i={easeIn:e,easeOut:A,easeInOut:n};return vf(t,(function(t){for(var e in Ip[t]=$d[t]=i,Ip[r=t.toLowerCase()]=A,i)Ip[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Ip[t+"."+e]=i[e]})),i},kp=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Vp=function t(e,A,n){var r=A>=1?A:1,i=(n||(e?.3:.45))/(A<1?A:1),s=i/Sd*(Math.asin(1/r)||0),a=function(t){return 1===t?1:r*Math.pow(2,-10*t)*Dd((t-s)*i)+1},o="out"===e?a:"in"===e?function(t){return 1-a(1-t)}:kp(a);return i=Sd/i,o.config=function(A,n){return t(e,A,n)},o},zp=function t(e,A){void 0===A&&(A=1.70158);var n=function(t){return t?--t*t*((A+1)*t+A)+1:0},r="out"===e?n:"in"===e?function(t){return 1-n(1-t)}:kp(n);return r.config=function(A){return t(e,A)},r};vf("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var A=e<5?e+1:e;Np(t+",Power"+(A-1),e?function(t){return Math.pow(t,A)}:function(t){return t},(function(t){return 1-Math.pow(1-t,A)}),(function(t){return t<.5?Math.pow(2*t,A)/2:1-Math.pow(2*(1-t),A)/2}))})),Ip.Linear.easeNone=Ip.none=Ip.Linear.easeIn,Np("Elastic",Vp("in"),Vp("out"),Vp()),Cd=7.5625,Ud=1/(bd=2.75),Np("Bounce",(function(t){return 1-Fd(1-t)}),Fd=function(t){return t<Ud?Cd*t*t:t<.7272727272727273?Cd*Math.pow(t-1.5/bd,2)+.75:t<.9090909090909092?Cd*(t-=2.25/bd)*t+.9375:Cd*Math.pow(t-2.625/bd,2)+.984375}),Np("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Np("Circ",(function(t){return-(Id(1-t*t)-1)})),Np("Sine",(function(t){return 1===t?1:1-Ld(t*Ed)})),Np("Back",zp("in"),zp("out"),zp()),Ip.SteppedEase=Ip.steps=$d.SteppedEase={config:function(t,e){void 0===t&&(t=1);var A=1/t,n=t+(e?0:1),r=e?1:0;return function(t){return((n*rp(0,.99999999,t)|0)+r)*A}}},Md.ease=Ip["quad.out"],vf("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return gf+=t+","+t+"Params,"}));var Kp=function(t,e){this.id=Td++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:wf,this.set=e?e.getSetter:og},Gp=function(){function t(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=Infinity===t.repeat?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Zf(this,+t.duration,1,1),this.data=t.data,td&&(this._ctx=td,td.data.push(this)),od||Ep.wake()}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Zf(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Tp(),!arguments.length)return this._tTime;var A=this._dp;if(A&&A.smoothChildTiming&&this._ts){for(Gf(this,t),!A._dp||A.parent||Wf(A,this);A&&A.parent;)A.parent._time!==A._start+(A._ts>=0?A._tTime/A._ts:(A.totalDuration()-A._tTime)/-A._ts)&&A.totalTime(A._tTime,!0),A=A.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Xf(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Uf(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+kf(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+kf(this),e):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(t,e){var A=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*A,e):this._repeat?Vf(this._tTime,A)+1:1},e.timeScale=function(t,e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var A=this.parent&&this._ts?zf(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,this.totalTime(rp(-Math.abs(this._delay),this._tDur,A),!1!==e),Kf(this),Of(this)},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Tp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1e-8!==Math.abs(this._zTime)&&(this._tTime-=1e-8)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Xf(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(kd(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zf(e.rawTime(t),this):this._tTime:this._tTime},e.revert=function(t){void 0===t&&(t=of);var e=$h;return $h=t,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(t),this.totalTime(-.01,t.suppressEvents)),"nested"!==this.data&&!1!==t.kill&&this.kill(),$h=e,this},e.globalTime=function(t){for(var e=this,A=arguments.length?t:e.rawTime();e;)A=e._start+A/(Math.abs(e._ts)||1),e=e._dp;return!this.parent&&this._sat?this._sat.globalTime(t):A},e.repeat=function(t){return arguments.length?(this._repeat=Infinity===t?-2:t,$f(this)):-2===this._repeat?Infinity:this._repeat},e.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,$f(this),e?this.time(e):this}return this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(ep(this,t),kd(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,kd(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,A=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=A&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,A){var n=this.vars;return arguments.length>1?(e?(n[t]=e,A&&(n[t+"Params"]=A),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},e.then=function(t){var e=this;return new Promise((function(A){var n=Pd(t)?t:Qf,r=function(){var t=e.then;e.then=null,Pd(n)&&(n=n(e))&&(n.then||n===e)&&(e.then=t),A(n),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){vp(this)},t}();Mf(Gp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Wp=function(t){function e(e,A){var n;return void 0===e&&(e={}),(n=t.call(this,e)||this).labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=kd(e.sortChildren),ed&&Xf(e.parent||ed,Jh(n),A),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&jf(Jh(n),e.scrollTrigger),n}qh(e,t);var A=e.prototype;return A.to=function(t,e,A){return Ap(0,arguments,this),this},A.from=function(t,e,A){return Ap(1,arguments,this),this},A.fromTo=function(t,e,A,n){return Ap(2,arguments,this),this},A.set=function(t,e,A){return e.duration=0,e.parent=this,If(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new ng(t,e,ep(this,A),1),this},A.call=function(t,e,A){return Xf(this,ng.delayedCall(0,t,e),A)},A.staggerTo=function(t,e,A,n,r,i,s){return A.duration=e,A.stagger=A.stagger||n,A.onComplete=i,A.onCompleteParams=s,A.parent=this,new ng(t,A,ep(this,r)),this},A.staggerFrom=function(t,e,A,n,r,i,s){return A.runBackwards=1,If(A).immediateRender=kd(A.immediateRender),this.staggerTo(t,e,A,n,r,i,s)},A.staggerFromTo=function(t,e,A,n,r,i,s,a){return n.startAt=A,If(n).immediateRender=kd(n.immediateRender),this.staggerTo(t,e,n,r,i,s,a)},A.render=function(t,e,A){var n,r,i,s,a,o,l,c,u,h,d,f,p=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,B=t<=0?0:_f(t),w=this._zTime<0!=t<0&&(this._initted||!m);if(this!==ed&&B>g&&t>=0&&(B=g),B!==this._tTime||A||w){if(p!==this._time&&m&&(B+=this._time-p,t+=this._time-p),n=B,u=this._start,o=!(c=this._ts),w&&(m||(p=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(d=this._yoyo,a=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,A);if(n=_f(B%a),B===g?(s=this._repeat,n=m):((s=~~(B/a))&&s===B/a&&(n=m,s--),n>m&&(n=m)),h=Vf(this._tTime,a),!p&&this._tTime&&h!==s&&this._tTime-h*a-this._dur<=0&&(h=s),d&&1&s&&(n=m-n,f=1),s!==h&&!this._lock){var v=d&&1&h,y=v===(d&&1&s);if(s<h&&(v=!v),p=v?0:B%m?m:B,this._lock=1,this.render(p||(f?0:_f(s*a)),e,!m)._lock=0,this._tTime=B,!e&&this.parent&&wp(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),p&&p!==this._time||o!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,g=this._tDur,y&&(this._lock=2,p=v?m:-1e-4,this.render(p,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!o)return this;Op(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,A){var n;if(A>e)for(n=t._first;n&&n._start<=A;){if("isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=A;){if("isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,_f(p),_f(n)),l&&(B-=n-(n=l._start))),this._tTime=B,this._time=n,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,p=0),!p&&n&&!e&&!s&&(wp(this,"onStart"),this._tTime!==B))return this;if(n>=p&&t>=0)for(r=this._first;r;){if(i=r._next,(r._act||n>=r._start)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,A);if(r.render(r._ts>0?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,e,A),n!==this._time||!this._ts&&!o){l=0,i&&(B+=this._zTime=-1e-8);break}}r=i}else{r=this._last;for(var _=t<0?t:n;r;){if(i=r._prev,(r._act||_<=r._end)&&r._ts&&l!==r){if(r.parent!==this)return this.render(t,e,A);if(r.render(r._ts>0?(_-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(_-r._start)*r._ts,e,A||$h&&(r._initted||r._startAt)),n!==this._time||!this._ts&&!o){l=0,i&&(B+=this._zTime=_?-1e-8:1e-8);break}}r=i}}if(l&&!e&&(this.pause(),l.render(n>=p?0:-1e-8)._zTime=n>=p?1:-1,this._ts))return this._start=u,Kf(this),this.render(t,e,A);this._onUpdate&&!e&&wp(this,"onUpdate",!0),(B===g&&this._tTime>=this.totalDuration()||!B&&p)&&(u!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!m)&&(B===g&&this._ts>0||!B&&this._ts<0)&&Hf(this,1),e||t<0&&!p||!B&&!p&&g||(wp(this,B===g&&t>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(B<g&&this.timeScale()>0)&&this._prom())))}return this},A.add=function(t,e){var A=this;if(Od(e)||(e=ep(this,e,t)),!(t instanceof Gp)){if(Gd(t))return t.forEach((function(t){return A.add(t,e)})),this;if(Hd(t))return this.addLabel(t,e);if(!Pd(t))return this;t=ng.delayedCall(0,t)}return this!==t?Xf(this,t,e):this},A.getChildren=function(t,e,A,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===A&&(A=!0),void 0===n&&(n=-1e8);for(var r=[],i=this._first;i;)i._start>=n&&(i instanceof ng?e&&r.push(i):(A&&r.push(i),t&&r.push.apply(r,i.getChildren(!0,e,A)))),i=i._next;return r},A.getById=function(t){for(var e=this.getChildren(1,1,1),A=e.length;A--;)if(e[A].vars.id===t)return e[A]},A.remove=function(t){return Hd(t)?this.removeLabel(t):Pd(t)?this.killTweensOf(t):(Df(this,t),t===this._recent&&(this._recent=this._last),Pf(this))},A.totalTime=function(e,A){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_f(Ep.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,A),this._forcing=0,this):this._tTime},A.addLabel=function(t,e){return this.labels[t]=ep(this,e),this},A.removeLabel=function(t){return delete this.labels[t],this},A.addPause=function(t,e,A){var n=ng.delayedCall(0,e||rf,A);return n.data="isPause",this._hasPause=1,Xf(this,n,ep(this,t))},A.removePause=function(t){var e=this._first;for(t=ep(this,t);e;)e._start===t&&"isPause"===e.data&&Hf(e),e=e._next},A.killTweensOf=function(t,e,A){for(var n=this.getTweensOf(t,A),r=n.length;r--;)Xp!==n[r]&&n[r].kill(t,e);return this},A.getTweensOf=function(t,e){for(var A,n=[],r=op(t),i=this._first,s=Od(e);i;)i instanceof ng?Cf(i._targets,r)&&(s?(!Xp||i._initted&&i._ts)&&i.globalTime(0)<=e&&i.globalTime(i.totalDuration())>e:!e||i.isActive())&&n.push(i):(A=i.getTweensOf(r,e)).length&&n.push.apply(n,A),i=i._next;return n},A.tweenTo=function(t,e){e=e||{};var A,n=this,r=ep(n,t),i=e,s=i.startAt,a=i.onStart,o=i.onStartParams,l=i.immediateRender,c=ng.to(n,Mf({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale())||1e-8,onStart:function(){if(n.pause(),!A){var t=e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale());c._dur!==t&&Zf(c,t,0,1).render(c._time,!0,!0),A=1}a&&a.apply(c,o||[])}},e));return l?c.render(0):c},A.tweenFromTo=function(t,e,A){return this.tweenTo(e,Mf({startAt:{time:ep(this,t)}},A))},A.recent=function(){return this._recent},A.nextLabel=function(t){return void 0===t&&(t=this._time),Bp(this,ep(this,t))},A.previousLabel=function(t){return void 0===t&&(t=this._time),Bp(this,ep(this,t),1)},A.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},A.shiftChildren=function(t,e,A){void 0===A&&(A=0);for(var n,r=this._first,i=this.labels;r;)r._start>=A&&(r._start+=t,r._end+=t),r=r._next;if(e)for(n in i)i[n]>=A&&(i[n]+=t);return Pf(this)},A.invalidate=function(e){var A=this._first;for(this._lock=0;A;)A.invalidate(e),A=A._next;return t.prototype.invalidate.call(this,e)},A.clear=function(t){void 0===t&&(t=!0);for(var e,A=this._first;A;)e=A._next,this.remove(A),A=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Pf(this)},A.totalDuration=function(t){var e,A,n,r=0,i=this,s=i._last,a=1e8;if(arguments.length)return i.timeScale((i._repeat<0?i.duration():i.totalDuration())/(i.reversed()?-t:t));if(i._dirty){for(n=i.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(A=s._start)>a&&i._sort&&s._ts&&!i._lock?(i._lock=1,Xf(i,s,A-s._delay,1)._lock=0):a=A,A<0&&s._ts&&(r-=A,(!n&&!i._dp||n&&n.smoothChildTiming)&&(i._start+=A/i._ts,i._time-=A,i._tTime-=A),i.shiftChildren(-A,!1,-Infinity),a=0),s._end>r&&s._ts&&(r=s._end),s=e;Zf(i,i===ed&&i._time>r?i._time:r,1,1),i._dirty=0}return i._tDur},e.updateRoot=function(t){if(ed._ts&&(Uf(ed,zf(t,ed)),sd=Ep.frame),Ep.frame>=ff){ff+=Qd.autoSleep||120;var e=ed._first;if((!e||!e._ts)&&Qd.autoSleep&&Ep._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ep.sleep()}}},e}(Gp);Mf(Wp.prototype,{_lock:0,_hasPause:0,_forcing:0});var Xp,jp,Yp=function(t,e,A,n,r,i,s){var a,o,l,c,u,h,d,f,p=new mg(this._pt,t,e,0,1,ug,null,r),g=0,m=0;for(p.b=A,p.e=n,A+="",(d=~(n+="").indexOf("random("))&&(n=gp(n)),i&&(i(f=[A,n],t,e),A=f[0],n=f[1]),o=A.match(Yd)||[];a=Yd.exec(n);)c=a[0],u=n.substring(g,a.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),c!==o[m++]&&(h=parseFloat(o[m-1])||0,p._pt={_next:p._pt,p:u||1===m?u:",",s:h,c:"="===c.charAt(1)?xf(h,c)-h:parseFloat(c)-h,m:l&&l<4?Math.round:0},g=Yd.lastIndex);return p.c=g<n.length?n.substring(g,n.length):"",p.fp=s,(Jd.test(n)||d)&&(p.e=0),this._pt=p,p},Jp=function(t,e,A,n,r,i,s,a,o,l){Pd(n)&&(n=n(r||0,t,i));var c,u=t[e],h="get"!==A?A:Pd(u)?o?t[e.indexOf("set")||!Pd(t["get"+e.substr(3)])?e:"get"+e.substr(3)](o):t[e]():u,d=Pd(u)?o?sg:ig:rg;if(Hd(n)&&(~n.indexOf("random(")&&(n=gp(n)),"="===n.charAt(1)&&((c=xf(h,n)+(ip(h)||0))||0===c)&&(n=c)),!l||h!==n||jp)return isNaN(h*n)||""===n?Yp.call(this,t,e,h,n,d,a||Qd.stringFilter,o):(c=new mg(this._pt,t,e,+h||0,n-(h||0),"boolean"==typeof u?cg:lg,0,d),o&&(c.fp=o),s&&c.modifier(s,this,t),this._pt=c)},qp=function(t,e,A,n,r,i){var s,a,o,l;if(hf[t]&&!1!==(s=new hf[t]).init(r,s.rawVars?e[t]:function(t,e,A,n,r){if(Pd(t)&&(t=tg(t,r,e,A,n)),!Nd(t)||t.style&&t.nodeType||Gd(t)||Kd(t))return Hd(t)?tg(t,r,e,A,n):t;var i,s={};for(i in t)s[i]=tg(t[i],r,e,A,n);return s}(e[t],n,r,i,A),A,n,i)&&(A._pt=a=new mg(A._pt,r,t,0,1,s.render,s,0,s.priority),A!==ad))for(o=A._ptLookup[A._targets.indexOf(r)],l=s._props.length;l--;)o[s._props[l]]=a;return s},Zp=function t(e,A,n){var r,i,s,a,o,l,c,u,h,d,f,p,g,m=e.vars,B=m.ease,w=m.startAt,v=m.immediateRender,y=m.lazy,_=m.onUpdate,x=m.runBackwards,C=m.yoyoEase,b=m.keyframes,U=m.autoRevert,F=e._dur,Q=e._startAt,M=e._targets,S=e.parent,E=S&&"nested"===S.data?S.vars.targets:M,T="auto"===e._overwrite&&!Zh,I=e.timeline;if(I&&(!b||!B)&&(B="none"),e._ease=Rp(B,Md.ease),e._yEase=C?Pp(Rp(!0===C?B:C,Md.ease)):0,C&&e._yoyo&&!e._repeat&&(C=e._yEase,e._yEase=e._ease,e._ease=C),e._from=!I&&!!m.runBackwards,!I||b&&!m.stagger){if(p=(u=M[0]?Bf(M[0]).harness:0)&&m[u.prop],r=Tf(m,lf),Q&&(Q._zTime<0&&Q.progress(1),A<0&&x&&v&&!U?Q.render(-1,!0):Q.revert(x&&F?af:sf),Q._lazy=0),w){if(Hf(e._startAt=ng.set(M,Mf({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:!Q&&kd(y),startAt:null,delay:0,onUpdate:_&&function(){return wp(e,"onUpdate")},stagger:0},w))),e._startAt._dp=0,e._startAt._sat=e,A<0&&($h||!v&&!U)&&e._startAt.revert(af),v&&F&&A<=0&&n<=0)return void(A&&(e._zTime=A))}else if(x&&F&&!Q)if(A&&(v=!1),s=Mf({overwrite:!1,data:"isFromStart",lazy:v&&!Q&&kd(y),immediateRender:v,stagger:0,parent:S},r),p&&(s[u.prop]=p),Hf(e._startAt=ng.set(M,s)),e._startAt._dp=0,e._startAt._sat=e,A<0&&($h?e._startAt.revert(af):e._startAt.render(-1,!0)),e._zTime=A,v){if(!A)return}else t(e._startAt,1e-8,1e-8);for(e._pt=e._ptCache=0,y=F&&kd(y)||y&&!F,i=0;i<M.length;i++){if(c=(o=M[i])._gsap||mf(M)[i]._gsap,e._ptLookup[i]=d={},uf[c.id]&&cf.length&&bf(),f=E===M?i:E.indexOf(o),u&&!1!==(h=new u).init(o,p||r,e,f,E)&&(e._pt=a=new mg(e._pt,o,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(t){d[t]=a})),h.priority&&(l=1)),!u||p)for(s in r)hf[s]&&(h=qp(s,r,e,f,o,E))?h.priority&&(l=1):d[s]=a=Jp.call(e,o,s,"get",r[s],f,E,0,m.stringFilter);e._op&&e._op[i]&&e.kill(o,e._op[i]),T&&e._pt&&(Xp=e,ed.killTweensOf(o,d,e.globalTime(A)),g=!e.parent,Xp=0),e._pt&&y&&(uf[c.id]=1)}l&&gg(e),e._onInit&&e._onInit(e)}e._onUpdate=_,e._initted=(!e._op||e._pt)&&!g,b&&A<=0&&I.render(1e8,!0,!0)},$p=function(t,e,A,n){var r,i,s=e.ease||n||"power1.inOut";if(Gd(e))i=A[t]||(A[t]=[]),e.forEach((function(t,A){return i.push({t:A/(e.length-1)*100,v:t,e:s})}));else for(r in e)i=A[r]||(A[r]=[]),"ease"===r||i.push({t:parseFloat(t),v:e[r],e:s})},tg=function(t,e,A,n,r){return Pd(t)?t.call(e,A,n,r):Hd(t)&&~t.indexOf("random(")?gp(t):t},eg=gf+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ag={};vf(eg+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return Ag[t]=1}));var ng=function(t){function e(e,A,n,r){var i;"number"==typeof A&&(n.duration=A,A=n,n=null);var s,a,o,l,c,u,h,d,f=(i=t.call(this,r?A:If(A))||this).vars,p=f.duration,g=f.delay,m=f.immediateRender,B=f.stagger,w=f.overwrite,v=f.keyframes,y=f.defaults,_=f.scrollTrigger,x=f.yoyoEase,C=A.parent||ed,b=(Gd(e)||Kd(e)?Od(e[0]):"length"in A)?[e]:op(e);if(i._targets=b.length?mf(b):Af(0,!Qd.nullTargetWarn)||[],i._ptLookup=[],i._overwrite=w,v||B||zd(p)||zd(g)){if(A=i.vars,(s=i.timeline=new Wp({data:"nested",defaults:y||{},targets:C&&"nested"===C.data?C.vars.targets:b})).kill(),s.parent=s._dp=Jh(i),s._start=0,B||zd(p)||zd(g)){if(l=b.length,h=B&&up(B),Nd(B))for(c in B)~eg.indexOf(c)&&(d||(d={}),d[c]=B[c]);for(a=0;a<l;a++)(o=Tf(A,Ag)).stagger=0,x&&(o.yoyoEase=x),d&&Sf(o,d),u=b[a],o.duration=+tg(p,Jh(i),a,u,b),o.delay=(+tg(g,Jh(i),a,u,b)||0)-i._delay,!B&&1===l&&o.delay&&(i._delay=g=o.delay,i._start+=g,o.delay=0),s.to(u,o,h?h(a,u,b):0),s._ease=Ip.none;s.duration()?p=g=0:i.timeline=0}else if(v){If(Mf(s.vars.defaults,{ease:"none"})),s._ease=Rp(v.ease||A.ease||"none");var U,F,Q,M=0;if(Gd(v))v.forEach((function(t){return s.to(b,t,">")})),s.duration();else{for(c in o={},v)"ease"===c||"easeEach"===c||$p(c,v[c],o,v.easeEach);for(c in o)for(U=o[c].sort((function(t,e){return t.t-e.t})),M=0,a=0;a<U.length;a++)(Q={ease:(F=U[a]).e,duration:(F.t-(a?U[a-1].t:0))/100*p})[c]=F.v,s.to(b,Q,M),M+=Q.duration;s.duration()<p&&s.to({},{duration:p-s.duration()})}}p||i.duration(p=s.duration())}else i.timeline=0;return!0!==w||Zh||(Xp=Jh(i),ed.killTweensOf(b),Xp=0),Xf(C,Jh(i),n),A.reversed&&i.reverse(),A.paused&&i.paused(!0),(m||!p&&!v&&i._start===_f(C._time)&&kd(m)&&Nf(Jh(i))&&"nested"!==C.data)&&(i._tTime=-1e-8,i.render(Math.max(0,-g)||0)),_&&jf(Jh(i),_),i}qh(e,t);var A=e.prototype;return A.render=function(t,e,A){var n,r,i,s,a,o,l,c,u,h=this._time,d=this._tDur,f=this._dur,p=t<0,g=t>d-1e-8&&!p?d:t<1e-8?0:t;if(f){if(g!==this._tTime||!t||A||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p){if(n=g,c=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&p)return this.totalTime(100*s+t,e,A);if(n=_f(g%s),g===d?(i=this._repeat,n=f):((i=~~(g/s))&&i===_f(g/s)&&(n=f,i--),n>f&&(n=f)),(o=this._yoyo&&1&i)&&(u=this._yEase,n=f-n),a=Vf(this._tTime,s),n===h&&!A&&this._initted&&i===a)return this._tTime=g,this;i!==a&&(c&&this._yEase&&Op(c,o),this.vars.repeatRefresh&&!o&&!this._lock&&this._time!==s&&this._initted&&(this._lock=A=1,this.render(_f(s*i),!0).invalidate()._lock=0))}if(!this._initted){if(Yf(this,p?t:n,A,e,g))return this._tTime=0,this;if(!(h===this._time||A&&this.vars.repeatRefresh&&i!==a))return this;if(f!==this._dur)return this.render(t,e,A)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(u||this._ease)(n/f),this._from&&(this.ratio=l=1-l),n&&!h&&!e&&!i&&(wp(this,"onStart"),this._tTime!==g))return this;for(r=this._pt;r;)r.r(l,r.d),r=r._next;c&&c.render(t<0?t:c._dur*c._ease(n/this._dur),e,A)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(p&&Rf(this,t,0,A),wp(this,"onUpdate")),this._repeat&&i!==a&&this.vars.onRepeat&&!e&&this.parent&&wp(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(p&&!this._onUpdate&&Rf(this,t,0,!0),(t||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Hf(this,1),e||p&&!h||!(g||h||o)||(wp(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,A,n){var r,i,s,a=t.ratio,o=e<0||!e&&(!t._start&&Jf(t)&&(t._initted||!qf(t))||(t._ts<0||t._dp._ts<0)&&!qf(t))?0:1,l=t._rDelay,c=0;if(l&&t._repeat&&(c=rp(0,t._tDur,e),i=Vf(c,l),t._yoyo&&1&i&&(o=1-o),i!==Vf(t._tTime,l)&&(a=1-o,t.vars.repeatRefresh&&t._initted&&t.invalidate())),o!==a||$h||n||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&Yf(t,e,n,A,c))return;for(s=t._zTime,t._zTime=e||(A?1e-8:0),A||(A=e&&!s),t.ratio=o,t._from&&(o=1-o),t._time=0,t._tTime=c,r=t._pt;r;)r.r(o,r.d),r=r._next;e<0&&Rf(t,e,0,!0),t._onUpdate&&!A&&wp(t,"onUpdate"),c&&t._repeat&&!A&&t.parent&&wp(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===o&&(o&&Hf(t,1),A||$h||(wp(t,o?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,A);return this},A.targets=function(){return this._targets},A.invalidate=function(e){return(!e||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),t.prototype.invalidate.call(this,e)},A.resetTo=function(t,e,A,n,r){od||Ep.wake(),this._ts||this.play();var i=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Zp(this,i),function(t,e,A,n,r,i,s,a){var o,l,c,u,h=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!h)for(h=t._ptCache[e]=[],c=t._ptLookup,u=t._targets.length;u--;){if((o=c[u][e])&&o.d&&o.d._pt)for(o=o.d._pt;o&&o.p!==e&&o.fp!==e;)o=o._next;if(!o)return jp=1,t.vars[e]="+=0",Zp(t,s),jp=0,a?Af():1;h.push(o)}for(u=h.length;u--;)(o=(l=h[u])._pt||l).s=!n&&0!==n||r?o.s+(n||0)+i*o.c:n,o.c=A-o.s,l.e&&(l.e=yf(A)+ip(l.e)),l.b&&(l.b=o.s+ip(l.b))}(this,t,e,A,n,this._ease(i/this._dur),i,r)?this.resetTo(t,e,A,n,1):(Gf(this,0),this.parent||Lf(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},A.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?vp(this):this;if(this.timeline){var A=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Xp&&!0!==Xp.vars.overwrite)._first||vp(this),this.parent&&A!==this.timeline.totalDuration()&&Zf(this,this._dur*this.timeline._tDur/A,0,1),this}var n,r,i,s,a,o,l,c=this._targets,u=t?op(t):c,h=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var A=t.length,n=A===e.length;n&&A--&&t[A]===e[A];);return A<0}(c,u))return"all"===e&&(this._pt=0),vp(this);for(n=this._op=this._op||[],"all"!==e&&(Hd(e)&&(a={},vf(e,(function(t){return a[t]=1})),e=a),e=function(t,e){var A,n,r,i,s=t[0]?Bf(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(n in A=Sf({},e),a)if(n in A)for(r=(i=a[n].split(",")).length;r--;)A[i[r]]=A[n];return A}(c,e)),l=c.length;l--;)if(~u.indexOf(c[l]))for(a in r=h[l],"all"===e?(n[l]=e,s=r,i={}):(i=n[l]=n[l]||{},s=e),s)(o=r&&r[a])&&("kill"in o.d&&!0!==o.d.kill(a)||Df(this,o,"_pt"),delete r[a]),"all"!==i&&(i[a]=1);return this._initted&&!this._pt&&d&&vp(this),this},e.to=function(t,A){return new e(t,A,arguments[2])},e.from=function(t,e){return Ap(1,arguments)},e.delayedCall=function(t,A,n,r){return new e(A,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:A,onReverseComplete:A,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},e.fromTo=function(t,e,A){return Ap(2,arguments)},e.set=function(t,A){return A.duration=0,A.repeatDelay||(A.repeat=0),new e(t,A)},e.killTweensOf=function(t,e,A){return ed.killTweensOf(t,e,A)},e}(Gp);Mf(ng.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),vf("staggerTo,staggerFrom,staggerFromTo",(function(t){ng[t]=function(){var e=new Wp,A=sp.call(arguments,0);return A.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,A)}}));var rg=function(t,e,A){return t[e]=A},ig=function(t,e,A){return t[e](A)},sg=function(t,e,A,n){return t[e](n.fp,A)},ag=function(t,e,A){return t.setAttribute(e,A)},og=function(t,e){return Pd(t[e])?ig:Rd(t[e])&&t.setAttribute?ag:rg},lg=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},cg=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ug=function(t,e){var A=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;A;)n=A.p+(A.m?A.m(A.s+A.c*t):Math.round(1e4*(A.s+A.c*t))/1e4)+n,A=A._next;n+=e.c}e.set(e.t,e.p,n,e)},hg=function(t,e){for(var A=e._pt;A;)A.r(t,A.d),A=A._next},dg=function(t,e,A,n){for(var r,i=this._pt;i;)r=i._next,i.p===n&&i.modifier(t,e,A),i=r},fg=function(t){for(var e,A,n=this._pt;n;)A=n._next,n.p===t&&!n.op||n.op===t?Df(this,n,"_pt"):n.dep||(e=1),n=A;return!e},pg=function(t,e,A,n){n.mSet(t,e,n.m.call(n.tween,A,n.mt),n)},gg=function(t){for(var e,A,n,r,i=t._pt;i;){for(e=i._next,A=n;A&&A.pr>i.pr;)A=A._next;(i._prev=A?A._prev:r)?i._prev._next=i:n=i,(i._next=A)?A._prev=i:r=i,i=e}t._pt=n},mg=function(){function t(t,e,A,n,r,i,s,a,o){this.t=e,this.s=n,this.c=r,this.p=A,this.r=i||lg,this.d=s||this,this.set=a||rg,this.pr=o||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,A){this.mSet=this.mSet||this.set,this.set=pg,this.m=t,this.mt=A,this.tween=e},t}();vf(gf+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return lf[t]=1})),$d.TweenMax=$d.TweenLite=ng,$d.TimelineLite=$d.TimelineMax=Wp,ed=new Wp({sortChildren:!1,defaults:Md,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Qd.stringFilter=Sp;var Bg=[],wg={},vg=[],yg=0,_g=0,xg=function(t){return(wg[t]||vg).map((function(t){return t()}))},Cg=function(){var t=Date.now(),e=[];t-yg>2&&(xg("matchMediaInit"),Bg.forEach((function(t){var A,n,r,i,s=t.queries,a=t.conditions;for(n in s)(A=Ad.matchMedia(s[n]).matches)&&(r=1),A!==a[n]&&(a[n]=A,i=1);i&&(t.revert(),r&&e.push(t))})),xg("matchMediaRevert"),e.forEach((function(t){return t.onMatch(t,(function(e){return t.add(null,e)}))})),yg=t,xg("matchMedia"))},bg=function(){function t(t,e){this.selector=e&&lp(e),this.data=[],this._r=[],this.isReverted=!1,this.id=_g++,t&&this.add(t)}var e=t.prototype;return e.add=function(t,e,A){Pd(t)&&(A=e,e=t,t=Pd);var n=this,r=function(){var t,r=td,i=n.selector;return r&&r!==n&&r.data.push(n),A&&(n.selector=lp(A)),td=n,t=e.apply(n,arguments),Pd(t)&&n._r.push(t),td=r,n.selector=i,n.isReverted=!1,t};return n.last=r,t===Pd?r(n,(function(t){return n.add(null,t)})):t?n[t]=r:r},e.ignore=function(t){var e=td;td=null,t(this),td=e},e.getTweens=function(){var e=[];return this.data.forEach((function(A){return A instanceof t?e.push.apply(e,A.getTweens()):A instanceof ng&&!(A.parent&&"nested"===A.parent.data)&&e.push(A)})),e},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var A=this;if(t?function(){for(var e,n=A.getTweens(),r=A.data.length;r--;)"isFlip"===(e=A.data[r]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(t){return n.splice(n.indexOf(t),1)})));for(n.map((function(t){return{g:t._dur||t._delay||t._sat&&!t._sat.vars.immediateRender?t.globalTime(0):-Infinity,t:t}})).sort((function(t,e){return e.g-t.g||-Infinity})).forEach((function(e){return e.t.revert(t)})),r=A.data.length;r--;)(e=A.data[r])instanceof Wp?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):!(e instanceof ng)&&e.revert&&e.revert(t);A._r.forEach((function(e){return e(t,A)})),A.isReverted=!0}():this.data.forEach((function(t){return t.kill&&t.kill()})),this.clear(),e)for(var n=Bg.length;n--;)Bg[n].id===this.id&&Bg.splice(n,1)},e.revert=function(t){this.kill(t||{})},t}(),Ug=function(){function t(t){this.contexts=[],this.scope=t,td&&td.data.push(this)}var e=t.prototype;return e.add=function(t,e,A){Nd(t)||(t={matches:t});var n,r,i,s=new bg(0,A||this.scope),a=s.conditions={};for(r in td&&!s.selector&&(s.selector=td.selector),this.contexts.push(s),e=s.add("onMatch",e),s.queries=t,t)"all"===r?i=1:(n=Ad.matchMedia(t[r]))&&(Bg.indexOf(s)<0&&Bg.push(s),(a[r]=n.matches)&&(i=1),n.addListener?n.addListener(Cg):n.addEventListener("change",Cg));return i&&e(s,(function(t){return s.add(null,t)})),this},e.revert=function(t){this.kill(t||{})},e.kill=function(t){this.contexts.forEach((function(e){return e.kill(t,!0)}))},t}(),Fg={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];e.forEach((function(t){return _p(t)}))},timeline:function(t){return new Wp(t)},getTweensOf:function(t,e){return ed.getTweensOf(t,e)},getProperty:function(t,e,A,n){Hd(t)&&(t=op(t)[0]);var r=Bf(t||{}).get,i=A?Qf:Ff;return"native"===A&&(A=""),t?e?i((hf[e]&&hf[e].get||r)(t,e,A,n)):function(e,A,n){return i((hf[e]&&hf[e].get||r)(t,e,A,n))}:t},quickSetter:function(t,e,A){if((t=op(t)).length>1){var n=t.map((function(t){return Sg.quickSetter(t,e,A)})),r=n.length;return function(t){for(var e=r;e--;)n[e](t)}}t=t[0]||{};var i=hf[e],s=Bf(t),a=s.harness&&(s.harness.aliases||{})[e]||e,o=i?function(e){var n=new i;ad._pt=0,n.init(t,A?e+A:e,ad,0,[t]),n.render(1,n),ad._pt&&hg(1,ad)}:s.set(t,a);return i?o:function(e){return o(t,a,A?e+A:e,s,1)}},quickTo:function(t,e,A){var n,r=Sg.to(t,Sf(((n={})[e]="+=0.1",n.paused=!0,n),A||{})),i=function(t,A,n){return r.resetTo(e,t,A,n)};return i.tween=r,i},isTweening:function(t){return ed.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Rp(t.ease,Md.ease)),Ef(Md,t||{})},config:function(t){return Ef(Qd,t||{})},registerEffect:function(t){var e=t.name,A=t.effect,n=t.plugins,r=t.defaults,i=t.extendTimeline;(n||"").split(",").forEach((function(t){return t&&!hf[t]&&!$d[t]&&Af()})),df[e]=function(t,e,n){return A(op(t),Mf(e||{},r),n)},i&&(Wp.prototype[e]=function(t,A,n){return this.add(df[e](t,Nd(A)?A:(n=A)&&{},this),n)})},registerEase:function(t,e){Ip[t]=Rp(e)},parseEase:function(t,e){return arguments.length?Rp(t,e):Ip},getById:function(t){return ed.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var A,n,r=new Wp(t);for(r.smoothChildTiming=kd(t.smoothChildTiming),ed.remove(r),r._dp=0,r._time=r._tTime=ed._time,A=ed._first;A;)n=A._next,!e&&!A._dur&&A instanceof ng&&A.vars.onComplete===A._targets[0]||Xf(r,A,A._start-A._delay),A=n;return Xf(ed,r,0),r},context:function(t,e){return t?new bg(t,e):td},matchMedia:function(t){return new Ug(t)},matchMediaRefresh:function(){return Bg.forEach((function(t){var e,A,n=t.conditions;for(A in n)n[A]&&(n[A]=!1,e=1);e&&t.revert()}))||Cg()},addEventListener:function(t,e){var A=wg[t]||(wg[t]=[]);~A.indexOf(e)||A.push(e)},removeEventListener:function(t,e){var A=wg[t],n=A&&A.indexOf(e);n>=0&&A.splice(n,1)},utils:{wrap:function t(e,A,n){var r=A-e;return Gd(e)?pp(e,t(0,e.length),A):np(n,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,A,n){var r=A-e,i=2*r;return Gd(e)?pp(e,t(0,e.length-1),A):np(n,(function(t){return e+((t=(i+(t-e)%i)%i||0)>r?i-t:t)}))},distribute:up,random:fp,snap:dp,normalize:function(t,e,A){return mp(t,e,0,1,A)},getUnit:ip,clamp:function(t,e,A){return np(A,(function(A){return rp(t,e,A)}))},splitColor:bp,toArray:op,selector:lp,mapRange:mp,pipe:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(A){return t(parseFloat(A))+(e||ip(A))}},interpolate:function t(e,A,n,r){var i=isNaN(e+A)?0:function(t){return(1-t)*e+t*A};if(!i){var s,a,o,l,c,u=Hd(e),h={};if(!0===n&&(r=1)&&(n=null),u)e={p:e},A={p:A};else if(Gd(e)&&!Gd(A)){for(o=[],l=e.length,c=l-2,a=1;a<l;a++)o.push(t(e[a-1],e[a]));l--,i=function(t){t*=l;var e=Math.min(c,~~t);return o[e](t-e)},n=A}else r||(e=Sf(Gd(e)?[]:{},e));if(!o){for(s in A)Jp.call(h,e,s,"get",A[s]);i=function(t){return hg(t,h)||(u?e.p:e)}}}return np(n,i)},shuffle:cp},install:ef,effects:df,ticker:Ep,updateRoot:Wp.updateRoot,plugins:hf,globalTimeline:ed,core:{PropTween:mg,globals:nf,Tween:ng,Timeline:Wp,Animation:Gp,getCache:Bf,_removeLinkedListItem:Df,reverting:function(){return $h},context:function(t){return t&&td&&(td.data.push(t),t._ctx=td),td},suppressOverwrites:function(t){return Zh=t}}};vf("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return Fg[t]=ng[t]})),Ep.add(Wp.updateRoot),ad=Fg.to({},{duration:0});var Qg=function(t,e){for(var A=t._pt;A&&A.p!==e&&A.op!==e&&A.fp!==e;)A=A._next;return A},Mg=function(t,e){return{name:t,rawVars:1,init:function(t,A,n){n._onInit=function(t){var n,r;if(Hd(A)&&(n={},vf(A,(function(t){return n[t]=1})),A=n),e){for(r in n={},A)n[r]=e(A[r]);A=n}!function(t,e){var A,n,r,i=t._targets;for(A in e)for(n=i.length;n--;)(r=t._ptLookup[n][A])&&(r=r.d)&&(r._pt&&(r=Qg(r,A)),r&&r.modifier&&r.modifier(e[A],t,i[n],A))}(t,A)}}}},Sg=Fg.registerPlugin({name:"attr",init:function(t,e,A,n,r){var i,s,a;for(i in this.tween=A,e)a=t.getAttribute(i)||"",(s=this.add(t,"setAttribute",(a||0)+"",e[i],n,r,0,0,i)).op=i,s.b=a,this._props.push(i)},render:function(t,e){for(var A=e._pt;A;)$h?A.set(A.t,A.p,A.b,A):A.r(t,A.d),A=A._next}},{name:"endArray",init:function(t,e){for(var A=e.length;A--;)this.add(t,A,t[A]||0,e[A],0,0,0,0,0,1)}},Mg("roundProps",hp),Mg("modifiers"),Mg("snap",dp))||Fg;ng.version=Wp.version=Sg.version="3.12.5",id=1,Vd()&&Tp(),Ip.Power0,Ip.Power1,Ip.Power2,Ip.Power3,Ip.Power4,Ip.Linear,Ip.Quad,Ip.Cubic,Ip.Quart,Ip.Quint,Ip.Strong,Ip.Elastic,Ip.Back,Ip.SteppedEase,Ip.Bounce,Ip.Sine,Ip.Expo,Ip.Circ;
/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Eg,Tg,Ig,Lg,Dg,Hg,Pg,Og,Rg={},Ng=180/Math.PI,kg=Math.PI/180,Vg=Math.atan2,zg=/([A-Z])/g,Kg=/(left|right|width|margin|padding|x)/i,Gg=/[\s,\(]\S/,Wg={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Xg=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},jg=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Yg=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},Jg=function(t,e){var A=e.s+e.c*t;e.set(e.t,e.p,~~(A+(A<0?-.5:.5))+e.u,e)},qg=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},Zg=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},$g=function(t,e,A){return t.style[e]=A},tm=function(t,e,A){return t.style.setProperty(e,A)},em=function(t,e,A){return t._gsap[e]=A},Am=function(t,e,A){return t._gsap.scaleX=t._gsap.scaleY=A},nm=function(t,e,A,n,r){var i=t._gsap;i.scaleX=i.scaleY=A,i.renderTransform(r,i)},rm=function(t,e,A,n,r){var i=t._gsap;i[e]=A,i.renderTransform(r,i)},im="transform",sm=im+"Origin",am=function t(e,A){var n=this,r=this.target,i=r.style,s=r._gsap;if(e in Rg&&i){if(this.tfm=this.tfm||{},"transform"===e)return Wg.transform.split(",").forEach((function(e){return t.call(n,e,A)}));if(~(e=Wg[e]||e).indexOf(",")?e.split(",").forEach((function(t){return n.tfm[t]=bm(r,t)})):this.tfm[e]=s.x?s[e]:bm(r,e),e===sm&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(im)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(sm,A,"")),e=im}(i||A)&&this.props.push(e,A,i[e])},om=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},lm=function(){var t,e,A=this.props,n=this.target,r=n.style,i=n._gsap;for(t=0;t<A.length;t+=3)A[t+1]?n[A[t]]=A[t+2]:A[t+2]?r[A[t]]=A[t+2]:r.removeProperty("--"===A[t].substr(0,2)?A[t]:A[t].replace(zg,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)i[e]=this.tfm[e];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(t=Pg())&&t.isStart||r[im]||(om(r),i.zOrigin&&r[sm]&&(r[sm]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},cm=function(t,e){var A={target:t,props:[],revert:lm,save:am};return t._gsap||Sg.core.getCache(t),e&&e.split(",").forEach((function(t){return A.save(t)})),A},um=function(t,e){var A=Tg.createElementNS?Tg.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Tg.createElement(t);return A&&A.style?A:Tg.createElement(t)},hm=function t(e,A,n){var r=getComputedStyle(e);return r[A]||r.getPropertyValue(A.replace(zg,"-$1").toLowerCase())||r.getPropertyValue(A)||!n&&t(e,fm(A)||A,1)||""},dm="O,Moz,ms,Ms,Webkit".split(","),fm=function(t,e,A){var n=(e||Dg).style,r=5;if(t in n&&!A)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(dm[r]+t in n););return r<0?null:(3===r?"ms":r>=0?dm[r]:"")+t},pm=function(){"undefined"!=typeof window&&window.document&&(Eg=window,Tg=Eg.document,Ig=Tg.documentElement,Dg=um("div")||{style:{}},um("div"),im=fm(im),sm=im+"Origin",Dg.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Og=!!fm("perspective"),Pg=Sg.core.reverting,Lg=1)},gm=function t(e){var A,n=um("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText;if(Ig.appendChild(n),n.appendChild(this),this.style.display="block",e)try{A=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(a){}else this._gsapBBox&&(A=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Ig.removeChild(n),this.style.cssText=s,A},mm=function(t,e){for(var A=e.length;A--;)if(t.hasAttribute(e[A]))return t.getAttribute(e[A])},Bm=function(t){var e;try{e=t.getBBox()}catch(A){e=gm.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===gm||(e=gm.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+mm(t,["x","cx","x1"])||0,y:+mm(t,["y","cy","y1"])||0,width:0,height:0}},wm=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Bm(t))},vm=function(t,e){if(e){var A,n=t.style;e in Rg&&e!==sm&&(e=im),n.removeProperty?("ms"!==(A=e.substr(0,2))&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty("--"===A?e:e.replace(zg,"-$1").toLowerCase())):n.removeAttribute(e)}},ym=function(t,e,A,n,r,i){var s=new mg(t._pt,e,A,0,1,i?Zg:qg);return t._pt=s,s.b=n,s.e=r,t._props.push(A),s},_m={deg:1,rad:1,turn:1},xm={grid:1,flex:1},Cm=function t(e,A,n,r){var i,s,a,o,l=parseFloat(n)||0,c=(n+"").trim().substr((l+"").length)||"px",u=Dg.style,h=Kg.test(A),d="svg"===e.tagName.toLowerCase(),f=(d?"client":"offset")+(h?"Width":"Height"),p=100,g="px"===r,m="%"===r;if(r===c||!l||_m[r]||_m[c])return l;if("px"!==c&&!g&&(l=t(e,A,n,"px")),o=e.getCTM&&wm(e),(m||"%"===c)&&(Rg[A]||~A.indexOf("adius")))return i=o?e.getBBox()[h?"width":"height"]:e[f],yf(m?l/i*p:l/100*i);if(u[h?"width":"height"]=p+(g?c:r),s=~A.indexOf("adius")||"em"===r&&e.appendChild&&!d?e:e.parentNode,o&&(s=(e.ownerSVGElement||{}).parentNode),s&&s!==Tg&&s.appendChild||(s=Tg.body),(a=s._gsap)&&m&&a.width&&h&&a.time===Ep.time&&!a.uncache)return yf(l/a.width*p);if(!m||"height"!==A&&"width"!==A)(m||"%"===c)&&!xm[hm(s,"display")]&&(u.position=hm(e,"position")),s===e&&(u.position="static"),s.appendChild(Dg),i=Dg[f],s.removeChild(Dg),u.position="absolute";else{var B=e.style[A];e.style[A]=p+r,i=e[f],B?e.style[A]=B:vm(e,A)}return h&&m&&((a=Bf(s)).time=Ep.time,a.width=s[f]),yf(g?i*l/p:i&&l?p/i*l:0)},bm=function(t,e,A,n){var r;return Lg||pm(),e in Wg&&"transform"!==e&&~(e=Wg[e]).indexOf(",")&&(e=e.split(",")[0]),Rg[e]&&"transform"!==e?(r=Hm(t,n),r="transformOrigin"!==e?r[e]:r.svg?r.origin:Pm(hm(t,sm))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||n||~(r+"").indexOf("calc("))&&(r=Mm[e]&&Mm[e](t,e,A)||hm(t,e)||wf(t,e)||("opacity"===e?1:0)),A&&!~(r+"").trim().indexOf(" ")?Cm(t,e,r,A)+A:r},Um=function(t,e,A,n){if(!A||"none"===A){var r=fm(e,t,1),i=r&&hm(t,r,1);i&&i!==A?(e=r,A=i):"borderColor"===e&&(A=hm(t,"borderTopColor"))}var s,a,o,l,c,u,h,d,f,p,g,m=new mg(this._pt,t.style,e,0,1,ug),B=0,w=0;if(m.b=A,m.e=n,A+="","auto"===(n+="")&&(u=t.style[e],t.style[e]=n,n=hm(t,e)||n,u?t.style[e]=u:vm(t,e)),Sp(s=[A,n]),n=s[1],o=(A=s[0]).match(jd)||[],(n.match(jd)||[]).length){for(;a=jd.exec(n);)h=a[0],f=n.substring(B,a.index),c?c=(c+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(c=1),h!==(u=o[w++]||"")&&(l=parseFloat(u)||0,g=u.substr((l+"").length),"="===h.charAt(1)&&(h=xf(l,h)+g),d=parseFloat(h),p=h.substr((d+"").length),B=jd.lastIndex-p.length,p||(p=p||Qd.units[e]||g,B===n.length&&(n+=p,m.e+=p)),g!==p&&(l=Cm(t,e,u,p)||0),m._pt={_next:m._pt,p:f||1===w?f:",",s:l,c:d-l,m:c&&c<4||"zIndex"===e?Math.round:0});m.c=B<n.length?n.substring(B,n.length):""}else m.r="display"===e&&"none"===n?Zg:qg;return Jd.test(n)&&(m.e=0),this._pt=m,m},Fm={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Qm=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var A,n,r,i=e.t,s=i.style,a=e.u,o=i._gsap;if("all"===a||!0===a)s.cssText="",n=1;else for(r=(a=a.split(",")).length;--r>-1;)A=a[r],Rg[A]&&(n=1,A="transformOrigin"===A?sm:im),vm(i,A);n&&(vm(i,im),o&&(o.svg&&i.removeAttribute("transform"),Hm(i,1),o.uncache=1,om(s)))}},Mm={clearProps:function(t,e,A,n,r){if("isFromStart"!==r.data){var i=t._pt=new mg(t._pt,e,A,0,0,Qm);return i.u=n,i.pr=-10,i.tween=r,t._props.push(A),1}}},Sm=[1,0,0,1,0,0],Em={},Tm=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},Im=function(t){var e=hm(t,im);return Tm(e)?Sm:e.substr(7).match(Xd).map(yf)},Lm=function(t,e){var A,n,r,i,s=t._gsap||Bf(t),a=t.style,o=Im(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Sm:o:(o!==Sm||t.offsetParent||t===Ig||s.svg||(r=a.display,a.display="block",(A=t.parentNode)&&t.offsetParent||(i=1,n=t.nextElementSibling,Ig.appendChild(t)),o=Im(t),r?a.display=r:vm(t,"display"),i&&(n?A.insertBefore(t,n):A?A.appendChild(t):Ig.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},Dm=function(t,e,A,n,r,i){var s,a,o,l=t._gsap,c=r||Lm(t,!0),u=l.xOrigin||0,h=l.yOrigin||0,d=l.xOffset||0,f=l.yOffset||0,p=c[0],g=c[1],m=c[2],B=c[3],w=c[4],v=c[5],y=e.split(" "),_=parseFloat(y[0])||0,x=parseFloat(y[1])||0;A?c!==Sm&&(a=p*B-g*m)&&(o=_*(-g/a)+x*(p/a)-(p*v-g*w)/a,_=_*(B/a)+x*(-m/a)+(m*v-B*w)/a,x=o):(_=(s=Bm(t)).x+(~y[0].indexOf("%")?_/100*s.width:_),x=s.y+(~(y[1]||y[0]).indexOf("%")?x/100*s.height:x)),n||!1!==n&&l.smooth?(w=_-u,v=x-h,l.xOffset=d+(w*p+v*m)-w,l.yOffset=f+(w*g+v*B)-v):l.xOffset=l.yOffset=0,l.xOrigin=_,l.yOrigin=x,l.smooth=!!n,l.origin=e,l.originIsAbsolute=!!A,t.style[sm]="0px 0px",i&&(ym(i,l,"xOrigin",u,_),ym(i,l,"yOrigin",h,x),ym(i,l,"xOffset",d,l.xOffset),ym(i,l,"yOffset",f,l.yOffset)),t.setAttribute("data-svg-origin",_+" "+x)},Hm=function(t,e){var A=t._gsap||new Kp(t);if("x"in A&&!e&&!A.uncache)return A;var n,r,i,s,a,o,l,c,u,h,d,f,p,g,m,B,w,v,y,_,x,C,b,U,F,Q,M,S,E,T,I,L,D=t.style,H=A.scaleX<0,P="px",O="deg",R=getComputedStyle(t),N=hm(t,sm)||"0";return n=r=i=o=l=c=u=h=d=0,s=a=1,A.svg=!(!t.getCTM||!wm(t)),R.translate&&("none"===R.translate&&"none"===R.scale&&"none"===R.rotate||(D[im]=("none"!==R.translate?"translate3d("+(R.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==R.rotate?"rotate("+R.rotate+") ":"")+("none"!==R.scale?"scale("+R.scale.split(" ").join(",")+") ":"")+("none"!==R[im]?R[im]:"")),D.scale=D.rotate=D.translate="none"),g=Lm(t,A.svg),A.svg&&(A.uncache?(F=t.getBBox(),N=A.xOrigin-F.x+"px "+(A.yOrigin-F.y)+"px",U=""):U=!e&&t.getAttribute("data-svg-origin"),Dm(t,U||N,!!U||A.originIsAbsolute,!1!==A.smooth,g)),f=A.xOrigin||0,p=A.yOrigin||0,g!==Sm&&(v=g[0],y=g[1],_=g[2],x=g[3],n=C=g[4],r=b=g[5],6===g.length?(s=Math.sqrt(v*v+y*y),a=Math.sqrt(x*x+_*_),o=v||y?Vg(y,v)*Ng:0,(u=_||x?Vg(_,x)*Ng+o:0)&&(a*=Math.abs(Math.cos(u*kg))),A.svg&&(n-=f-(f*v+p*_),r-=p-(f*y+p*x))):(L=g[6],T=g[7],M=g[8],S=g[9],E=g[10],I=g[11],n=g[12],r=g[13],i=g[14],l=(m=Vg(L,E))*Ng,m&&(U=C*(B=Math.cos(-m))+M*(w=Math.sin(-m)),F=b*B+S*w,Q=L*B+E*w,M=C*-w+M*B,S=b*-w+S*B,E=L*-w+E*B,I=T*-w+I*B,C=U,b=F,L=Q),c=(m=Vg(-_,E))*Ng,m&&(B=Math.cos(-m),I=x*(w=Math.sin(-m))+I*B,v=U=v*B-M*w,y=F=y*B-S*w,_=Q=_*B-E*w),o=(m=Vg(y,v))*Ng,m&&(U=v*(B=Math.cos(m))+y*(w=Math.sin(m)),F=C*B+b*w,y=y*B-v*w,b=b*B-C*w,v=U,C=F),l&&Math.abs(l)+Math.abs(o)>359.9&&(l=o=0,c=180-c),s=yf(Math.sqrt(v*v+y*y+_*_)),a=yf(Math.sqrt(b*b+L*L)),m=Vg(C,b),u=Math.abs(m)>2e-4?m*Ng:0,d=I?1/(I<0?-I:I):0),A.svg&&(U=t.getAttribute("transform"),A.forceCSS=t.setAttribute("transform","")||!Tm(hm(t,im)),U&&t.setAttribute("transform",U))),Math.abs(u)>90&&Math.abs(u)<270&&(H?(s*=-1,u+=o<=0?180:-180,o+=o<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),e=e||A.uncache,A.x=n-((A.xPercent=n&&(!e&&A.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-n)?-50:0)))?t.offsetWidth*A.xPercent/100:0)+P,A.y=r-((A.yPercent=r&&(!e&&A.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*A.yPercent/100:0)+P,A.z=i+P,A.scaleX=yf(s),A.scaleY=yf(a),A.rotation=yf(o)+O,A.rotationX=yf(l)+O,A.rotationY=yf(c)+O,A.skewX=u+O,A.skewY=h+O,A.transformPerspective=d+P,(A.zOrigin=parseFloat(N.split(" ")[2])||!e&&A.zOrigin||0)&&(D[sm]=Pm(N)),A.xOffset=A.yOffset=0,A.force3D=Qd.force3D,A.renderTransform=A.svg?km:Og?Nm:Rm,A.uncache=0,A},Pm=function(t){return(t=t.split(" "))[0]+" "+t[1]},Om=function(t,e,A){var n=ip(e);return yf(parseFloat(e)+parseFloat(Cm(t,"x",A+"px",n)))+n},Rm=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Nm(t,e)},Nm=function(t,e){var A=e||this,n=A.xPercent,r=A.yPercent,i=A.x,s=A.y,a=A.z,o=A.rotation,l=A.rotationY,c=A.rotationX,u=A.skewX,h=A.skewY,d=A.scaleX,f=A.scaleY,p=A.transformPerspective,g=A.force3D,m=A.target,B=A.zOrigin,w="",v="auto"===g&&t&&1!==t||!0===g;if(B&&("0deg"!==c||"0deg"!==l)){var y,_=parseFloat(l)*kg,x=Math.sin(_),C=Math.cos(_);_=parseFloat(c)*kg,y=Math.cos(_),i=Om(m,i,x*y*-B),s=Om(m,s,-Math.sin(_)*-B),a=Om(m,a,C*y*-B+B)}"0px"!==p&&(w+="perspective("+p+") "),(n||r)&&(w+="translate("+n+"%, "+r+"%) "),(v||"0px"!==i||"0px"!==s||"0px"!==a)&&(w+="0px"!==a||v?"translate3d("+i+", "+s+", "+a+") ":"translate("+i+", "+s+") "),"0deg"!==o&&(w+="rotate("+o+") "),"0deg"!==l&&(w+="rotateY("+l+") "),"0deg"!==c&&(w+="rotateX("+c+") "),"0deg"===u&&"0deg"===h||(w+="skew("+u+", "+h+") "),1===d&&1===f||(w+="scale("+d+", "+f+") "),m.style[im]=w||"translate(0, 0)"},km=function(t,e){var A,n,r,i,s,a=e||this,o=a.xPercent,l=a.yPercent,c=a.x,u=a.y,h=a.rotation,d=a.skewX,f=a.skewY,p=a.scaleX,g=a.scaleY,m=a.target,B=a.xOrigin,w=a.yOrigin,v=a.xOffset,y=a.yOffset,_=a.forceCSS,x=parseFloat(c),C=parseFloat(u);h=parseFloat(h),d=parseFloat(d),(f=parseFloat(f))&&(d+=f=parseFloat(f),h+=f),h||d?(h*=kg,d*=kg,A=Math.cos(h)*p,n=Math.sin(h)*p,r=Math.sin(h-d)*-g,i=Math.cos(h-d)*g,d&&(f*=kg,s=Math.tan(d-f),r*=s=Math.sqrt(1+s*s),i*=s,f&&(s=Math.tan(f),A*=s=Math.sqrt(1+s*s),n*=s)),A=yf(A),n=yf(n),r=yf(r),i=yf(i)):(A=p,i=g,n=r=0),(x&&!~(c+"").indexOf("px")||C&&!~(u+"").indexOf("px"))&&(x=Cm(m,"x",c,"px"),C=Cm(m,"y",u,"px")),(B||w||v||y)&&(x=yf(x+B-(B*A+w*r)+v),C=yf(C+w-(B*n+w*i)+y)),(o||l)&&(s=m.getBBox(),x=yf(x+o/100*s.width),C=yf(C+l/100*s.height)),s="matrix("+A+","+n+","+r+","+i+","+x+","+C+")",m.setAttribute("transform",s),_&&(m.style[im]=s)},Vm=function(t,e,A,n,r){var i,s,a=360,o=Hd(r),l=parseFloat(r)*(o&&~r.indexOf("rad")?Ng:1)-n,c=n+l+"deg";return o&&("short"===(i=r.split("_")[1])&&(l%=a)!==l%180&&(l+=l<0?a:-360),"cw"===i&&l<0?l=(l+36e9)%a-~~(l/a)*a:"ccw"===i&&l>0&&(l=(l-36e9)%a-~~(l/a)*a)),t._pt=s=new mg(t._pt,e,A,n,l,jg),s.e=c,s.u="deg",t._props.push(A),s},zm=function(t,e){for(var A in e)t[A]=e[A];return t},Km=function(t,e,A){var n,r,i,s,a,o,l,c=zm({},A._gsap),u=A.style;for(r in c.svg?(i=A.getAttribute("transform"),A.setAttribute("transform",""),u[im]=e,n=Hm(A,1),vm(A,im),A.setAttribute("transform",i)):(i=getComputedStyle(A)[im],u[im]=e,n=Hm(A,1),u[im]=i),Rg)(i=c[r])!==(s=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(a=ip(i)!==(l=ip(s))?Cm(A,r,i,l):parseFloat(i),o=parseFloat(s),t._pt=new mg(t._pt,n,r,a,o-a,Xg),t._pt.u=l||0,t._props.push(r));zm(n,c)};vf("padding,margin,Width,Radius",(function(t,e){var A="Top",n="Right",r="Bottom",i="Left",s=(e<3?[A,n,r,i]:[A+i,A+n,r+n,r+i]).map((function(A){return e<2?t+A:"border"+A+t}));Mm[e>1?"border"+t:t]=function(t,e,A,n,r){var i,a;if(arguments.length<4)return i=s.map((function(e){return bm(t,e,A)})),5===(a=i.join(" ")).split(i[0]).length?i[0]:a;i=(n+"").split(" "),a={},s.forEach((function(t,e){return a[t]=i[e]=i[e]||i[(e-1)/2|0]})),t.init(e,a,r)}}));var Gm,Wm,Xm,jm={name:"css",register:pm,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,A,n,r){var i,s,a,o,l,c,u,h,d,f,p,g,m,B,w,v,y,_,x,C,b=this._props,U=t.style,F=A.vars.startAt;for(u in Lg||pm(),this.styles=this.styles||cm(t),v=this.styles.props,this.tween=A,e)if("autoRound"!==u&&(s=e[u],!hf[u]||!qp(u,e,A,n,t,r)))if(l=typeof s,c=Mm[u],"function"===l&&(l=typeof(s=s.call(A,n,t,r))),"string"===l&&~s.indexOf("random(")&&(s=gp(s)),c)c(this,t,u,s,A)&&(w=1);else if("--"===u.substr(0,2))i=(getComputedStyle(t).getPropertyValue(u)+"").trim(),s+="",Qp.lastIndex=0,Qp.test(i)||(h=ip(i),d=ip(s)),d?h!==d&&(i=Cm(t,u,i,d)+d):h&&(s+=h),this.add(U,"setProperty",i,s,n,r,0,0,u),b.push(u),v.push(u,0,U[u]);else if("undefined"!==l){if(F&&u in F?(i="function"==typeof F[u]?F[u].call(A,n,t,r):F[u],Hd(i)&&~i.indexOf("random(")&&(i=gp(i)),ip(i+"")||"auto"===i||(i+=Qd.units[u]||ip(bm(t,u))||""),"="===(i+"").charAt(1)&&(i=bm(t,u))):i=bm(t,u),o=parseFloat(i),(f="string"===l&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),u in Wg&&("autoAlpha"===u&&(1===o&&"hidden"===bm(t,"visibility")&&a&&(o=0),v.push("visibility",0,U.visibility),ym(this,U,"visibility",o?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==u&&"transform"!==u&&~(u=Wg[u]).indexOf(",")&&(u=u.split(",")[0])),p=u in Rg)if(this.styles.save(u),g||((m=t._gsap).renderTransform&&!e.parseTransform||Hm(t,e.parseTransform),B=!1!==e.smoothOrigin&&m.smooth,(g=this._pt=new mg(this._pt,U,im,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===u)this._pt=new mg(this._pt,m,"scaleY",m.scaleY,(f?xf(m.scaleY,f+a):a)-m.scaleY||0,Xg),this._pt.u=0,b.push("scaleY",u),u+="X";else{if("transformOrigin"===u){v.push(sm,0,U[sm]),_=void 0,x=void 0,C=void 0,_=(y=s).split(" "),x=_[0],C=_[1]||"50%","top"!==x&&"bottom"!==x&&"left"!==C&&"right"!==C||(y=x,x=C,C=y),_[0]=Fm[x]||x,_[1]=Fm[C]||C,s=_.join(" "),m.svg?Dm(t,s,0,B,0,this):((d=parseFloat(s.split(" ")[2])||0)!==m.zOrigin&&ym(this,m,"zOrigin",m.zOrigin,d),ym(this,U,u,Pm(i),Pm(s)));continue}if("svgOrigin"===u){Dm(t,s,1,B,0,this);continue}if(u in Em){Vm(this,m,u,o,f?xf(o,f+s):s);continue}if("smoothOrigin"===u){ym(this,m,"smooth",m.smooth,s);continue}if("force3D"===u){m[u]=s;continue}if("transform"===u){Km(this,s,t);continue}}else u in U||(u=fm(u)||u);if(p||(a||0===a)&&(o||0===o)&&!Gg.test(s)&&u in U)a||(a=0),(h=(i+"").substr((o+"").length))!==(d=ip(s)||(u in Qd.units?Qd.units[u]:h))&&(o=Cm(t,u,i,d)),this._pt=new mg(this._pt,p?m:U,u,o,(f?xf(o,f+a):a)-o,p||"px"!==d&&"zIndex"!==u||!1===e.autoRound?Xg:Jg),this._pt.u=d||0,h!==d&&"%"!==d&&(this._pt.b=i,this._pt.r=Yg);else if(u in U)Um.call(this,t,u,i,f?f+s:s);else if(u in t)this.add(t,u,i||t[u],f?f+s:s,n,r);else if("parseTransform"!==u)continue;p||(u in U?v.push(u,0,U[u]):v.push(u,1,i||t[u])),b.push(u)}w&&gg(this)},render:function(t,e){if(e.tween._time||!Pg())for(var A=e._pt;A;)A.r(t,A.d),A=A._next;else e.styles.revert()},get:bm,aliases:Wg,getSetter:function(t,e,A){var n=Wg[e];return n&&n.indexOf(",")<0&&(e=n),e in Rg&&e!==sm&&(t._gsap.x||bm(t,"x"))?A&&Hg===A?"scale"===e?Am:em:(Hg=A||{})&&("scale"===e?nm:rm):t.style&&!Rd(t.style[e])?$g:~e.indexOf("-")?tm:og(t,e)},core:{_removeProperty:vm,_getMatrix:Lm}};Sg.utils.checkPrefix=fm,Sg.core.getStyleSaver=cm,Xm=vf((Gm="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Wm="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){Rg[t]=1})),vf(Wm,(function(t){Qd.units[t]="deg",Em[t]=1})),Wg[Xm[13]]=Gm+","+Wm,vf("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Wg[e[1]]=Xm[e[0]]})),vf("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){Qd.units[t]="px"})),Sg.registerPlugin(jm);var Ym=Sg.registerPlugin(jm)||Sg;Ym.core.Tween;
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Jm=function(t,e){return(Jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A])})(t,e)};function qm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function A(){this.constructor=t}Jm(t,e),t.prototype=null===e?Object.create(e):(A.prototype=e.prototype,new A)}var Zm=function(){return Zm=Object.assign||function(t){for(var e,A=1,n=arguments.length;A<n;A++)for(var r in e=arguments[A])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Zm.apply(this,arguments)};function $m(t,e,A,n){return new(A||(A=Promise))((function(r,i){function s(t){try{o(n.next(t))}catch(e){i(e)}}function a(t){try{o(n.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?r(t.value):(e=t.value,e instanceof A?e:new A((function(t){t(e)}))).then(s,a)}o((n=n.apply(t,e||[])).next())}))}function tB(t,e){var A,n,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(A)throw new TypeError("Generator is already executing.");for(;s;)try{if(A=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(a){i=[6,a],n=0}finally{A=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}for(var eB=function(){function t(t,e,A,n){this.left=t,this.top=e,this.width=A,this.height=n}return t.prototype.add=function(e,A,n,r){return new t(this.left+e,this.top+A,this.width+n,this.height+r)},t.fromClientRect=function(e,A){return new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},t.fromDOMRectList=function(e,A){var n=Array.from(A).find((function(t){return 0!==t.width}));return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),AB=function(t,e){return eB.fromClientRect(t,e.getBoundingClientRect())},nB=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var i=t.charCodeAt(A++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),A--)}else e.push(r)}return e},rB=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,i="";++r<A;){var s=t[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===A||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},iB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sB="undefined"==typeof Uint8Array?[]:new Uint8Array(256),aB=0;aB<iB.length;aB++)sB[iB.charCodeAt(aB)]=aB;for(var oB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lB="undefined"==typeof Uint8Array?[]:new Uint8Array(256),cB=0;cB<oB.length;cB++)lB[oB.charCodeAt(cB)]=cB;for(var uB=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},hB=function(){function t(t,e,A,n,r,i){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=n,this.index=r,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),dB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fB="undefined"==typeof Uint8Array?[]:new Uint8Array(256),pB=0;pB<dB.length;pB++)fB[dB.charCodeAt(pB)]=pB;var gB,mB,BB,wB,vB,yB,_B,xB,CB=10,bB=13,UB=15,FB=17,QB=18,MB=19,SB=20,EB=21,TB=22,IB=24,LB=25,DB=26,HB=27,PB=28,OB=30,RB=32,NB=33,kB=34,VB=35,zB=37,KB=38,GB=39,WB=40,XB=42,jB=[9001,65288],YB=(wB=function(t){var e,A,n,r,i,s=.75*t.length,a=t.length,o=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<a;e+=4)A=lB[t.charCodeAt(e)],n=lB[t.charCodeAt(e+1)],r=lB[t.charCodeAt(e+2)],i=lB[t.charCodeAt(e+3)],c[o++]=A<<2|n>>4,c[o++]=(15&n)<<4|r>>2,c[o++]=(3&r)<<6|63&i;return l}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),vB=Array.isArray(wB)?function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A}(wB):new Uint32Array(wB),yB=Array.isArray(wB)?function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A}(wB):new Uint16Array(wB),_B=uB(yB,12,vB[4]/2),xB=2===vB[5]?uB(yB,(24+vB[4])/2):(gB=vB,mB=Math.ceil((24+vB[4])/4),gB.slice?gB.slice(mB,BB):new Uint32Array(Array.prototype.slice.call(gB,mB,BB))),new hB(vB[0],vB[1],vB[2],vB[3],_B,xB)),JB=[OB,36],qB=[1,2,3,5],ZB=[CB,8],$B=[HB,DB],tw=qB.concat(ZB),ew=[KB,GB,WB,kB,VB],Aw=[UB,bB],nw=function(t,e,A,n){var r=n[A];if(Array.isArray(t)?-1!==t.indexOf(r):t===r)for(var i=A;i<=n.length;){if((o=n[++i])===e)return!0;if(o!==CB)break}if(r===CB)for(i=A;i>0;){var s=n[--i];if(Array.isArray(t)?-1!==t.indexOf(s):t===s)for(var a=A;a<=n.length;){var o;if((o=n[++a])===e)return!0;if(o!==CB)break}if(s!==CB)break}return!1},rw=function(t,e){for(var A=t;A>=0;){var n=e[A];if(n!==CB)return n;A--}return 0},iw=function(t,e,A,n,r){if(0===A[n])return"×";var i=n-1;if(Array.isArray(r)&&!0===r[i])return"×";var s=i-1,a=i+1,o=e[i],l=s>=0?e[s]:0,c=e[a];if(2===o&&3===c)return"×";if(-1!==qB.indexOf(o))return"!";if(-1!==qB.indexOf(c))return"×";if(-1!==ZB.indexOf(c))return"×";if(8===rw(i,e))return"÷";if(11===YB.get(t[i]))return"×";if((o===RB||o===NB)&&11===YB.get(t[a]))return"×";if(7===o||7===c)return"×";if(9===o)return"×";if(-1===[CB,bB,UB].indexOf(o)&&9===c)return"×";if(-1!==[FB,QB,MB,IB,PB].indexOf(c))return"×";if(rw(i,e)===TB)return"×";if(nw(23,TB,i,e))return"×";if(nw([FB,QB],EB,i,e))return"×";if(nw(12,12,i,e))return"×";if(o===CB)return"÷";if(23===o||23===c)return"×";if(16===c||16===o)return"÷";if(-1!==[bB,UB,EB].indexOf(c)||14===o)return"×";if(36===l&&-1!==Aw.indexOf(o))return"×";if(o===PB&&36===c)return"×";if(c===SB)return"×";if(-1!==JB.indexOf(c)&&o===LB||-1!==JB.indexOf(o)&&c===LB)return"×";if(o===HB&&-1!==[zB,RB,NB].indexOf(c)||-1!==[zB,RB,NB].indexOf(o)&&c===DB)return"×";if(-1!==JB.indexOf(o)&&-1!==$B.indexOf(c)||-1!==$B.indexOf(o)&&-1!==JB.indexOf(c))return"×";if(-1!==[HB,DB].indexOf(o)&&(c===LB||-1!==[TB,UB].indexOf(c)&&e[a+1]===LB)||-1!==[TB,UB].indexOf(o)&&c===LB||o===LB&&-1!==[LB,PB,IB].indexOf(c))return"×";if(-1!==[LB,PB,IB,FB,QB].indexOf(c))for(var u=i;u>=0;){if((h=e[u])===LB)return"×";if(-1===[PB,IB].indexOf(h))break;u--}if(-1!==[HB,DB].indexOf(c))for(u=-1!==[FB,QB].indexOf(o)?s:i;u>=0;){var h;if((h=e[u])===LB)return"×";if(-1===[PB,IB].indexOf(h))break;u--}if(KB===o&&-1!==[KB,GB,kB,VB].indexOf(c)||-1!==[GB,kB].indexOf(o)&&-1!==[GB,WB].indexOf(c)||-1!==[WB,VB].indexOf(o)&&c===WB)return"×";if(-1!==ew.indexOf(o)&&-1!==[SB,DB].indexOf(c)||-1!==ew.indexOf(c)&&o===HB)return"×";if(-1!==JB.indexOf(o)&&-1!==JB.indexOf(c))return"×";if(o===IB&&-1!==JB.indexOf(c))return"×";if(-1!==JB.concat(LB).indexOf(o)&&c===TB&&-1===jB.indexOf(t[a])||-1!==JB.concat(LB).indexOf(c)&&o===QB)return"×";if(41===o&&41===c){for(var d=A[i],f=1;d>0&&41===e[--d];)f++;if(f%2!=0)return"×"}return o===RB&&c===NB?"×":"÷"},sw=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=function(t,e){void 0===e&&(e="strict");var A=[],n=[],r=[];return t.forEach((function(t,i){var s=YB.get(t);if(s>50?(r.push(!0),s-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return n.push(i),A.push(16);if(4===s||11===s){if(0===i)return n.push(i),A.push(OB);var a=A[i-1];return-1===tw.indexOf(a)?(n.push(n[i-1]),A.push(a)):(n.push(i),A.push(OB))}return n.push(i),31===s?A.push("strict"===e?EB:zB):s===XB||29===s?A.push(OB):43===s?t>=131072&&t<=196605||t>=196608&&t<=262141?A.push(zB):A.push(OB):void A.push(s)})),[n,A,r]}(t,e.lineBreak),n=A[0],r=A[1],i=A[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(r=r.map((function(t){return-1!==[LB,OB,XB].indexOf(t)?zB:t})));var s="keep-all"===e.wordBreak?i.map((function(e,A){return e&&t[A]>=19968&&t[A]<=40959})):void 0;return[n,r,s]},aw=function(){function t(t,e,A,n){this.codePoints=t,this.required="!"===e,this.start=A,this.end=n}return t.prototype.slice=function(){return rB.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),ow=function(t){return t>=48&&t<=57},lw=function(t){return ow(t)||t>=65&&t<=70||t>=97&&t<=102},cw=function(t){return 10===t||9===t||32===t},uw=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},hw=function(t){return uw(t)||ow(t)||45===t},dw=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},fw=function(t,e){return 92===t&&10!==e},pw=function(t,e,A){return 45===t?uw(e)||fw(e,A):!!uw(t)||!(92!==t||!fw(t,e))},gw=function(t,e,A){return 43===t||45===t?!!ow(e)||46===e&&ow(A):ow(46===t?e:t)},mw=function(t){var e=0,A=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(A=-1),e++);for(var n=[];ow(t[e]);)n.push(t[e++]);var r=n.length?parseInt(rB.apply(void 0,n),10):0;46===t[e]&&e++;for(var i=[];ow(t[e]);)i.push(t[e++]);var s=i.length,a=s?parseInt(rB.apply(void 0,i),10):0;69!==t[e]&&101!==t[e]||e++;var o=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(o=-1),e++);for(var l=[];ow(t[e]);)l.push(t[e++]);var c=l.length?parseInt(rB.apply(void 0,l),10):0;return A*(r+a*Math.pow(10,-s))*Math.pow(10,o*c)},Bw={type:2},ww={type:3},vw={type:4},yw={type:13},_w={type:8},xw={type:21},Cw={type:9},bw={type:10},Uw={type:11},Fw={type:12},Qw={type:14},Mw={type:23},Sw={type:1},Ew={type:25},Tw={type:24},Iw={type:26},Lw={type:27},Dw={type:28},Hw={type:29},Pw={type:31},Ow={type:32},Rw=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(nB(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Ow;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),A=this.peekCodePoint(1),n=this.peekCodePoint(2);if(hw(e)||fw(A,n)){var r=pw(e,A,n)?2:1;return{type:5,value:this.consumeName(),flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),yw;break;case 39:return this.consumeStringToken(39);case 40:return Bw;case 41:return ww;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qw;break;case 43:if(gw(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return vw;case 45:var i=t,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(gw(i,s,a))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(pw(i,s,a))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(45===s&&62===a)return this.consumeCodePoint(),this.consumeCodePoint(),Tw;break;case 46:if(gw(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var o=this.consumeCodePoint();if(42===o&&47===(o=this.consumeCodePoint()))return this.consumeToken();if(-1===o)return this.consumeToken()}break;case 58:return Iw;case 59:return Lw;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ew;break;case 64:var l=this.peekCodePoint(0),c=this.peekCodePoint(1),u=this.peekCodePoint(2);if(pw(l,c,u))return{type:7,value:this.consumeName()};break;case 91:return Dw;case 92:if(fw(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Hw;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_w;break;case 123:return Uw;case 125:return Fw;case 117:case 85:var h=this.peekCodePoint(0),d=this.peekCodePoint(1);return 43!==h||!lw(d)&&63!==d||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Cw;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),xw;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),bw;break;case-1:return Ow}return cw(t)?(this.consumeWhiteSpace(),Pw):ow(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):uw(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:rB(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();lw(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var A=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),A=!0;if(A)return{type:30,start:parseInt(rB.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(rB.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var n=parseInt(rB.apply(void 0,t),16);if(45===this.peekCodePoint(0)&&lw(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var r=[];lw(e)&&r.length<6;)r.push(e),e=this.consumeCodePoint();return{type:30,start:n,end:parseInt(rB.apply(void 0,r),16)}}return{type:30,start:n,end:n}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var A=this.consumeStringToken(this.consumeCodePoint());return 0===A.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),Mw)}for(;;){var n=this.consumeCodePoint();if(-1===n||41===n)return{type:22,value:rB.apply(void 0,t)};if(cw(n))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:rB.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Mw);if(34===n||39===n||40===n||dw(n))return this.consumeBadUrlRemnants(),Mw;if(92===n){if(!fw(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Mw;t.push(this.consumeEscapedCodePoint())}else t.push(n)}},t.prototype.consumeWhiteSpace=function(){for(;cw(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||-1===t)return;fw(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var A=Math.min(5e4,t);e+=rB.apply(void 0,this._value.splice(0,A)),t-=A}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",A=0;;){var n=this._value[A];if(-1===n||void 0===n||n===t)return{type:0,value:e+=this.consumeStringSlice(A)};if(10===n)return this._value.splice(0,A),Sw;if(92===n){var r=this._value[A+1];-1!==r&&void 0!==r&&(10===r?(e+=this.consumeStringSlice(A),A=-1,this._value.shift()):fw(n,r)&&(e+=this.consumeStringSlice(A),e+=rB(this.consumeEscapedCodePoint()),A=-1))}A++}},t.prototype.consumeNumber=function(){var t=[],e=4,A=this.peekCodePoint(0);for(43!==A&&45!==A||t.push(this.consumeCodePoint());ow(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===A&&ow(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;ow(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===A||101===A)&&((43===n||45===n)&&ow(r)||ow(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;ow(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[mw(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],A=t[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);return pw(n,r,i)?{type:15,number:e,flags:A,unit:this.consumeName()}:37===n?(this.consumeCodePoint(),{type:16,number:e,flags:A}):{type:17,number:e,flags:A}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(lw(t)){for(var e=rB(t);lw(this.peekCodePoint(0))&&e.length<6;)e+=rB(this.consumeCodePoint());cw(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(e,16);return 0===A||function(t){return t>=55296&&t<=57343}(A)||A>1114111?65533:A}return-1===t?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(hw(e))t+=rB(e);else{if(!fw(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=rB(this.consumeEscapedCodePoint())}}},t}(),Nw=function(){function t(t){this._tokens=t}return t.create=function(e){var A=new Rw;return A.write(e),new t(A.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},A=this.consumeToken();;){if(32===A.type||Yw(A,t))return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue()),A=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var A=this.consumeToken();if(32===A.type||3===A.type)return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Ow:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),kw=function(t){return 15===t.type},Vw=function(t){return 17===t.type},zw=function(t){return 20===t.type},Kw=function(t){return 0===t.type},Gw=function(t,e){return zw(t)&&t.value===e},Ww=function(t){return 31!==t.type},Xw=function(t){return 31!==t.type&&4!==t.type},jw=function(t){var e=[],A=[];return t.forEach((function(t){if(4===t.type){if(0===A.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(A),void(A=[])}31!==t.type&&A.push(t)})),A.length&&e.push(A),e},Yw=function(t,e){return 11===e&&12===t.type||(28===e&&29===t.type||2===e&&3===t.type)},Jw=function(t){return 17===t.type||15===t.type},qw=function(t){return 16===t.type||Jw(t)},Zw=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},$w={type:17,number:0,flags:4},tv={type:16,number:50,flags:4},ev={type:16,number:100,flags:4},Av=function(t,e,A){var n=t[0],r=t[1];return[nv(n,e),nv(void 0!==r?r:n,A)]},nv=function(t,e){if(16===t.type)return t.number/100*e;if(kw(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},rv=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},iv=function(t){return 15===t.type&&("deg"===t.unit||"grad"===t.unit||"rad"===t.unit||"turn"===t.unit)},sv=function(t){switch(t.filter(zw).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[$w,$w];case"to top":case"bottom":return av(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[$w,ev];case"to right":case"left":return av(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ev,ev];case"to bottom":case"top":return av(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ev,$w];case"to left":case"right":return av(270)}return 0},av=function(t){return Math.PI*t/180},ov=function(t,e){if(18===e.type){var A=gv[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(t,e.values)}if(5===e.type){if(3===e.value.length){var n=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);return uv(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===e.value.length){n=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);var s=e.value.substring(3,4);return uv(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(6===e.value.length){n=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6);return uv(parseInt(n,16),parseInt(r,16),parseInt(i,16),1)}if(8===e.value.length){n=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6),s=e.value.substring(6,8);return uv(parseInt(n,16),parseInt(r,16),parseInt(i,16),parseInt(s,16)/255)}}if(20===e.type){var a=Bv[e.value.toUpperCase()];if(void 0!==a)return a}return Bv.TRANSPARENT},lv=function(t){return 0==(255&t)},cv=function(t){var e=255&t,A=255&t>>8,n=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+n+","+A+","+e/255+")":"rgb("+r+","+n+","+A+")"},uv=function(t,e,A,n){return(t<<24|e<<16|A<<8|Math.round(255*n)<<0)>>>0},hv=function(t,e){if(17===t.type)return t.number;if(16===t.type){var A=3===e?1:255;return 3===e?t.number/100*A:Math.round(t.number/100*A)}return 0},dv=function(t,e){var A=e.filter(Xw);if(3===A.length){var n=A.map(hv),r=n[0],i=n[1],s=n[2];return uv(r,i,s,1)}if(4===A.length){var a=A.map(hv),o=(r=a[0],i=a[1],s=a[2],a[3]);return uv(r,i,s,o)}return 0};function fv(t,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-t)*A*6+t:A<.5?e:A<2/3?6*(e-t)*(2/3-A)+t:t}var pv=function(t,e){var A=e.filter(Xw),n=A[0],r=A[1],i=A[2],s=A[3],a=(17===n.type?av(n.number):rv(t,n))/(2*Math.PI),o=qw(r)?r.number/100:0,l=qw(i)?i.number/100:0,c=void 0!==s&&qw(s)?nv(s,1):1;if(0===o)return uv(255*l,255*l,255*l,1);var u=l<=.5?l*(o+1):l+o-l*o,h=2*l-u,d=fv(h,u,a+1/3),f=fv(h,u,a),p=fv(h,u,a-1/3);return uv(255*d,255*f,255*p,c)},gv={hsl:pv,hsla:pv,rgb:dv,rgba:dv},mv=function(t,e){return ov(t,Nw.create(e).parseComponentValue())},Bv={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},wv={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(zw(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},vv={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yv=function(t,e){var A=ov(t,e[0]),n=e[1];return n&&qw(n)?{color:A,stop:n}:{color:A,stop:null}},_v=function(t,e){var A=t[0],n=t[t.length-1];null===A.stop&&(A.stop=$w),null===n.stop&&(n.stop=ev);for(var r=[],i=0,s=0;s<t.length;s++){var a=t[s].stop;if(null!==a){var o=nv(a,e);o>i?r.push(o):r.push(i),i=o}else r.push(null)}var l=null;for(s=0;s<r.length;s++){var c=r[s];if(null===c)null===l&&(l=s);else if(null!==l){for(var u=s-l,h=(c-r[l-1])/(u+1),d=1;d<=u;d++)r[l+d-1]=h*d;l=null}}return t.map((function(t,A){return{color:t.color,stop:Math.max(Math.min(1,r[A]/e),0)}}))},xv=function(t,e,A){var n="number"==typeof t?t:function(t,e,A){var n=e/2,r=A/2,i=nv(t[0],e)-n,s=r-nv(t[1],A);return(Math.atan2(s,i)+2*Math.PI)%(2*Math.PI)}(t,e,A),r=Math.abs(e*Math.sin(n))+Math.abs(A*Math.cos(n)),i=e/2,s=A/2,a=r/2,o=Math.sin(n-Math.PI/2)*a,l=Math.cos(n-Math.PI/2)*a;return[r,i-l,i+l,s-o,s+o]},Cv=function(t,e){return Math.sqrt(t*t+e*e)},bv=function(t,e,A,n,r){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var i=e[0],s=e[1],a=Cv(A-i,n-s);return(r?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t}),{optimumDistance:r?Infinity:-Infinity,optimumCorner:null}).optimumCorner},Uv=function(t,e){var A=av(180),n=[];return jw(e).forEach((function(e,r){if(0===r){var i=e[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(A=sv(e));if(iv(i))return void(A=(rv(t,i)+av(270))%av(360))}var s=yv(t,e);n.push(s)})),{angle:A,stops:n,type:1}},Fv=function(t,e){var A=0,n=3,r=[],i=[];return jw(e).forEach((function(e,s){var a=!0;if(0===s?a=e.reduce((function(t,e){if(zw(e))switch(e.value){case"center":return i.push(tv),!1;case"top":case"left":return i.push($w),!1;case"right":case"bottom":return i.push(ev),!1}else if(qw(e)||Jw(e))return i.push(e),!1;return t}),a):1===s&&(a=e.reduce((function(t,e){if(zw(e))switch(e.value){case"circle":return A=0,!1;case"ellipse":return A=1,!1;case"contain":case"closest-side":return n=0,!1;case"farthest-side":return n=1,!1;case"closest-corner":return n=2,!1;case"cover":case"farthest-corner":return n=3,!1}else if(Jw(e)||qw(e))return Array.isArray(n)||(n=[]),n.push(e),!1;return t}),a)),a){var o=yv(t,e);r.push(o)}})),{size:n,shape:A,stops:r,position:i,type:2}},Qv=function(t,e){if(22===e.type){var A={url:e.value,type:0};return t.cache.addImage(e.value),A}if(18===e.type){var n=Ev[e.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)};var Mv,Sv,Ev={"linear-gradient":function(t,e){var A=av(180),n=[];return jw(e).forEach((function(e,r){if(0===r){var i=e[0];if(20===i.type&&"to"===i.value)return void(A=sv(e));if(iv(i))return void(A=rv(t,i))}var s=yv(t,e);n.push(s)})),{angle:A,stops:n,type:1}},"-moz-linear-gradient":Uv,"-ms-linear-gradient":Uv,"-o-linear-gradient":Uv,"-webkit-linear-gradient":Uv,"radial-gradient":function(t,e){var A=0,n=3,r=[],i=[];return jw(e).forEach((function(e,s){var a=!0;if(0===s){var o=!1;a=e.reduce((function(t,e){if(o)if(zw(e))switch(e.value){case"center":return i.push(tv),t;case"top":case"left":return i.push($w),t;case"right":case"bottom":return i.push(ev),t}else(qw(e)||Jw(e))&&i.push(e);else if(zw(e))switch(e.value){case"circle":return A=0,!1;case"ellipse":return A=1,!1;case"at":return o=!0,!1;case"closest-side":return n=0,!1;case"cover":case"farthest-side":return n=1,!1;case"contain":case"closest-corner":return n=2,!1;case"farthest-corner":return n=3,!1}else if(Jw(e)||qw(e))return Array.isArray(n)||(n=[]),n.push(e),!1;return t}),a)}if(a){var l=yv(t,e);r.push(l)}})),{size:n,shape:A,stops:r,position:i,type:2}},"-moz-radial-gradient":Fv,"-ms-radial-gradient":Fv,"-o-radial-gradient":Fv,"-webkit-radial-gradient":Fv,"-webkit-gradient":function(t,e){var A=av(180),n=[],r=1;return jw(e).forEach((function(e,A){var i=e[0];if(0===A){if(zw(i)&&"linear"===i.value)return void(r=1);if(zw(i)&&"radial"===i.value)return void(r=2)}if(18===i.type)if("from"===i.name){var s=ov(t,i.values[0]);n.push({stop:$w,color:s})}else if("to"===i.name){s=ov(t,i.values[0]);n.push({stop:ev,color:s})}else if("color-stop"===i.name){var a=i.values.filter(Xw);if(2===a.length){s=ov(t,a[1]);var o=a[0];Vw(o)&&n.push({stop:{type:16,number:100*o.number,flags:o.flags},color:s})}}})),1===r?{angle:(A+av(180))%av(360),stops:n,type:r}:{size:3,shape:0,stops:n,position:[],type:r}}},Tv={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var A=e[0];return 20===A.type&&"none"===A.value?[]:e.filter((function(t){return Xw(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!Ev[t.name])}(t)})).map((function(e){return Qv(t,e)}))}},Iv={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(zw(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Lv={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return jw(e).map((function(t){return t.filter(qw)})).map(Zw)}},Dv={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return jw(e).map((function(t){return t.filter(zw).map((function(t){return t.value})).join(" ")})).map(Hv)}},Hv=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(Sv=Mv||(Mv={})).AUTO="auto",Sv.CONTAIN="contain",Sv.COVER="cover";var Pv,Ov,Rv={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return jw(e).map((function(t){return t.filter(Nv)}))}},Nv=function(t){return zw(t)||qw(t)},kv=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Vv=kv("top"),zv=kv("right"),Kv=kv("bottom"),Gv=kv("left"),Wv=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return Zw(e.filter(qw))}}},Xv=Wv("top-left"),jv=Wv("top-right"),Yv=Wv("bottom-right"),Jv=Wv("bottom-left"),qv=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Zv=qv("top"),$v=qv("right"),ty=qv("bottom"),ey=qv("left"),Ay=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return kw(e)?e.number:0}}},ny=Ay("top"),ry=Ay("right"),iy=Ay("bottom"),sy=Ay("left"),ay={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},oy={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},ly={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(zw).reduce((function(t,e){return t|cy(e.value)}),0)}},cy=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},uy={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},hy={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};(Ov=Pv||(Pv={})).NORMAL="normal",Ov.STRICT="strict";var dy,fy,py={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?Pv.STRICT:Pv.NORMAL}},gy={name:"line-height",initialValue:"normal",prefix:!1,type:4},my=function(t,e){return zw(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:qw(t)?nv(t,e):e},By={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:Qv(t,e)}},wy={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},vy={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},yy=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},_y=yy("top"),xy=yy("right"),Cy=yy("bottom"),by=yy("left"),Uy={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(zw).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Fy={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},Qy=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},My=Qy("top"),Sy=Qy("right"),Ey=Qy("bottom"),Ty=Qy("left"),Iy={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ly={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Dy={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Gw(e[0],"none")?[]:jw(e).map((function(e){for(var A={color:Bv.TRANSPARENT,offsetX:$w,offsetY:$w,blur:$w},n=0,r=0;r<e.length;r++){var i=e[r];Jw(i)?(0===n?A.offsetX=i:1===n?A.offsetY=i:A.blur=i,n++):A.color=ov(t,i)}return A}))}},Hy={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Py={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var A=Oy[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},Oy={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),A=e[0],n=e[1];e[2],e[3];var r=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],16===e.length?[A,n,r,i,s,a]:null}},Ry={type:16,number:50,flags:4},Ny=[Ry,Ry],ky={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var A=e.filter(qw);return 2!==A.length?Ny:[A[0],A[1]]}},Vy={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(fy=dy||(dy={})).NORMAL="normal",fy.BREAK_ALL="break-all",fy.KEEP_ALL="keep-all";for(var zy={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return dy.BREAK_ALL;case"keep-all":return dy.KEEP_ALL;default:return dy.NORMAL}}},Ky={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Vw(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Gy=function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},Wy={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Vw(e)?e.number:1}},Xy={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jy={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(zw).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},Yy={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var A=[],n=[];return e.forEach((function(t){switch(t.type){case 20:case 0:A.push(t.value);break;case 17:A.push(t.number.toString());break;case 4:n.push(A.join(" ")),A.length=0}})),A.length&&n.push(A.join(" ")),n.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},Jy={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},qy={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Vw(e)?e.number:zw(e)&&"bold"===e.value?700:400}},Zy={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(zw).map((function(t){return t.value}))}},$y={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},t_=function(t,e){return 0!=(t&e)},e_={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var A=e[0];return 20===A.type&&"none"===A.value?[]:e}},A_={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var A=e[0];if(20===A.type&&"none"===A.value)return null;for(var n=[],r=e.filter(Ww),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(20===s.type){var o=a&&Vw(a)?a.number:1;n.push({counter:s.value,increment:o})}}return n}},n_={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var A=[],n=e.filter(Ww),r=0;r<n.length;r++){var i=n[r],s=n[r+1];if(zw(i)&&"none"!==i.value){var a=s&&Vw(s)?s.number:0;A.push({counter:i.value,reset:a})}}return A}},r_={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(kw).map((function(e){return Gy(t,e)}))}},i_={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var A=e[0];if(20===A.type&&"none"===A.value)return null;var n=[],r=e.filter(Kw);if(r.length%2!=0)return null;for(var i=0;i<r.length;i+=2){var s=r[i].value,a=r[i+1].value;n.push({open:s,close:a})}return n}},s_=function(t,e,A){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?A?n.open:n.close:""},a_={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Gw(e[0],"none")?[]:jw(e).map((function(e){for(var A={color:255,offsetX:$w,offsetY:$w,blur:$w,spread:$w,inset:!1},n=0,r=0;r<e.length;r++){var i=e[r];Gw(i,"inset")?A.inset=!0:Jw(i)?(0===n?A.offsetX=i:1===n?A.offsetY=i:2===n?A.blur=i:A.spread=i,n++):A.color=ov(t,i)}return A}))}},o_={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var A=[];return e.filter(zw).forEach((function(t){switch(t.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2)}})),[0,1,2].forEach((function(t){-1===A.indexOf(t)&&A.push(t)})),A}},l_={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},c_={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return kw(e)?e.number:0}},u_=function(){function t(t,e){var A,n;this.animationDuration=f_(t,r_,e.animationDuration),this.backgroundClip=f_(t,wv,e.backgroundClip),this.backgroundColor=f_(t,vv,e.backgroundColor),this.backgroundImage=f_(t,Tv,e.backgroundImage),this.backgroundOrigin=f_(t,Iv,e.backgroundOrigin),this.backgroundPosition=f_(t,Lv,e.backgroundPosition),this.backgroundRepeat=f_(t,Dv,e.backgroundRepeat),this.backgroundSize=f_(t,Rv,e.backgroundSize),this.borderTopColor=f_(t,Vv,e.borderTopColor),this.borderRightColor=f_(t,zv,e.borderRightColor),this.borderBottomColor=f_(t,Kv,e.borderBottomColor),this.borderLeftColor=f_(t,Gv,e.borderLeftColor),this.borderTopLeftRadius=f_(t,Xv,e.borderTopLeftRadius),this.borderTopRightRadius=f_(t,jv,e.borderTopRightRadius),this.borderBottomRightRadius=f_(t,Yv,e.borderBottomRightRadius),this.borderBottomLeftRadius=f_(t,Jv,e.borderBottomLeftRadius),this.borderTopStyle=f_(t,Zv,e.borderTopStyle),this.borderRightStyle=f_(t,$v,e.borderRightStyle),this.borderBottomStyle=f_(t,ty,e.borderBottomStyle),this.borderLeftStyle=f_(t,ey,e.borderLeftStyle),this.borderTopWidth=f_(t,ny,e.borderTopWidth),this.borderRightWidth=f_(t,ry,e.borderRightWidth),this.borderBottomWidth=f_(t,iy,e.borderBottomWidth),this.borderLeftWidth=f_(t,sy,e.borderLeftWidth),this.boxShadow=f_(t,a_,e.boxShadow),this.color=f_(t,ay,e.color),this.direction=f_(t,oy,e.direction),this.display=f_(t,ly,e.display),this.float=f_(t,uy,e.cssFloat),this.fontFamily=f_(t,Yy,e.fontFamily),this.fontSize=f_(t,Jy,e.fontSize),this.fontStyle=f_(t,$y,e.fontStyle),this.fontVariant=f_(t,Zy,e.fontVariant),this.fontWeight=f_(t,qy,e.fontWeight),this.letterSpacing=f_(t,hy,e.letterSpacing),this.lineBreak=f_(t,py,e.lineBreak),this.lineHeight=f_(t,gy,e.lineHeight),this.listStyleImage=f_(t,By,e.listStyleImage),this.listStylePosition=f_(t,wy,e.listStylePosition),this.listStyleType=f_(t,vy,e.listStyleType),this.marginTop=f_(t,_y,e.marginTop),this.marginRight=f_(t,xy,e.marginRight),this.marginBottom=f_(t,Cy,e.marginBottom),this.marginLeft=f_(t,by,e.marginLeft),this.opacity=f_(t,Wy,e.opacity);var r=f_(t,Uy,e.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=f_(t,Fy,e.overflowWrap),this.paddingTop=f_(t,My,e.paddingTop),this.paddingRight=f_(t,Sy,e.paddingRight),this.paddingBottom=f_(t,Ey,e.paddingBottom),this.paddingLeft=f_(t,Ty,e.paddingLeft),this.paintOrder=f_(t,o_,e.paintOrder),this.position=f_(t,Ly,e.position),this.textAlign=f_(t,Iy,e.textAlign),this.textDecorationColor=f_(t,Xy,null!==(A=e.textDecorationColor)&&void 0!==A?A:e.color),this.textDecorationLine=f_(t,jy,null!==(n=e.textDecorationLine)&&void 0!==n?n:e.textDecoration),this.textShadow=f_(t,Dy,e.textShadow),this.textTransform=f_(t,Hy,e.textTransform),this.transform=f_(t,Py,e.transform),this.transformOrigin=f_(t,ky,e.transformOrigin),this.visibility=f_(t,Vy,e.visibility),this.webkitTextStrokeColor=f_(t,l_,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=f_(t,c_,e.webkitTextStrokeWidth),this.wordBreak=f_(t,zy,e.wordBreak),this.zIndex=f_(t,Ky,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return lv(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return t_(this.display,4)||t_(this.display,33554432)||t_(this.display,268435456)||t_(this.display,536870912)||t_(this.display,67108864)||t_(this.display,134217728)},t}(),h_=function(t,e){this.content=f_(t,e_,e.content),this.quotes=f_(t,i_,e.quotes)},d_=function(t,e){this.counterIncrement=f_(t,A_,e.counterIncrement),this.counterReset=f_(t,n_,e.counterReset)},f_=function(t,e,A){var n=new Rw,r=null!=A?A.toString():e.initialValue;n.write(r);var i=new Nw(n.read());switch(e.type){case 2:var s=i.parseComponentValue();return e.parse(t,zw(s)?s.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return rv(t,i.parseComponentValue());case"color":return ov(t,i.parseComponentValue());case"image":return Qv(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return Jw(a)?a:$w;case"length-percentage":var o=i.parseComponentValue();return qw(o)?o:$w;case"time":return Gy(t,i.parseComponentValue())}}},p_=function(t,e){var A=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===A||e===A},g_=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,p_(e,3),this.styles=new u_(t,window.getComputedStyle(e,null)),mx(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=AB(this.context,e),p_(e,4)&&(this.flags|=16)},m_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B_="undefined"==typeof Uint8Array?[]:new Uint8Array(256),w_=0;w_<m_.length;w_++)B_[m_.charCodeAt(w_)]=w_;for(var v_=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},y_=function(){function t(t,e,A,n,r,i){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=n,this.index=r,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),__="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x_="undefined"==typeof Uint8Array?[]:new Uint8Array(256),C_=0;C_<__.length;C_++)x_[__.charCodeAt(C_)]=C_;var b_,U_,F_=8,Q_=9,M_=11,S_=12,E_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,i="";++r<A;){var s=t[r];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(r+1===A||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},T_=function(t,e){var A=function(t){var e,A,n,r,i,s=.75*t.length,a=t.length,o=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),c=Array.isArray(l)?l:new Uint8Array(l);for(e=0;e<a;e+=4)A=B_[t.charCodeAt(e)],n=B_[t.charCodeAt(e+1)],r=B_[t.charCodeAt(e+2)],i=B_[t.charCodeAt(e+3)],c[o++]=A<<2|n>>4,c[o++]=(15&n)<<4|r>>2,c[o++]=(3&r)<<6|63&i;return l}(t),n=Array.isArray(A)?function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A}(A):new Uint32Array(A),r=Array.isArray(A)?function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A}(A):new Uint16Array(A),i=v_(r,12,n[4]/2),s=2===n[5]?v_(r,(24+n[4])/2):function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))}(n,Math.ceil((24+n[4])/4));return new y_(n[0],n[1],n[2],n[3],i,s)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),I_=function(t){return T_.get(t)},L_=function(t,e,A){var n=A-2,r=e[n],i=e[A-1],s=e[A];if(2===i&&3===s)return"×";if(2===i||3===i||4===i)return"÷";if(2===s||3===s||4===s)return"÷";if(i===F_&&-1!==[F_,Q_,M_,S_].indexOf(s))return"×";if(!(i!==M_&&i!==Q_||s!==Q_&&10!==s))return"×";if((i===S_||10===i)&&10===s)return"×";if(13===s||5===s)return"×";if(7===s)return"×";if(1===i)return"×";if(13===i&&14===s){for(;5===r;)r=e[--n];if(14===r)return"×"}if(15===i&&15===s){for(var a=0;15===r;)a++,r=e[--n];if(a%2==0)return"×"}return"÷"},D_=function(t){var e=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var i=t.charCodeAt(A++);56320==(64512&i)?e.push(((1023&r)<<10)+(1023&i)+65536):(e.push(r),A--)}else e.push(r)}return e}(t),A=e.length,n=0,r=0,i=e.map(I_);return{next:function(){if(n>=A)return{done:!0,value:null};for(var t="×";n<A&&"×"===(t=L_(0,i,++n)););if("×"!==t||n===A){var s=E_.apply(null,e.slice(r,n));return r=n,{value:s,done:!1}}return{done:!0,value:null}}}},H_=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},P_=function(t,e,A,n,r){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",A.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},O_=function(t){return new Promise((function(e,A){var n=new Image;n.onload=function(){return e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},R_={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var A=t.createElement("boundtest");A.style.height="123px",A.style.display="block",t.body.appendChild(A),e.selectNode(A);var n=e.getBoundingClientRect(),r=Math.round(n.height);if(t.body.removeChild(A),123===r)return!0}}return!1}(document);return Object.defineProperty(R_,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=R_.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var A=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=e.firstChild,r=nB(n.data).map((function(t){return rB(t)})),i=0,s={},a=r.every((function(t,e){A.setStart(n,i),A.setEnd(n,i+t.length);var r=A.getBoundingClientRect();i+=t.length;var a=r.x>s.x||r.y>s.y;return s=r,0===e||a}));return t.body.removeChild(e),a}(document);return Object.defineProperty(R_,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,A=t.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),A.toDataURL()}catch(r){return!1}return!0}(document);return Object.defineProperty(R_,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),A=100;e.width=A,e.height=A;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var r=new Image,i=e.toDataURL();r.src=i;var s=P_(A,A,0,0,r);return n.fillStyle="red",n.fillRect(0,0,A,A),O_(s).then((function(e){n.drawImage(e,0,0);var r=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var s=t.createElement("div");return s.style.backgroundImage="url("+i+")",s.style.height="100px",H_(r)?O_(P_(A,A,0,0,s)):Promise.reject(!1)})).then((function(t){return n.drawImage(t,0,0),H_(n.getImageData(0,0,A,A).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(R_,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(R_,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(R_,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(R_,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(R_,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},N_=function(t,e){this.text=t,this.bounds=e},k_=function(t,e){var A=e.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var i=AB(t,n);return n.firstChild&&r.replaceChild(n.firstChild,n),i}}return eB.EMPTY},V_=function(t,e,A){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(t,e),r.setEnd(t,e+A),r},z_=function(t){if(R_.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,A=D_(t),n=[];!(e=A.next()).done;)e.value&&n.push(e.value.slice());return n}(t)},K_=function(t,e){return 0!==e.letterSpacing?z_(t):function(t,e){if(R_.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(t)).map((function(t){return t.segment}))}return W_(t,e)}(t,e)},G_=[32,160,4961,65792,65793,4153,4241],W_=function(t,e){for(var A,n=function(t,e){var A=nB(t),n=sw(A,e),r=n[0],i=n[1],s=n[2],a=A.length,o=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var t="×";l<a&&"×"===(t=iw(A,i,r,++l,s)););if("×"!==t||l===a){var e=new aw(A,t,o,l);return o=l,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),r=[],i=function(){if(A.value){var t=A.value.slice(),e=nB(t),n="";e.forEach((function(t){-1===G_.indexOf(t)?n+=rB(t):(n.length&&r.push(n),r.push(rB(t)),n="")})),n.length&&r.push(n)}};!(A=n.next()).done;)i();return r},X_=function(t,e,A){this.text=j_(e.data,A.textTransform),this.textBounds=function(t,e,A,n){var r=K_(e,A),i=[],s=0;return r.forEach((function(e){if(A.textDecorationLine.length||e.trim().length>0)if(R_.SUPPORT_RANGE_BOUNDS){var r=V_(n,s,e.length).getClientRects();if(r.length>1){var a=z_(e),o=0;a.forEach((function(e){i.push(new N_(e,eB.fromDOMRectList(t,V_(n,o+s,e.length).getClientRects()))),o+=e.length}))}else i.push(new N_(e,eB.fromDOMRectList(t,r)))}else{var l=n.splitText(e.length);i.push(new N_(e,k_(t,n))),n=l}else R_.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));s+=e.length})),i}(t,this.text,A,e)},j_=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Y_,J_);case 2:return t.toUpperCase();default:return t}},Y_=/(^|\s|:|-|\(|\))([a-z])/g,J_=function(t,e,A){return t.length>0?e+A.toUpperCase():t},q_=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n.src=A.currentSrc||A.src,n.intrinsicWidth=A.naturalWidth,n.intrinsicHeight=A.naturalHeight,n.context.cache.addImage(n.src),n}return qm(e,t),e}(g_),Z_=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n.canvas=A,n.intrinsicWidth=A.width,n.intrinsicHeight=A.height,n}return qm(e,t),e}(g_),$_=function(t){function e(e,A){var n=t.call(this,e,A)||this,r=new XMLSerializer,i=AB(e,A);return A.setAttribute("width",i.width+"px"),A.setAttribute("height",i.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(A)),n.intrinsicWidth=A.width.baseVal.value,n.intrinsicHeight=A.height.baseVal.value,n.context.cache.addImage(n.svg),n}return qm(e,t),e}(g_),tx=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n.value=A.value,n}return qm(e,t),e}(g_),ex=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n.start=A.start,n.reversed="boolean"==typeof A.reversed&&!0===A.reversed,n}return qm(e,t),e}(g_),Ax=[{type:15,flags:0,unit:"px",number:3}],nx=[{type:16,flags:0,number:50}],rx="password",ix=function(t){function e(e,A){var n,r,i,s=t.call(this,e,A)||this;switch(s.type=A.type.toLowerCase(),s.checked=A.checked,s.value=0===(r=(n=A).type===rx?new Array(n.value.length+1).join("•"):n.value).length?n.placeholder||"":r,"checkbox"!==s.type&&"radio"!==s.type||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(i=s.bounds).width>i.height?new eB(i.left+(i.width-i.height)/2,i.top,i.height,i.height):i.width<i.height?new eB(i.left,i.top+(i.height-i.width)/2,i.width,i.width):i),s.type){case"checkbox":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Ax;break;case"radio":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=nx}return s}return qm(e,t),e}(g_),sx=function(t){function e(e,A){var n=t.call(this,e,A)||this,r=A.options[A.selectedIndex||0];return n.value=r&&r.text||"",n}return qm(e,t),e}(g_),ax=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n.value=A.value,n}return qm(e,t),e}(g_),ox=function(t){function e(e,A){var n=t.call(this,e,A)||this;n.src=A.src,n.width=parseInt(A.width,10)||0,n.height=parseInt(A.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){n.tree=hx(e,A.contentWindow.document.documentElement);var r=A.contentWindow.document.documentElement?mv(e,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Bv.TRANSPARENT,i=A.contentWindow.document.body?mv(e,getComputedStyle(A.contentWindow.document.body).backgroundColor):Bv.TRANSPARENT;n.backgroundColor=lv(r)?lv(i)?n.styles.backgroundColor:i:r}}catch(s){}return n}return qm(e,t),e}(g_),lx=["OL","UL","MENU"],cx=function(t,e,A,n){for(var r=e.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,px(r)&&r.data.trim().length>0)A.textNodes.push(new X_(t,r,A.styles));else if(gx(r))if(Ex(r)&&r.assignedNodes)r.assignedNodes().forEach((function(e){return cx(t,e,A,n)}));else{var s=ux(t,r);s.styles.isVisible()&&(dx(r,s,n)?s.flags|=4:fx(s.styles)&&(s.flags|=2),-1!==lx.indexOf(r.tagName)&&(s.flags|=8),A.elements.push(s),r.slot,r.shadowRoot?cx(t,r.shadowRoot,s,n):Mx(r)||_x(r)||Sx(r)||cx(t,r,s,n))}},ux=function(t,e){return Ux(e)?new q_(t,e):Cx(e)?new Z_(t,e):_x(e)?new $_(t,e):wx(e)?new tx(t,e):vx(e)?new ex(t,e):yx(e)?new ix(t,e):Sx(e)?new sx(t,e):Mx(e)?new ax(t,e):Fx(e)?new ox(t,e):new g_(t,e)},hx=function(t,e){var A=ux(t,e);return A.flags|=4,cx(t,e,A,A),A},dx=function(t,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||xx(t)&&A.styles.isTransparent()},fx=function(t){return t.isPositioned()||t.isFloating()},px=function(t){return t.nodeType===Node.TEXT_NODE},gx=function(t){return t.nodeType===Node.ELEMENT_NODE},mx=function(t){return gx(t)&&void 0!==t.style&&!Bx(t)},Bx=function(t){return"object"==typeof t.className},wx=function(t){return"LI"===t.tagName},vx=function(t){return"OL"===t.tagName},yx=function(t){return"INPUT"===t.tagName},_x=function(t){return"svg"===t.tagName},xx=function(t){return"BODY"===t.tagName},Cx=function(t){return"CANVAS"===t.tagName},bx=function(t){return"VIDEO"===t.tagName},Ux=function(t){return"IMG"===t.tagName},Fx=function(t){return"IFRAME"===t.tagName},Qx=function(t){return"STYLE"===t.tagName},Mx=function(t){return"TEXTAREA"===t.tagName},Sx=function(t){return"SELECT"===t.tagName},Ex=function(t){return"SLOT"===t.tagName},Tx=function(t){return t.tagName.indexOf("-")>0},Ix=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,A=t.counterIncrement,n=t.counterReset,r=!0;null!==A&&A.forEach((function(t){var A=e.counters[t.counter];A&&0!==t.increment&&(r=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=t.increment)}));var i=[];return r&&n.forEach((function(t){var A=e.counters[t.counter];i.push(t.counter),A||(A=e.counters[t.counter]=[]),A.push(t.reset)})),i},t}(),Lx={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Dx={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Hx={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Px={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ox=function(t,e,A,n,r,i){return t<e||t>A?zx(t,r,i.length>0):n.integers.reduce((function(e,A,r){for(;t>=A;)t-=A,e+=n.values[r];return e}),"")+i},Rx=function(t,e,A,n){var r="";do{A||t--,r=n(t)+r,t/=e}while(t*e>=e);return r},Nx=function(t,e,A,n,r){var i=A-e+1;return(t<0?"-":"")+(Rx(Math.abs(t),i,n,(function(t){return rB(Math.floor(t%i)+e)}))+r)},kx=function(t,e,A){void 0===A&&(A=". ");var n=e.length;return Rx(Math.abs(t),n,!1,(function(t){return e[Math.floor(t%n)]}))+A},Vx=function(t,e,A,n,r,i){if(t<-9999||t>9999)return zx(t,4,r.length>0);var s=Math.abs(t),a=r;if(0===s)return e[0]+a;for(var o=0;s>0&&o<=4;o++){var l=s%10;0===l&&t_(i,1)&&""!==a?a=e[l]+a:l>1||1===l&&0===o||1===l&&1===o&&t_(i,2)||1===l&&1===o&&t_(i,4)&&t>100||1===l&&o>1&&t_(i,8)?a=e[l]+(o>0?A[o-1]:"")+a:1===l&&o>0&&(a=A[o-1]+a),s=Math.floor(s/10)}return(t<0?n:"")+a},zx=function(t,e,A){var n=A?". ":"",r=A?"、":"",i=A?", ":"",s=A?" ":"";switch(e){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var a=Nx(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return kx(t,"〇一二三四五六七八九",r);case 6:return Ox(t,1,3999,Lx,3,n).toLowerCase();case 7:return Ox(t,1,3999,Lx,3,n);case 8:return Nx(t,945,969,!1,n);case 9:return Nx(t,97,122,!1,n);case 10:return Nx(t,65,90,!1,n);case 11:return Nx(t,1632,1641,!0,n);case 12:case 49:return Ox(t,1,9999,Dx,3,n);case 35:return Ox(t,1,9999,Dx,3,n).toLowerCase();case 13:return Nx(t,2534,2543,!0,n);case 14:case 30:return Nx(t,6112,6121,!0,n);case 15:return kx(t,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return kx(t,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return Vx(t,"零一二三四五六七八九","十百千萬","負",r,14);case 47:return Vx(t,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",r,15);case 42:return Vx(t,"零一二三四五六七八九","十百千萬","负",r,14);case 41:return Vx(t,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",r,15);case 26:return Vx(t,"〇一二三四五六七八九","十百千万","マイナス",r,0);case 25:return Vx(t,"零壱弐参四伍六七八九","拾百千万","マイナス",r,7);case 31:return Vx(t,"영일이삼사오육칠팔구","십백천만","마이너스",i,7);case 33:return Vx(t,"零一二三四五六七八九","十百千萬","마이너스",i,0);case 32:return Vx(t,"零壹貳參四五六七八九","拾百千","마이너스",i,7);case 18:return Nx(t,2406,2415,!0,n);case 20:return Ox(t,1,19999,Px,3,n);case 21:return Nx(t,2790,2799,!0,n);case 22:return Nx(t,2662,2671,!0,n);case 22:return Ox(t,1,10999,Hx,3,n);case 23:return kx(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return kx(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Nx(t,3302,3311,!0,n);case 28:return kx(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return kx(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return Nx(t,3792,3801,!0,n);case 37:return Nx(t,6160,6169,!0,n);case 38:return Nx(t,4160,4169,!0,n);case 39:return Nx(t,2918,2927,!0,n);case 40:return Nx(t,1776,1785,!0,n);case 43:return Nx(t,3046,3055,!0,n);case 44:return Nx(t,3174,3183,!0,n);case 45:return Nx(t,3664,3673,!0,n);case 46:return Nx(t,3872,3881,!0,n);default:return Nx(t,48,57,!0,n)}},Kx=function(){function t(t,e,A){if(this.context=t,this.options=A,this.scrolledElements=[],this.referenceElement=e,this.counters=new Ix,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var A=this,n=Xx(t,e);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var r=t.defaultView.pageXOffset,i=t.defaultView.pageYOffset,s=n.contentWindow,a=s.document,o=Jx(n).then((function(){return $m(A,void 0,void 0,(function(){var t,A;return tB(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(eC),s&&(s.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===e.top&&s.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-e.left,s.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(A=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yx(a)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(a,A)})).then((function(){return n}))]:[2,n]}}))}))}));return a.open(),a.write($x(document.doctype)+"<html></html>"),tC(this.referenceElement.ownerDocument,r,i),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),o},t.prototype.createElementClone=function(t){if(p_(t,2),Cx(t))return this.createCanvasClone(t);if(bx(t))return this.createVideoClone(t);if(Qx(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Ux(e)&&(Ux(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),Tx(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return Zx(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var A=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),n=t.cloneNode(!1);return n.textContent=A,n}}catch(r){if(this.context.logger.error("Unable to access cssRules property",r),"SecurityError"!==r.name)throw r}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var A=t.ownerDocument.createElement("img");try{return A.src=t.toDataURL(),A}catch(o){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var r=t.getContext("2d"),i=n.getContext("2d");if(i)if(!this.options.allowTaint&&r)i.putImageData(r.getImageData(0,0,t.width,t.height),0,0);else{var s=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null==a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return n}catch(o){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var A=e.getContext("2d");try{return A&&(A.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||A.getImageData(0,0,e.width,e.height)),e}catch(r){this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},t.prototype.appendChildNode=function(t,e,A){gx(e)&&("SCRIPT"===e.tagName||e.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&gx(e)&&Qx(e)||t.appendChild(this.cloneNode(e,A))},t.prototype.cloneChildNodes=function(t,e,A){for(var n=this,r=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;r;r=r.nextSibling)if(gx(r)&&Ex(r)&&"function"==typeof r.assignedNodes){var i=r.assignedNodes();i.length&&i.forEach((function(t){return n.appendChildNode(e,t,A)}))}else this.appendChildNode(e,r,A)},t.prototype.cloneNode=function(t,e){if(px(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var A=t.ownerDocument.defaultView;if(A&&gx(t)&&(mx(t)||Bx(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var r=A.getComputedStyle(t),i=A.getComputedStyle(t,":before"),s=A.getComputedStyle(t,":after");this.referenceElement===t&&mx(n)&&(this.clonedReferenceElement=n),xx(n)&&rC(n);var a=this.counters.parse(new d_(this.context,r)),o=this.resolvePseudoContent(t,n,i,b_.BEFORE);Tx(t)&&(e=!0),bx(t)||this.cloneChildNodes(t,n,e),o&&n.insertBefore(o,n.firstChild);var l=this.resolvePseudoContent(t,n,s,b_.AFTER);return l&&n.appendChild(l),this.counters.pop(a),(r&&(this.options.copyStyles||Bx(t))&&!Fx(t)||e)&&Zx(r,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(Mx(t)||Sx(t))&&(Mx(n)||Sx(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,A,n){var r=this;if(A){var i=A.content,s=e.ownerDocument;if(s&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==A.display){this.counters.parse(new d_(this.context,A));var a=new h_(this.context,A),o=s.createElement("html2canvaspseudoelement");Zx(A,o),a.content.forEach((function(e){if(0===e.type)o.appendChild(s.createTextNode(e.value));else if(22===e.type){var A=s.createElement("img");A.src=e.value,A.style.opacity="1",o.appendChild(A)}else if(18===e.type){if("attr"===e.name){var n=e.values.filter(zw);n.length&&o.appendChild(s.createTextNode(t.getAttribute(n[0].value)||""))}else if("counter"===e.name){var i=e.values.filter(Xw),l=i[0],c=i[1];if(l&&zw(l)){var u=r.counters.getCounterValue(l.value),h=c&&zw(c)?vy.parse(r.context,c.value):3;o.appendChild(s.createTextNode(zx(u,h,!1)))}}else if("counters"===e.name){var d=e.values.filter(Xw),f=(l=d[0],d[1]);c=d[2];if(l&&zw(l)){var p=r.counters.getCounterValues(l.value),g=c&&zw(c)?vy.parse(r.context,c.value):3,m=f&&0===f.type?f.value:"",B=p.map((function(t){return zx(t,g,!1)})).join(m);o.appendChild(s.createTextNode(B))}}}else if(20===e.type)switch(e.value){case"open-quote":o.appendChild(s.createTextNode(s_(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":o.appendChild(s.createTextNode(s_(a.quotes,--r.quoteDepth,!1)));break;default:o.appendChild(s.createTextNode(e.value))}})),o.className=AC+" "+nC;var l=n===b_.BEFORE?" "+AC:" "+nC;return Bx(e)?e.className.baseValue+=l:e.className+=l,o}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();(U_=b_||(b_={}))[U_.BEFORE=0]="BEFORE",U_[U_.AFTER=1]="AFTER";var Gx,Wx,Xx=function(t,e){var A=t.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute("data-html2canvas-ignore","true"),t.body.appendChild(A),A},jx=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},Yx=function(t){return Promise.all([].slice.call(t.images,0).map(jx))},Jx=function(t){return new Promise((function(e,A){var n=t.contentWindow;if(!n)return A("No window assigned for iframe");var r=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var A=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(A),e(t))}),50)}}))},qx=["all","d","content"],Zx=function(t,e){for(var A=t.length-1;A>=0;A--){var n=t.item(A);-1===qx.indexOf(n)&&e.style.setProperty(n,t.getPropertyValue(n))}return e},$x=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},tC=function(t,e,A){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||A!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,A)},eC=function(t){var e=t[0],A=t[1],n=t[2];e.scrollLeft=A,e.scrollTop=n},AC="___html2canvas___pseudoelement_before",nC="___html2canvas___pseudoelement_after",rC=function(t){iC(t,"."+AC+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+nC+':after{\n    content: "" !important;\n    display: none !important;\n}')},iC=function(t,e){var A=t.ownerDocument;if(A){var n=A.createElement("style");n.textContent=e,t.appendChild(n)}},sC=function(){function t(){}return t.getOrigin=function(e){var A=t._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),aC=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:fC(t)||uC(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return $m(this,void 0,void 0,(function(){var e,A,n,r,i=this;return tB(this,(function(s){switch(s.label){case 0:return e=sC.isSameOrigin(t),A=!hC(t)&&!0===this._options.useCORS&&R_.SUPPORT_CORS_IMAGES&&!e,n=!hC(t)&&!e&&!fC(t)&&"string"==typeof this._options.proxy&&R_.SUPPORT_CORS_XHR&&!A,e||!1!==this._options.allowTaint||hC(t)||fC(t)||n||A?(r=t,n?[4,this.proxy(r)]:[3,2]):[2];case 1:r=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var n=new Image;n.onload=function(){return t(n)},n.onerror=e,(dC(r)||A)&&(n.crossOrigin="anonymous"),n.src=r,!0===n.complete&&setTimeout((function(){return t(n)}),500),i._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+i._options.imageTimeout+"ms) loading image")}),i._options.imageTimeout)}))];case 3:return[2,s.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise((function(r,i){var s=R_.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)r(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(t){return i(t)}),!1),t.readAsDataURL(a.response)}else i("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=i;var o=A.indexOf("?")>-1?"&":"?";if(a.open("GET",""+A+o+"url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var l=e._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return i("Timed out ("+l+"ms) proxying "+n)}}a.send()}))},t}(),oC=/^data:image\/svg\+xml/i,lC=/^data:image\/.*;base64,/i,cC=/^data:image\/.*/i,uC=function(t){return R_.SUPPORT_SVG_DRAWING||!pC(t)},hC=function(t){return cC.test(t)},dC=function(t){return lC.test(t)},fC=function(t){return"blob"===t.substr(0,4)},pC=function(t){return"svg"===t.substr(-3).toLowerCase()||oC.test(t)},gC=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,A){return new t(this.x+e,this.y+A)},t}(),mC=function(t,e,A){return new gC(t.x+(e.x-t.x)*A,t.y+(e.y-t.y)*A)},BC=function(){function t(t,e,A,n){this.type=1,this.start=t,this.startControl=e,this.endControl=A,this.end=n}return t.prototype.subdivide=function(e,A){var n=mC(this.start,this.startControl,e),r=mC(this.startControl,this.endControl,e),i=mC(this.endControl,this.end,e),s=mC(n,r,e),a=mC(r,i,e),o=mC(s,a,e);return A?new t(this.start,n,s,o):new t(o,a,i,this.end)},t.prototype.add=function(e,A){return new t(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),wC=function(t){return 1===t.type},vC=function(t){var e=t.styles,A=t.bounds,n=Av(e.borderTopLeftRadius,A.width,A.height),r=n[0],i=n[1],s=Av(e.borderTopRightRadius,A.width,A.height),a=s[0],o=s[1],l=Av(e.borderBottomRightRadius,A.width,A.height),c=l[0],u=l[1],h=Av(e.borderBottomLeftRadius,A.width,A.height),d=h[0],f=h[1],p=[];p.push((r+a)/A.width),p.push((d+c)/A.width),p.push((i+f)/A.height),p.push((o+u)/A.height);var g=Math.max.apply(Math,p);g>1&&(r/=g,i/=g,a/=g,o/=g,c/=g,u/=g,d/=g,f/=g);var m=A.width-a,B=A.height-u,w=A.width-c,v=A.height-f,y=e.borderTopWidth,_=e.borderRightWidth,x=e.borderBottomWidth,C=e.borderLeftWidth,b=nv(e.paddingTop,t.bounds.width),U=nv(e.paddingRight,t.bounds.width),F=nv(e.paddingBottom,t.bounds.width),Q=nv(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||i>0?yC(A.left+C/3,A.top+y/3,r-C/3,i-y/3,Gx.TOP_LEFT):new gC(A.left+C/3,A.top+y/3),this.topRightBorderDoubleOuterBox=r>0||i>0?yC(A.left+m,A.top+y/3,a-_/3,o-y/3,Gx.TOP_RIGHT):new gC(A.left+A.width-_/3,A.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?yC(A.left+w,A.top+B,c-_/3,u-x/3,Gx.BOTTOM_RIGHT):new gC(A.left+A.width-_/3,A.top+A.height-x/3),this.bottomLeftBorderDoubleOuterBox=d>0||f>0?yC(A.left+C/3,A.top+v,d-C/3,f-x/3,Gx.BOTTOM_LEFT):new gC(A.left+C/3,A.top+A.height-x/3),this.topLeftBorderDoubleInnerBox=r>0||i>0?yC(A.left+2*C/3,A.top+2*y/3,r-2*C/3,i-2*y/3,Gx.TOP_LEFT):new gC(A.left+2*C/3,A.top+2*y/3),this.topRightBorderDoubleInnerBox=r>0||i>0?yC(A.left+m,A.top+2*y/3,a-2*_/3,o-2*y/3,Gx.TOP_RIGHT):new gC(A.left+A.width-2*_/3,A.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?yC(A.left+w,A.top+B,c-2*_/3,u-2*x/3,Gx.BOTTOM_RIGHT):new gC(A.left+A.width-2*_/3,A.top+A.height-2*x/3),this.bottomLeftBorderDoubleInnerBox=d>0||f>0?yC(A.left+2*C/3,A.top+v,d-2*C/3,f-2*x/3,Gx.BOTTOM_LEFT):new gC(A.left+2*C/3,A.top+A.height-2*x/3),this.topLeftBorderStroke=r>0||i>0?yC(A.left+C/2,A.top+y/2,r-C/2,i-y/2,Gx.TOP_LEFT):new gC(A.left+C/2,A.top+y/2),this.topRightBorderStroke=r>0||i>0?yC(A.left+m,A.top+y/2,a-_/2,o-y/2,Gx.TOP_RIGHT):new gC(A.left+A.width-_/2,A.top+y/2),this.bottomRightBorderStroke=c>0||u>0?yC(A.left+w,A.top+B,c-_/2,u-x/2,Gx.BOTTOM_RIGHT):new gC(A.left+A.width-_/2,A.top+A.height-x/2),this.bottomLeftBorderStroke=d>0||f>0?yC(A.left+C/2,A.top+v,d-C/2,f-x/2,Gx.BOTTOM_LEFT):new gC(A.left+C/2,A.top+A.height-x/2),this.topLeftBorderBox=r>0||i>0?yC(A.left,A.top,r,i,Gx.TOP_LEFT):new gC(A.left,A.top),this.topRightBorderBox=a>0||o>0?yC(A.left+m,A.top,a,o,Gx.TOP_RIGHT):new gC(A.left+A.width,A.top),this.bottomRightBorderBox=c>0||u>0?yC(A.left+w,A.top+B,c,u,Gx.BOTTOM_RIGHT):new gC(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=d>0||f>0?yC(A.left,A.top+v,d,f,Gx.BOTTOM_LEFT):new gC(A.left,A.top+A.height),this.topLeftPaddingBox=r>0||i>0?yC(A.left+C,A.top+y,Math.max(0,r-C),Math.max(0,i-y),Gx.TOP_LEFT):new gC(A.left+C,A.top+y),this.topRightPaddingBox=a>0||o>0?yC(A.left+Math.min(m,A.width-_),A.top+y,m>A.width+_?0:Math.max(0,a-_),Math.max(0,o-y),Gx.TOP_RIGHT):new gC(A.left+A.width-_,A.top+y),this.bottomRightPaddingBox=c>0||u>0?yC(A.left+Math.min(w,A.width-C),A.top+Math.min(B,A.height-x),Math.max(0,c-_),Math.max(0,u-x),Gx.BOTTOM_RIGHT):new gC(A.left+A.width-_,A.top+A.height-x),this.bottomLeftPaddingBox=d>0||f>0?yC(A.left+C,A.top+Math.min(v,A.height-x),Math.max(0,d-C),Math.max(0,f-x),Gx.BOTTOM_LEFT):new gC(A.left+C,A.top+A.height-x),this.topLeftContentBox=r>0||i>0?yC(A.left+C+Q,A.top+y+b,Math.max(0,r-(C+Q)),Math.max(0,i-(y+b)),Gx.TOP_LEFT):new gC(A.left+C+Q,A.top+y+b),this.topRightContentBox=a>0||o>0?yC(A.left+Math.min(m,A.width+C+Q),A.top+y+b,m>A.width+C+Q?0:a-C+Q,o-(y+b),Gx.TOP_RIGHT):new gC(A.left+A.width-(_+U),A.top+y+b),this.bottomRightContentBox=c>0||u>0?yC(A.left+Math.min(w,A.width-(C+Q)),A.top+Math.min(B,A.height+y+b),Math.max(0,c-(_+U)),u-(x+F),Gx.BOTTOM_RIGHT):new gC(A.left+A.width-(_+U),A.top+A.height-(x+F)),this.bottomLeftContentBox=d>0||f>0?yC(A.left+C+Q,A.top+v,Math.max(0,d-(C+Q)),f-(x+F),Gx.BOTTOM_LEFT):new gC(A.left+C+Q,A.top+A.height-(x+F))};(Wx=Gx||(Gx={}))[Wx.TOP_LEFT=0]="TOP_LEFT",Wx[Wx.TOP_RIGHT=1]="TOP_RIGHT",Wx[Wx.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",Wx[Wx.BOTTOM_LEFT=3]="BOTTOM_LEFT";var yC=function(t,e,A,n,r){var i=(Math.sqrt(2)-1)/3*4,s=A*i,a=n*i,o=t+A,l=e+n;switch(r){case Gx.TOP_LEFT:return new BC(new gC(t,l),new gC(t,l-a),new gC(o-s,e),new gC(o,e));case Gx.TOP_RIGHT:return new BC(new gC(t,e),new gC(t+s,e),new gC(o,l-a),new gC(o,l));case Gx.BOTTOM_RIGHT:return new BC(new gC(o,e),new gC(o,e+a),new gC(t+s,l),new gC(t,l));case Gx.BOTTOM_LEFT:default:return new BC(new gC(o,l),new gC(o-s,l),new gC(t,e+a),new gC(t,e))}},_C=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},xC=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},CC=function(t,e,A){this.offsetX=t,this.offsetY=e,this.matrix=A,this.type=0,this.target=6},bC=function(t,e){this.path=t,this.target=e,this.type=1},UC=function(t){this.opacity=t,this.type=2,this.target=6},FC=function(t){return 1===t.type},QC=function(t,e){return t.length===e.length&&t.some((function(t,A){return t===e[A]}))},MC=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},SC=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new vC(this.container),this.container.styles.opacity<1&&this.effects.push(new UC(this.container.styles.opacity)),null!==this.container.styles.transform){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new CC(A,n,r))}if(0!==this.container.styles.overflowX){var i=_C(this.curves),s=xC(this.curves);QC(i,s)?this.effects.push(new bC(i,6)):(this.effects.push(new bC(i,2)),this.effects.push(new bC(s,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),A=this.parent,n=this.effects.slice(0);A;){var r=A.effects.filter((function(t){return!FC(t)}));if(e||0!==A.container.styles.position||!A.parent){if(n.unshift.apply(n,r),e=-1===[2,3].indexOf(A.container.styles.position),0!==A.container.styles.overflowX){var i=_C(A.curves),s=xC(A.curves);QC(i,s)||n.unshift(new bC(s,6))}}else n.unshift.apply(n,r);A=A.parent}return n.filter((function(e){return t_(e.target,t)}))},t}(),EC=function(t,e,A,n){t.container.elements.forEach((function(r){var i=t_(r.flags,4),s=t_(r.flags,2),a=new SC(r,t);t_(r.styles.display,2048)&&n.push(a);var o=t_(r.flags,8)?[]:n;if(i||s){var l=i||r.styles.isPositioned()?A:e,c=new MC(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var h=0;l.negativeZIndex.some((function(t,e){return u>t.element.container.styles.zIndex.order?(h=e,!1):h>0})),l.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;l.positiveZIndex.some((function(t,e){return u>=t.element.container.styles.zIndex.order?(d=e+1,!1):d>0})),l.positiveZIndex.splice(d,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);EC(a,c,i?c:A,o)}else r.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),EC(a,e,A,o);t_(r.flags,8)&&TC(r,o)}))},TC=function(t,e){for(var A=t instanceof ex?t.start:1,n=t instanceof ex&&t.reversed,r=0;r<e.length;r++){var i=e[r];i.container instanceof tx&&"number"==typeof i.container.value&&0!==i.container.value&&(A=i.container.value),i.listValue=zx(A,i.container.styles.listStyleType,!0),A+=n?-1:1}},IC=function(t,e){switch(e){case 0:return DC(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return DC(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return DC(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return DC(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},LC=function(t,e){var A=[];return wC(t)?A.push(t.subdivide(.5,!1)):A.push(t),wC(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},DC=function(t,e,A,n){var r=[];return wC(t)?r.push(t.subdivide(.5,!1)):r.push(t),wC(A)?r.push(A.subdivide(.5,!0)):r.push(A),wC(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),wC(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},HC=function(t){var e=t.bounds,A=t.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},PC=function(t){var e=t.styles,A=t.bounds,n=nv(e.paddingLeft,A.width),r=nv(e.paddingRight,A.width),i=nv(e.paddingTop,A.width),s=nv(e.paddingBottom,A.width);return A.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+i+s))},OC=function(t,e,A){var n,r,i=(n=VC(t.styles.backgroundOrigin,e),r=t,0===n?r.bounds:2===n?PC(r):HC(r)),s=function(t,e){return 0===t?e.bounds:2===t?PC(e):HC(e)}(VC(t.styles.backgroundClip,e),t),a=kC(VC(t.styles.backgroundSize,e),A,i),o=a[0],l=a[1],c=Av(VC(t.styles.backgroundPosition,e),i.width-o,i.height-l);return[zC(VC(t.styles.backgroundRepeat,e),c,a,i,s),Math.round(i.left+c[0]),Math.round(i.top+c[1]),o,l]},RC=function(t){return zw(t)&&t.value===Mv.AUTO},NC=function(t){return"number"==typeof t},kC=function(t,e,A){var n=e[0],r=e[1],i=e[2],s=t[0],a=t[1];if(!s)return[0,0];if(qw(s)&&a&&qw(a))return[nv(s,A.width),nv(a,A.height)];var o=NC(i);if(zw(s)&&(s.value===Mv.CONTAIN||s.value===Mv.COVER))return NC(i)?A.width/A.height<i!=(s.value===Mv.COVER)?[A.width,A.width/i]:[A.height*i,A.height]:[A.width,A.height];var l=NC(n),c=NC(r),u=l||c;if(RC(s)&&(!a||RC(a)))return l&&c?[n,r]:o||u?u&&o?[l?n:r*i,c?r:n/i]:[l?n:A.width,c?r:A.height]:[A.width,A.height];if(o){var h=0,d=0;return qw(s)?h=nv(s,A.width):qw(a)&&(d=nv(a,A.height)),RC(s)?h=d*i:a&&!RC(a)||(d=h/i),[h,d]}var f=null,p=null;if(qw(s)?f=nv(s,A.width):a&&qw(a)&&(p=nv(a,A.height)),null===f||a&&!RC(a)||(p=l&&c?f/n*r:A.height),null!==p&&RC(s)&&(f=l&&c?p/r*n:A.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},VC=function(t,e){var A=t[e];return void 0===A?t[0]:A},zC=function(t,e,A,n,r){var i=e[0],s=e[1],a=A[0],o=A[1];switch(t){case 2:return[new gC(Math.round(n.left),Math.round(n.top+s)),new gC(Math.round(n.left+n.width),Math.round(n.top+s)),new gC(Math.round(n.left+n.width),Math.round(o+n.top+s)),new gC(Math.round(n.left),Math.round(o+n.top+s))];case 3:return[new gC(Math.round(n.left+i),Math.round(n.top)),new gC(Math.round(n.left+i+a),Math.round(n.top)),new gC(Math.round(n.left+i+a),Math.round(n.height+n.top)),new gC(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new gC(Math.round(n.left+i),Math.round(n.top+s)),new gC(Math.round(n.left+i+a),Math.round(n.top+s)),new gC(Math.round(n.left+i+a),Math.round(n.top+s+o)),new gC(Math.round(n.left+i),Math.round(n.top+s+o))];default:return[new gC(Math.round(r.left),Math.round(r.top)),new gC(Math.round(r.left+r.width),Math.round(r.top)),new gC(Math.round(r.left+r.width),Math.round(r.height+r.top)),new gC(Math.round(r.left),Math.round(r.height+r.top))]}},KC=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var A=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),i=this._document.body;A.style.visibility="hidden",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",i.appendChild(A),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),A.appendChild(r),A.appendChild(n);var s=n.offsetTop-r.offsetTop+2;A.removeChild(r),A.appendChild(this._document.createTextNode("Hidden Text")),A.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-A.offsetTop+2;return i.removeChild(A),{baseline:s,middle:a}},t.prototype.getMetrics=function(t,e){var A=t+" "+e;return void 0===this._data[A]&&(this._data[A]=this.parseMetrics(t,e)),this._data[A]},t}(),GC=function(t,e){this.context=t,this.options=e},WC=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n._activeEffects=[],n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),A.canvas||(n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px"),n.fontMetrics=new KC(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),n}return qm(e,t),e.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},e.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),FC(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return $m(this,void 0,void 0,(function(){return tB(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.renderNode=function(t){return $m(this,void 0,void 0,(function(){return tB(this,(function(e){switch(e.label){case 0:return t_(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},e.prototype.renderTextWithLetterSpacing=function(t,e,A){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+A):z_(t.text).reduce((function(e,r){return n.ctx.fillText(r,e,t.bounds.top+A),e+n.ctx.measureText(r).width}),t.bounds.left)},e.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),A=qC(t.fontFamily).join(", "),n=kw(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,n,A].join(" "),A,n]},e.prototype.renderTextNode=function(t,e){return $m(this,void 0,void 0,(function(){var A,n,r,i,s,a,o,l,c=this;return tB(this,(function(u){return A=this.createFontStyle(e),n=A[0],r=A[1],i=A[2],this.ctx.font=n,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(r,i),a=s.baseline,o=s.middle,l=e.paintOrder,t.textBounds.forEach((function(t){l.forEach((function(A){switch(A){case 0:c.ctx.fillStyle=cv(e.color),c.renderTextWithLetterSpacing(t,e.letterSpacing,a);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach((function(A){c.ctx.shadowColor=cv(A.color),c.ctx.shadowOffsetX=A.offsetX.number*c.options.scale,c.ctx.shadowOffsetY=A.offsetY.number*c.options.scale,c.ctx.shadowBlur=A.blur.number,c.renderTextWithLetterSpacing(t,e.letterSpacing,a)})),c.ctx.shadowColor="",c.ctx.shadowOffsetX=0,c.ctx.shadowOffsetY=0,c.ctx.shadowBlur=0),e.textDecorationLine.length&&(c.ctx.fillStyle=cv(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:c.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+a),t.bounds.width,1);break;case 2:c.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:c.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+o),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(c.ctx.strokeStyle=cv(e.webkitTextStrokeColor),c.ctx.lineWidth=e.webkitTextStrokeWidth,c.ctx.lineJoin=window.chrome?"miter":"round",c.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+a)),c.ctx.strokeStyle="",c.ctx.lineWidth=0,c.ctx.lineJoin="miter"}}))})),[2]}))}))},e.prototype.renderReplacedElement=function(t,e,A){if(A&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var n=PC(t),r=xC(e);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,t.intrinsicWidth,t.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return $m(this,void 0,void 0,(function(){var A,n,r,i,s,a,o,l,c,u,h,d,f,p,g,m,B,w;return tB(this,(function(v){switch(v.label){case 0:this.applyEffects(t.getEffects(4)),A=t.container,n=t.curves,r=A.styles,i=0,s=A.textNodes,v.label=1;case 1:return i<s.length?(a=s[i],[4,this.renderTextNode(a,r)]):[3,4];case 2:v.sent(),v.label=3;case 3:return i++,[3,1];case 4:if(!(A instanceof q_))return[3,8];v.label=5;case 5:return v.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return g=v.sent(),this.renderReplacedElement(A,n,g),[3,8];case 7:return v.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof Z_&&this.renderReplacedElement(A,n,A.canvas),!(A instanceof $_))return[3,12];v.label=9;case 9:return v.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return g=v.sent(),this.renderReplacedElement(A,n,g),[3,12];case 11:return v.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof ox&&A.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}).render(A.tree)]:[3,14];case 13:o=v.sent(),A.width&&A.height&&this.ctx.drawImage(o,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),v.label=14;case 14:if(A instanceof ix&&(l=Math.min(A.bounds.width,A.bounds.height),"checkbox"===A.type?A.checked&&(this.ctx.save(),this.path([new gC(A.bounds.left+.39363*l,A.bounds.top+.79*l),new gC(A.bounds.left+.16*l,A.bounds.top+.5549*l),new gC(A.bounds.left+.27347*l,A.bounds.top+.44071*l),new gC(A.bounds.left+.39694*l,A.bounds.top+.5649*l),new gC(A.bounds.left+.72983*l,A.bounds.top+.23*l),new gC(A.bounds.left+.84*l,A.bounds.top+.34085*l),new gC(A.bounds.left+.39363*l,A.bounds.top+.79*l)]),this.ctx.fillStyle=cv(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===A.type&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+l/2,A.bounds.top+l/2,l/4,0,2*Math.PI,!0),this.ctx.fillStyle=cv(707406591),this.ctx.fill(),this.ctx.restore())),XC(A)&&A.value.length){switch(c=this.createFontStyle(r),B=c[0],u=c[1],h=this.fontMetrics.getMetrics(B,u).baseline,this.ctx.font=B,this.ctx.fillStyle=cv(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=YC(A.styles.textAlign),w=PC(A),d=0,A.styles.textAlign){case 1:d+=w.width/2;break;case 2:d+=w.width}f=w.add(d,0,0,-w.height/2+1),this.ctx.save(),this.path([new gC(w.left,w.top),new gC(w.left+w.width,w.top),new gC(w.left+w.width,w.top+w.height),new gC(w.left,w.top+w.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new N_(A.value,f),r.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!t_(A.styles.display,2048))return[3,20];if(null===A.styles.listStyleImage)return[3,19];if(0!==(p=A.styles.listStyleImage).type)return[3,18];g=void 0,m=p.url,v.label=15;case 15:return v.trys.push([15,17,,18]),[4,this.context.cache.match(m)];case 16:return g=v.sent(),this.ctx.drawImage(g,A.bounds.left-(g.width+10),A.bounds.top),[3,18];case 17:return v.sent(),this.context.logger.error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==A.styles.listStyleType&&(B=this.createFontStyle(r)[0],this.ctx.font=B,this.ctx.fillStyle=cv(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",w=new eB(A.bounds.left,A.bounds.top+nv(A.styles.paddingTop,A.bounds.width),A.bounds.width,my(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new N_(t.listValue,w),r.letterSpacing,my(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),v.label=20;case 20:return[2]}}))}))},e.prototype.renderStackContent=function(t){return $m(this,void 0,void 0,(function(){var e,A,n,r,i,s,a,o,l,c,u,h,d,f,p;return tB(this,(function(g){switch(g.label){case 0:return t_(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:g.sent(),e=0,A=t.negativeZIndex,g.label=2;case 2:return e<A.length?(p=A[e],[4,this.renderStack(p)]):[3,5];case 3:g.sent(),g.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:g.sent(),n=0,r=t.nonInlineLevel,g.label=7;case 7:return n<r.length?(p=r[n],[4,this.renderNode(p)]):[3,10];case 8:g.sent(),g.label=9;case 9:return n++,[3,7];case 10:i=0,s=t.nonPositionedFloats,g.label=11;case 11:return i<s.length?(p=s[i],[4,this.renderStack(p)]):[3,14];case 12:g.sent(),g.label=13;case 13:return i++,[3,11];case 14:a=0,o=t.nonPositionedInlineLevel,g.label=15;case 15:return a<o.length?(p=o[a],[4,this.renderStack(p)]):[3,18];case 16:g.sent(),g.label=17;case 17:return a++,[3,15];case 18:l=0,c=t.inlineLevel,g.label=19;case 19:return l<c.length?(p=c[l],[4,this.renderNode(p)]):[3,22];case 20:g.sent(),g.label=21;case 21:return l++,[3,19];case 22:u=0,h=t.zeroOrAutoZIndexOrTransformedOrOpacity,g.label=23;case 23:return u<h.length?(p=h[u],[4,this.renderStack(p)]):[3,26];case 24:g.sent(),g.label=25;case 25:return u++,[3,23];case 26:d=0,f=t.positiveZIndex,g.label=27;case 27:return d<f.length?(p=f[d],[4,this.renderStack(p)]):[3,30];case 28:g.sent(),g.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var e=this;t.forEach((function(t,A){var n=wC(t)?t.start:t;0===A?e.ctx.moveTo(n.x,n.y):e.ctx.lineTo(n.x,n.y),wC(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},e.prototype.renderRepeat=function(t,e,A,n){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(A,n),this.ctx.fill(),this.ctx.translate(-A,-n)},e.prototype.resizeImage=function(t,e,A){var n;if(t.width===e&&t.height===A)return t;var r=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return r.width=Math.max(1,e),r.height=Math.max(1,A),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,A),r},e.prototype.renderBackgroundImage=function(t){return $m(this,void 0,void 0,(function(){var e,A,n,r,i,s;return tB(this,(function(a){switch(a.label){case 0:e=t.styles.backgroundImage.length-1,A=function(A){var r,i,s,a,o,l,c,u,h,d,f,p,g,m,B,w,v,y,_,x,C,b,U,F,Q,M,S,E,T,I,L;return tB(this,(function(D){switch(D.label){case 0:if(0!==A.type)return[3,5];r=void 0,i=A.url,D.label=1;case 1:return D.trys.push([1,3,,4]),[4,n.context.cache.match(i)];case 2:return r=D.sent(),[3,4];case 3:return D.sent(),n.context.logger.error("Error loading background-image "+i),[3,4];case 4:return r&&(s=OC(t,e,[r.width,r.height,r.width/r.height]),w=s[0],b=s[1],U=s[2],_=s[3],x=s[4],m=n.ctx.createPattern(n.resizeImage(r,_,x),"repeat"),n.renderRepeat(w,m,b,U)),[3,6];case 5:1===A.type?(a=OC(t,e,[null,null,null]),w=a[0],b=a[1],U=a[2],_=a[3],x=a[4],o=xv(A.angle,_,x),l=o[0],c=o[1],u=o[2],h=o[3],d=o[4],(f=document.createElement("canvas")).width=_,f.height=x,p=f.getContext("2d"),g=p.createLinearGradient(c,h,u,d),_v(A.stops,l).forEach((function(t){return g.addColorStop(t.stop,cv(t.color))})),p.fillStyle=g,p.fillRect(0,0,_,x),_>0&&x>0&&(m=n.ctx.createPattern(f,"repeat"),n.renderRepeat(w,m,b,U))):function(t){return 2===t.type}(A)&&(B=OC(t,e,[null,null,null]),w=B[0],v=B[1],y=B[2],_=B[3],x=B[4],C=0===A.position.length?[tv]:A.position,b=nv(C[0],_),U=nv(C[C.length-1],x),F=function(t,e,A,n,r){var i=0,s=0;switch(t.size){case 0:0===t.shape?i=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):1===t.shape&&(i=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(A),Math.abs(A-r)));break;case 2:if(0===t.shape)i=s=Math.min(Cv(e,A),Cv(e,A-r),Cv(e-n,A),Cv(e-n,A-r));else if(1===t.shape){var a=Math.min(Math.abs(A),Math.abs(A-r))/Math.min(Math.abs(e),Math.abs(e-n)),o=bv(n,r,e,A,!0),l=o[0],c=o[1];s=a*(i=Cv(l-e,(c-A)/a))}break;case 1:0===t.shape?i=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):1===t.shape&&(i=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(A),Math.abs(A-r)));break;case 3:if(0===t.shape)i=s=Math.max(Cv(e,A),Cv(e,A-r),Cv(e-n,A),Cv(e-n,A-r));else if(1===t.shape){a=Math.max(Math.abs(A),Math.abs(A-r))/Math.max(Math.abs(e),Math.abs(e-n));var u=bv(n,r,e,A,!1);l=u[0],c=u[1],s=a*(i=Cv(l-e,(c-A)/a))}}return Array.isArray(t.size)&&(i=nv(t.size[0],n),s=2===t.size.length?nv(t.size[1],r):i),[i,s]}(A,b,U,_,x),Q=F[0],M=F[1],Q>0&&M>0&&(S=n.ctx.createRadialGradient(v+b,y+U,0,v+b,y+U,Q),_v(A.stops,2*Q).forEach((function(t){return S.addColorStop(t.stop,cv(t.color))})),n.path(w),n.ctx.fillStyle=S,Q!==M?(E=t.bounds.left+.5*t.bounds.width,T=t.bounds.top+.5*t.bounds.height,L=1/(I=M/Q),n.ctx.save(),n.ctx.translate(E,T),n.ctx.transform(1,0,0,I,0,0),n.ctx.translate(-E,-T),n.ctx.fillRect(v,L*(y-T)+T,_,x*L),n.ctx.restore()):n.ctx.fill())),D.label=6;case 6:return e--,[2]}}))},n=this,r=0,i=t.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return r<i.length?(s=i[r],[5,A(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},e.prototype.renderSolidBorder=function(t,e,A){return $m(this,void 0,void 0,(function(){return tB(this,(function(n){return this.path(IC(A,e)),this.ctx.fillStyle=cv(t),this.ctx.fill(),[2]}))}))},e.prototype.renderDoubleBorder=function(t,e,A,n){return $m(this,void 0,void 0,(function(){var r,i;return tB(this,(function(s){switch(s.label){case 0:return e<3?[4,this.renderSolidBorder(t,A,n)]:[3,2];case 1:return s.sent(),[2];case 2:return r=function(t,e){switch(e){case 0:return DC(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return DC(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return DC(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return DC(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(n,A),this.path(r),this.ctx.fillStyle=cv(t),this.ctx.fill(),i=function(t,e){switch(e){case 0:return DC(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return DC(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return DC(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return DC(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(n,A),this.path(i),this.ctx.fill(),[2]}}))}))},e.prototype.renderNodeBackgroundAndBorders=function(t){return $m(this,void 0,void 0,(function(){var e,A,n,r,i,s,a,o,l=this;return tB(this,(function(c){switch(c.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,A=!lv(e.backgroundColor)||e.backgroundImage.length,n=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],r=jC(VC(e.backgroundClip,0),t.curves),A||e.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),lv(e.backgroundColor)||(this.ctx.fillStyle=cv(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:c.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){l.ctx.save();var A,n,r,i,s,a=_C(t.curves),o=e.inset?0:1e4,c=(A=a,n=-o+(e.inset?1:-1)*e.spread.number,r=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),s=e.spread.number*(e.inset?-2:2),A.map((function(t,e){switch(e){case 0:return t.add(n,r);case 1:return t.add(n+i,r);case 2:return t.add(n+i,r+s);case 3:return t.add(n,r+s)}return t})));e.inset?(l.path(a),l.ctx.clip(),l.mask(c)):(l.mask(a),l.ctx.clip(),l.path(c)),l.ctx.shadowOffsetX=e.offsetX.number+o,l.ctx.shadowOffsetY=e.offsetY.number,l.ctx.shadowColor=cv(e.color),l.ctx.shadowBlur=e.blur.number,l.ctx.fillStyle=e.inset?cv(e.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),c.label=2;case 2:i=0,s=0,a=n,c.label=3;case 3:return s<a.length?0!==(o=a[s]).style&&!lv(o.color)&&o.width>0?2!==o.style?[3,5]:[4,this.renderDashedDottedBorder(o.color,o.width,i,t.curves,2)]:[3,11]:[3,13];case 4:return c.sent(),[3,11];case 5:return 3!==o.style?[3,7]:[4,this.renderDashedDottedBorder(o.color,o.width,i,t.curves,3)];case 6:return c.sent(),[3,11];case 7:return 4!==o.style?[3,9]:[4,this.renderDoubleBorder(o.color,o.width,i,t.curves)];case 8:return c.sent(),[3,11];case 9:return[4,this.renderSolidBorder(o.color,i,t.curves)];case 10:c.sent(),c.label=11;case 11:i++,c.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},e.prototype.renderDashedDottedBorder=function(t,e,A,n,r){return $m(this,void 0,void 0,(function(){var i,s,a,o,l,c,u,h,d,f,p,g,m,B,w,v;return tB(this,(function(y){return this.ctx.save(),i=function(t,e){switch(e){case 0:return LC(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return LC(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return LC(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return LC(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(n,A),s=IC(n,A),2===r&&(this.path(s),this.ctx.clip()),wC(s[0])?(a=s[0].start.x,o=s[0].start.y):(a=s[0].x,o=s[0].y),wC(s[1])?(l=s[1].end.x,c=s[1].end.y):(l=s[1].x,c=s[1].y),u=0===A||2===A?Math.abs(a-l):Math.abs(o-c),this.ctx.beginPath(),3===r?this.formatPath(i):this.formatPath(s.slice(0,2)),h=e<3?3*e:2*e,d=e<3?2*e:e,3===r&&(h=e,d=e),f=!0,u<=2*h?f=!1:u<=2*h+d?(h*=p=u/(2*h+d),d*=p):(g=Math.floor((u+d)/(h+d)),m=(u-g*h)/(g-1),d=(B=(u-(g+1)*h)/g)<=0||Math.abs(d-m)<Math.abs(d-B)?m:B),f&&(3===r?this.ctx.setLineDash([0,h+d]):this.ctx.setLineDash([h,d])),3===r?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=cv(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===r&&(wC(s[0])&&(w=s[3],v=s[0],this.ctx.beginPath(),this.formatPath([new gC(w.end.x,w.end.y),new gC(v.start.x,v.start.y)]),this.ctx.stroke()),wC(s[1])&&(w=s[1],v=s[2],this.ctx.beginPath(),this.formatPath([new gC(w.end.x,w.end.y),new gC(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},e.prototype.render=function(t){return $m(this,void 0,void 0,(function(){var e;return tB(this,(function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=cv(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),e=function(t){var e=new SC(t,null),A=new MC(e),n=[];return EC(e,A,A,n),TC(e.container,n),A}(t),[4,this.renderStack(e)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},e}(GC),XC=function(t){return t instanceof ax||(t instanceof sx||t instanceof ix&&"radio"!==t.type&&"checkbox"!==t.type)},jC=function(t,e){switch(t){case 0:return _C(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return xC(e)}},YC=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},JC=["-apple-system","system-ui"],qC=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===JC.indexOf(t)})):t},ZC=function(t){function e(e,A){var n=t.call(this,e,A)||this;return n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=A,n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),n}return qm(e,t),e.prototype.render=function(t){return $m(this,void 0,void 0,(function(){var e,A;return tB(this,(function(n){switch(n.label){case 0:return e=P_(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,$C(e)];case 1:return A=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=cv(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},e}(GC),$C=function(t){return new Promise((function(e,A){var n=new Image;n.onload=function(){e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},tb=function(){function t(t){var e=t.id,A=t.enabled;this.id=e,this.enabled=A,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&console.info},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn||this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,t))},t.instances={},t}(),eb=function(){function t(e,A){var n;this.windowBounds=A,this.instanceName="#"+t.instanceCount++,this.logger=new tb({id:this.instanceName,enabled:e.logging}),this.cache=null!==(n=e.cache)&&void 0!==n?n:new aC(this,e)}return t.instanceCount=1,t}(),Ab=function(t,e){return void 0===e&&(e={}),nb(t,e)};"undefined"!=typeof window&&sC.setContext(window);var nb=function(t,e){return $m(void 0,void 0,void 0,(function(){var A,n,r,i,s,a,o,l,c,u,h,d,f,p,g,m,B,w,v,y,_,x,C,b,U,F,Q,M,S,E,T,I,L,D,H,P,O,R;return tB(this,(function(N){switch(N.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(A=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(n=A.defaultView))throw new Error("Document is not attached to a Window");return r={allowTaint:null!==(x=e.allowTaint)&&void 0!==x&&x,imageTimeout:null!==(C=e.imageTimeout)&&void 0!==C?C:15e3,proxy:e.proxy,useCORS:null!==(b=e.useCORS)&&void 0!==b&&b},i=Zm({logging:null===(U=e.logging)||void 0===U||U,cache:e.cache},r),s={windowWidth:null!==(F=e.windowWidth)&&void 0!==F?F:n.innerWidth,windowHeight:null!==(Q=e.windowHeight)&&void 0!==Q?Q:n.innerHeight,scrollX:null!==(M=e.scrollX)&&void 0!==M?M:n.pageXOffset,scrollY:null!==(S=e.scrollY)&&void 0!==S?S:n.pageYOffset},a=new eB(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),o=new eb(i,a),l=null!==(E=e.foreignObjectRendering)&&void 0!==E&&E,c={allowTaint:null!==(T=e.allowTaint)&&void 0!==T&&T,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),u=new Kx(o,t,c),(h=u.clonedReferenceElement)?[4,u.toIFrame(A,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=N.sent(),f=xx(h)||"HTML"===h.tagName?function(t){var e=t.body,A=t.documentElement;if(!e||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),r=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new eB(0,0,n,r)}(h.ownerDocument):AB(o,h),p=f.width,g=f.height,m=f.left,B=f.top,w=rb(o,h,e.backgroundColor),v={canvas:e.canvas,backgroundColor:w,scale:null!==(L=null!==(I=e.scale)&&void 0!==I?I:n.devicePixelRatio)&&void 0!==L?L:1,x:(null!==(D=e.x)&&void 0!==D?D:0)+m,y:(null!==(H=e.y)&&void 0!==H?H:0)+B,width:null!==(P=e.width)&&void 0!==P?P:Math.ceil(p),height:null!==(O=e.height)&&void 0!==O?O:Math.ceil(g)},l?(o.logger.debug("Document cloned, using foreign object rendering"),[4,new ZC(o,v).render(h)]):[3,3];case 2:return y=N.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+m+","+B+" with size "+p+"x"+g+" using computed rendering"),o.logger.debug("Starting DOM parsing"),_=hx(o,h),w===_.styles.backgroundColor&&(_.styles.backgroundColor=Bv.TRANSPARENT),o.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),[4,new WC(o,v).render(_)];case 4:y=N.sent(),N.label=5;case 5:return(null===(R=e.removeContainer)||void 0===R||R)&&(Kx.destroy(d)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,y]}}))}))},rb=function(t,e,A){var n=e.ownerDocument,r=n.documentElement?mv(t,getComputedStyle(n.documentElement).backgroundColor):Bv.TRANSPARENT,i=n.body?mv(t,getComputedStyle(n.body).backgroundColor):Bv.TRANSPARENT,s="string"==typeof A?mv(t,A):null===A?Bv.TRANSPARENT:4294967295;return e===n.documentElement?lv(r)?lv(i)?s:i:r:s};const ib=(t,e,A)=>{let n=e*Math.PI/180;const r=A*Math.PI/180;n=-n;const i=t*Math.cos(r)*Math.cos(n),s=t*Math.sin(r),a=t*Math.cos(r)*Math.sin(n);return new Ms(i,s,a)},sb=t=>{const e=new Go(1,1),A=t.textures.aperture,n=new Ga({color:15310696,map:A,transparent:!0,opacity:1,depthWrite:!1}),r=new Co(e,n),i=ib(1.001*t.radius,t.lon,t.lat),s=.12*t.radius;r.scale.set(s,s,s),r.userData.size=s,r.userData.scale=1*Math.random(),r.position.set(i.x,i.y,i.z);const a=new Ms(i.x,i.y,i.z).normalize(),o=new Ms(0,0,1);return r.quaternion.setFromUnitVectors(o,a),r},ab=t=>{const e=.3*t.radius,A=new Go(.05*t.radius,e);A.rotateX(Math.PI/2),A.translate(0,0,e/2);const n=new Ga({map:t.textures.light_column,color:0===t.index?t.punctuation.lightColumn.startColor:t.punctuation.lightColumn.endColor,transparent:!0,side:2,depthWrite:!1}),r=new Co(A,n),i=new pu;i.add(r,r.clone().rotateZ(Math.PI/2),r.clone().rotateZ(Math.PI/4));const s=ib(t.radius,t.lon,t.lat);i.position.set(s.x,s.y,s.z);const a=new Ms(s.x,s.y,s.z).normalize(),o=new Ms(0,0,1);return i.quaternion.setFromUnitVectors(o,a),i},ob=t=>{const e=new Go(1,1),A=new Co(e,t.material),n=ib(1.001*t.radius,t.lon,t.lat),r=.05*t.radius;A.scale.set(r,r,r),A.position.set(n.x,n.y,n.z);const i=new Ms(n.x,n.y,n.z).normalize(),s=new Ms(0,0,1);return A.quaternion.setFromUnitVectors(s,i),A};function lb(t,e,A,n,r,i){const s=ib(t,e,A),a=new Ms(s.x,s.y,s.z),o=ib(t,n,r),l=function(t,e){const A=new Ms(0,0,0),n=t.clone().sub(A),r=e.clone().sub(A),i=n.clone().cross(r).normalize(),s=new Ms(0,0,1),a=(new Qs).setFromUnitVectors(i,s),o=t.clone().applyQuaternion(a),l=e.clone().applyQuaternion(a),c=o.clone().add(l).multiplyScalar(.5).clone().sub(A).normalize(),u=new Ms(0,1,0),h=(new Qs).setFromUnitVectors(c,u),d=o.clone().applyQuaternion(h),f=l.clone().applyQuaternion(h);return{quaternion:a.clone().invert().multiply(h.clone().invert()),startPoint:d,endPoint:f}}(a,new Ms(o.x,o.y,o.z)),c=function(t,e,A,n){const r=(new Ms).addVectors(e,A).multiplyScalar(.5).clone().normalize(),i=cb(e,A,new Ms(0,0,0)),s=r.multiplyScalar(t+i*t*.2),a=function(t,e,A){const n=t.lengthSq(),r=e.lengthSq(),i=A.lengthSq(),s=t.x,a=t.y,o=e.x,l=e.y,c=A.x,u=A.y,h=s*l+o*u+c*a-s*u-o*a-c*l;return new Ms((r*u+n*l+i*a-r*a-i*l-n*u)/h/2,(i*o+r*s+n*c-n*o-r*c-i*s)/h/2,0)}(e,A,s),o=Math.abs(a.y-s.y),l=cb(e,new Ms(0,-1,0),a),c=-Math.PI/2+l,u=Math.PI-c,h=function(t,e,A,n,r,i){const s=new io,a=new oh(t,e,A,n,r,!1).getSpacedPoints(80);s.setFromPoints(a);const o=new zu({color:i||13731143});return new Yu(s,o)}(a.x,a.y,o,c,u,n.color);h.center=a,h.topCoord=s;const d=(u-c)/7,f=function(t,e,A,n){const r=new io,i=new oh(0,0,t,e,A,!1).getSpacedPoints(100);r.setFromPoints(i);const s=[];for(let u=0;u<i.length;u++)s.push(u/i.length);const a=new ja(new Float32Array(s),1);r.attributes.percent=a;const o=[];for(let u=0;u<i.length;u++){const t=new ms(15503171),e=new ms(15969910),A=t.lerp(e,u/i.length);o.push(A.r,A.g,A.b)}r.attributes.color=new ja(new Float32Array(o),3);const l=new $u({size:1.3,transparent:!0,depthWrite:!1});l.onBeforeCompile=function(t){t.vertexShader=t.vertexShader.replace("void main() {",["attribute float percent;","void main() {"].join("\n")),t.vertexShader=t.vertexShader.replace("gl_PointSize = size;",["gl_PointSize = percent * size;"].join("\n"))};const c=new rh(r,l);return l.color=new ms(n),c.name="飞行线",c}(o,c,c+d,n.flyLineColor);return f.position.y=a.y,h.add(f),f.flyEndAngle=u-c-d,f.startAngle=c,f.AngleZ=h.flyEndAngle*Math.random(),h.userData.flyLine=f,h}(t,l.startPoint,l.endPoint,i);return c.quaternion.multiply(l.quaternion),c}function cb(t,e,A){const n=t.clone().sub(A).normalize(),r=e.clone().sub(A).normalize(),i=n.clone().dot(r);return Math.acos(i)}class ub{constructor(t){this.options=t,this.group=new pu,this.group.name="group",this.group.scale.set(0,0,0),this.earthGroup=new pu,this.group.add(this.earthGroup),this.earthGroup.name="EarthGroup",this.markupPoint=new pu,this.markupPoint.name="markupPoint",this.waveMeshArr=[],this.circleLineList=[],this.circleList=[],this.x=0,this.n=0,this.isRotation=this.options.earth.isRotation,this.timeValue=100,this.uniforms={glowColor:{value:new ms(840171)},scale:{type:"f",value:-1},bias:{type:"f",value:1},power:{type:"f",value:3.3},time:{type:"f",value:this.timeValue},isHover:{value:!1},map:{value:null}}}async init(){return await new Promise((async t=>{this.createEarth(),this.createEarthGlow(),this.createEarthAperture(),await this.createMarkupPoint(),await this.createSpriteLabel(),this.createFlyLine(),this.show(),t()}))}createEarth(){const t=new vh(this.options.earth.radius,50,50),e=new vh(this.options.earth.radius+10,60,60),A=new $u({color:8519679,transparent:!0,sizeAttenuation:!0,opacity:.1,vertexColors:!1,size:.01}),n=new rh(e,A);this.earthGroup.add(n),this.uniforms.map.value=this.options.textures.earth;const r=new So({uniforms:this.uniforms,vertexShader:["varying vec2 vUv;","varying vec3 vNormal;","varying vec3 vp;","varying vec3 vPositionNormal;","void main(void){","vUv = uv;","vNormal = normalize( normalMatrix * normal );","vp = position;","vPositionNormal = normalize(( modelViewMatrix * vec4(position, 1.0) ).xyz);","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 glowColor;","uniform float bias;","uniform float power;","uniform float time;","varying vec3 vp;","varying vec3 vNormal;","varying vec3 vPositionNormal;","uniform float scale;","uniform sampler2D map;","varying vec2 vUv;","void main(void){","float a = pow( bias + scale * abs(dot(vNormal, vPositionNormal)), power );","if(vp.y > time && vp.y < time + 20.0) {","float t =  smoothstep(0.0, 0.8,  (1.0 - abs(0.5 - (vp.y - time) / 20.0)) / 3.0  );","gl_FragColor = mix(gl_FragColor, vec4(glowColor, 1.0), t * t );","}","gl_FragColor = mix(gl_FragColor, vec4( glowColor, 1.0 ), a);","float b = 0.8;","gl_FragColor = gl_FragColor + texture2D( map, vUv );","}"].join("\n")});r.needsUpdate=!0,this.earth=new Co(t,r),this.earth.name="earth",this.earthGroup.add(this.earth)}createStars(){const t=[],e=[];for(let n=0;n<500;n++){const A=new Ms;A.x=800*Math.random()-300,A.y=800*Math.random()-300,A.z=800*Math.random()-300,t.push(A.x,A.y,A.z),e.push(new ms(1,1,1))}this.around=new io,this.around.setAttribute("position",new ja(new Float32Array(t),3)),this.around.setAttribute("color",new ja(new Float32Array(e),3));const A=new $u({size:2,sizeAttenuation:!0,color:5076687,transparent:!0,opacity:1,map:this.options.textures.gradient});this.aroundPoints=new rh(this.around,A),this.aroundPoints.name="星空",this.aroundPoints.scale.set(1,1,1),this.group.add(this.aroundPoints)}createEarthGlow(){const t=this.options.earth.radius,e=this.options.textures.glow,A=new Fu({map:e,color:4427985,transparent:!0,opacity:.7,depthWrite:!1}),n=new ku(A);n.scale.set(3*t,3*t,1),this.earthGroup.add(n)}createEarthAperture(){const t=["varying vec3 vVertexWorldPosition;","varying vec3 vVertexNormal;","varying vec4 vFragColor;","void main(void){","vVertexNormal = normalize(normalMatrix * normal);","vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","}"].join("\n"),e={uniforms:{coeficient:{type:"f",value:1},power:{type:"f",value:3},glowColor:{type:"c",value:new ms(4427985)}},vertexShader:t,fragmentShader:["uniform vec3\tglowColor;","uniform float coeficient;","uniform float power;","varying vec3\tvVertexNormal;","varying vec3\tvVertexWorldPosition;","varying vec4\tvFragColor;","void main(void){","\tvec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;","\tvec3 viewCameraToVertex\t= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;","\tviewCameraToVertex= normalize(viewCameraToVertex);","\tfloat intensity\t= pow(coeficient + dot(vVertexNormal, viewCameraToVertex), power);","\tgl_FragColor = vec4(glowColor, intensity);","}"].join("\n")},A=new So({uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,blending:1,transparent:!0,depthWrite:!1}),n=new vh(this.options.earth.radius+0,50,50),r=new Co(n,A);this.earthGroup.add(r)}async createMarkupPoint(){await Promise.all(this.options.data.map((async t=>{const e=this.options.earth.radius,A=t.startArray.E,n=t.startArray.N;this.punctuationMaterial=new Ga({color:this.options.punctuation.circleColor,map:this.options.textures.label,transparent:!0,depthWrite:!1});const r=ob({radius:e,lon:A,lat:n,material:this.punctuationMaterial});this.markupPoint.add(r);const i=ab({radius:this.options.earth.radius,lon:A,lat:n,index:0,textures:this.options.textures,punctuation:this.options.punctuation});this.markupPoint.add(i);const s=sb({radius:e,lon:A,lat:n,textures:this.options.textures});this.markupPoint.add(s),this.waveMeshArr.push(s),await Promise.all(t.endArray.map((t=>{const A=t.E,n=t.N,r=ob({radius:e,lon:A,lat:n,material:this.punctuationMaterial});this.markupPoint.add(r);const i=ab({radius:this.options.earth.radius,lon:A,lat:n,index:1,textures:this.options.textures,punctuation:this.options.punctuation});this.markupPoint.add(i);const s=sb({radius:e,lon:A,lat:n,textures:this.options.textures});this.markupPoint.add(s),this.waveMeshArr.push(s)}))),this.earthGroup.add(this.markupPoint)})))}async createSpriteLabel(){await Promise.all(this.options.data.map((async t=>{let e=[];e.push(t.startArray),e=e.concat(...t.endArray),await Promise.all(e.map((async t=>{const e=ib(1.001*this.options.earth.radius,t.E,t.N),A=`<div class="fire-div">${t.name}</div>`;document.getElementById("html2canvas").innerHTML=A;const n={background:null,scale:4,dpi:window.devicePixelRatio},r=(await Ab(document.getElementById("html2canvas"),n)).toDataURL("image/png"),i=(new Fh).load(r),s=new Fu({map:i,transparent:!0}),a=new ku(s),o=5+2*(t.name.length-2);a.scale.set(o,3,1),a.position.set(1.1*e.x,1.1*e.y,1.1*e.z),this.earth.add(a)})))})))}createAnimateCircle(){const t=(t=>{const e=[];for(let A=0;A<2*Math.PI-.1;A+=2*Math.PI/(t.number||100))e.push([parseFloat((Math.cos(A)*(t.radius||10)).toFixed(2)),0,parseFloat((Math.sin(A)*(t.radius||10)).toFixed(2))]);return t.closed&&e.push(e[0]),e})({radius:this.options.earth.radius+15,number:150,closed:!0}),e=(t=>{const e=[];t.pointList.forEach((t=>e.push(new Ms(t[0],t[1],t[2]))));const A=new fh(e),n=new yh(A,t.number||50,t.radius||1,t.radialSegments);return new Co(n,t.material)})({pointList:t,material:new Ga({color:"#0c3172",transparent:!0,opacity:.4,side:2}),number:100,radius:.1});this.earthGroup.add(e);const A=e.clone();A.scale.set(1.2,1.2,1.2),A.rotateZ(Math.PI/6),this.earthGroup.add(A);const n=e.clone();n.scale.set(.8,.8,.8),n.rotateZ(-Math.PI/6),this.earthGroup.add(n);const r=new Co(new vh(this.options.satellite.size,32,32),new Ga({color:"#e0b187"})),i=new Co(new vh(this.options.satellite.size,32,32),new Ga({color:"#e0b187"})),s=new Co(new vh(this.options.satellite.size,32,32),new Ga({color:"#e0b187"}));this.circleLineList.push(e,A,n),r.name=i.name=s.name="卫星";for(let a=0;a<this.options.satellite.number;a++){const A=r.clone(),o=i.clone(),l=s.clone(),c=Math.floor(t.length/this.options.satellite.number);A.position.set(1*t[c*(a+1)][0],1*t[c*(a+1)][1],1*t[c*(a+1)][2]),e.add(A);const u=Math.floor(t.length/this.options.satellite.number);o.position.set(1*t[u*(a+1)][0],1*t[u*(a+1)][1],1*t[u*(a+1)][2]),n.add(o);const h=Math.floor(t.length/this.options.satellite.number);l.position.set(1*t[h*(a+1)][0],1*t[h*(a+1)][1],1*t[h*(a+1)][2]),n.add(l)}}createFlyLine(){this.flyLineArcGroup=new pu,this.flyLineArcGroup.userData.flyLineArray=[],this.earthGroup.add(this.flyLineArcGroup),this.options.data.forEach((t=>{t.endArray.forEach((e=>{const A=lb(this.options.earth.radius,t.startArray.E,t.startArray.N,e.E,e.N,this.options.flyLine);this.flyLineArcGroup.add(A),this.flyLineArcGroup.userData.flyLineArray.push(A.userData.flyLine)}))}))}show(){Ym.to(this.group.scale,{x:1,y:1,z:1,duration:2,ease:"Quadratic"})}async downloadImage(){const t={background:null,scale:6,dpi:window.devicePixelRatio};setTimeout((async()=>{(({url:t="",title:e="",target:A="_blank"}={})=>{const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),n.setAttribute("target",A),document.body.appendChild(n),n.click(),document.body.removeChild(n)})({url:(await Ab(document.getElementById("earth-canvas"),t)).toDataURL("image/png")})}),2e3)}render(){var t,e;null==(e=null==(t=this.flyLineArcGroup)?void 0:t.userData.flyLineArray)||e.forEach((t=>{t.rotation.z+=this.options.flyLine.speed,t.rotation.z>t.flyEndAngle&&(t.rotation.z=0)})),this.isRotation&&(this.earthGroup.rotation.y+=this.options.earth.rotateSpeed),this.uniforms.time.value=this.uniforms.time.value<-this.timeValue?this.timeValue:this.uniforms.time.value-1,this.circleLineList.forEach((t=>{t.rotateY(this.options.satellite.rotateSpeed)})),this.waveMeshArr.length&&this.waveMeshArr.forEach((t=>{t.userData.scale+=.007,t.scale.set(t.userData.size*t.userData.scale,t.userData.size*t.userData.scale,t.userData.size*t.userData.scale),t.userData.scale<=1.5?t.material.opacity=2*(t.userData.scale-1):t.userData.scale>1.5&&t.userData.scale<=2?t.material.opacity=1-2*(t.userData.scale-1.5):t.userData.scale=1}))}}var hb=[{startArray:{name:"深圳",N:22.5,E:114,img:"https://image.fulllinkai.com/202408/22/c26be60cfd1ba40772b5ac48b95ab19b.png"},endArray:[{name:"北京",N:39.87,E:116.38,img:"https://image.fulllinkai.com/202408/22/b64810fde7027715e614449aff1d595f.png"},{name:"上海",N:31.25,E:121.46,img:"https://image.fulllinkai.com/202408/22/37e2b52f19da778fba43ab3c1897f840.png"},{name:"广州",N:23.13,E:113.26,img:"https://image.fulllinkai.com/202408/22/fda678910bfe16cf8364d4f432abba00.png"},{name:"东莞",N:23.02,E:113.75,img:"https://image.fulllinkai.com/202408/22/dc78d13a95344a4147b0b2657c851cda.png"},{name:"香港",N:22.28,E:114.17,img:"https://image.fulllinkai.com/202408/22/f6aac84a83343a247532b533b0ef059f.png"},{name:"台湾",N:39.89,E:116.4,img:"https://image.fulllinkai.com/202408/22/22b1ec8dd34d48dd4f41941d15a75823.png"},{name:"杭州",N:30.25,E:120.21,img:"https://image.fulllinkai.com/202408/22/72a9ab2bbccadf3d20bc747fbb6a5dce.png"},{name:"郑州",N:34.76,E:113.78,img:"https://image.fulllinkai.com/202408/22/f4d01949f87c2597efd961356790a2d8.png"},{name:"成都",N:30.57,E:104.07,img:"https://image.fulllinkai.com/202408/22/3effce62dea4532e61d21f7c0be4ba43.png"},{name:"重庆",N:29.56,E:106.55,img:"https://image.fulllinkai.com/202408/22/4f11c4a023f29c528f91b9ea7e4b6d01.png"},{name:"武汉",N:30.59,E:114.3,img:"https://image.fulllinkai.com/202408/22/27a2d64d07fdc53db9c4fc1a4addb0e0.png"},{name:"厦门",N:24.48,E:118.09,img:"https://image.fulllinkai.com/202408/22/900f53f4274b62426298909232c24ed6.png"},{name:"惠州",N:23.11,E:114.42,img:"https://image.fulllinkai.com/202408/22/5d395c9aef90b41412c146d048d5f829.png"},{name:"佛山",N:23.02,E:113.12,img:"https://image.fulllinkai.com/202408/22/4aef654b98cae59071c3ae3ad1f253b8.png"},{name:"苏州",N:31.3,E:120.59,img:"https://image.fulllinkai.com/202408/22/8a29c5e2a211d9b8ca1207180f8dd985.png"},{name:"南京",N:32.06,E:118.8,img:"https://image.fulllinkai.com/202408/22/f89fb4bdb84f4e3617f5198abf451bd9.png"},{name:"长沙",N:28.23,E:112.94,img:"https://image.fulllinkai.com/202408/22/a715a7802863d797b17b2bd2ca5a32c3.png"},{name:"西安",N:34.34,E:108.94,img:"https://image.fulllinkai.com/202408/22/cf6293405ebd11712ca2c1d6daccf872.png"},{name:"许昌",N:34.04,E:113.85,img:"https://image.fulllinkai.com/202408/22/e32747b8887e994c1da73f4ea4de743c.png"},{name:"温州",N:27.99,E:120.7,img:"https://image.fulllinkai.com/202408/22/4e11f78aee1764a69292d24eb5321ea1.png"},{name:"汕头",N:23.35,E:116.68,img:"https://image.fulllinkai.com/202408/22/6a495c6f85789f5c063ed06da30bab7a.png"},{name:"湛江",N:21.27,E:110.36,img:"https://image.fulllinkai.com/202408/22/99c7a7f58e4040849dcd8f043d3c04f4.png"},{name:"茂名",N:21.66,E:110.93,img:"https://image.fulllinkai.com/202408/22/ad04a402fc60a1deba606df4bb5177ba.png"},{name:"南宁",N:22.82,E:108.37,img:"https://image.fulllinkai.com/202408/22/05495c9b0fe841178b127887b133df6b.png"},{name:"桂林",N:25.24,E:110.18,img:"https://image.fulllinkai.com/202408/22/9c6966aff56dfc9a93da26f8aa8e63ad.png"},{name:"合肥",N:31.82,E:117.23,img:"https://image.fulllinkai.com/202408/22/fde01f939d0d07fcf19f9ec2e6647dd0.png"},{name:"澳门",N:22.19,E:113.54,img:"https://image.fulllinkai.com/202408/22/d1995bba8ef95116194e0e6932172a9c.png"},{name:"天津",N:39.09,E:117.2,img:"https://image.fulllinkai.com/202408/22/7da2c475a87920140146ac39f41e6ed1.png"},{name:"昆明",N:24.88,E:102.83,img:"https://image.fulllinkai.com/202408/22/a850acbf592896b8d2fc953d3cbe17e7.png"},{name:"青岛",N:36.49,E:120.99,img:"https://image.fulllinkai.com/202408/22/6b4663fc30de7c53f811266f1c1e9e83.png"},{name:"中山",N:39.91,E:116.39,img:"https://image.fulllinkai.com/202408/22/68e876bd827a9d009c8a91e722e30f08.png"},{name:"兰州",N:36.06,E:103.83,img:"https://image.fulllinkai.com/202408/22/1845eeeb680d37a8b08ad98c90f02e2f.png"},{name:"海口",N:20.05,E:110.2,img:"https://image.fulllinkai.com/202408/22/8b096097bf1f5571e488dab282acf13b.png"},{name:"开封",N:34.8,E:114.31,img:"https://image.fulllinkai.com/202408/22/e8546f287571def4b6d5bd1582704398.png"},{name:"南昌",N:28.68,E:115.86,img:"https://image.fulllinkai.com/202408/22/2746ef7838e0b4fa970cdec02fce3e8c.png"},{name:"福州",N:26.07,E:119.3,img:"https://image.fulllinkai.com/202408/22/91b3fca6f82bd607e0b62ef53fa42364.png"},{name:"三亚",N:18.29,E:109.44,img:"https://image.fulllinkai.com/202408/22/413627fc3d6077e741133f4b926eeaaa.png"},{name:"长春",N:43.82,E:125.32,img:"https://image.fulllinkai.com/202408/22/f2f7feeacef3f5cc47b6e17983a4bffe.png"},{name:"拉萨",N:29.65,E:91.17,img:"https://image.fulllinkai.com/202408/22/143148425469359ed54fc8271a023ddb.png"},{name:"济南",N:36.65,E:117.12,img:"https://image.fulllinkai.com/202408/22/da71cdfef012d7766484d39ceebfdad0.png"},{name:"石家庄",N:38.04,E:114.51,img:"https://image.fulllinkai.com/202408/22/8fa7e006d9c673014b0a34fd0f66b5ae.png"},{name:"沈阳",N:41.68,E:123.46,img:"https://image.fulllinkai.com/202408/22/8dbef24c84fcb92054ee7a54678ad7eb.png"},{name:"贵阳",N:26.65,E:106.63,img:"https://image.fulllinkai.com/202408/22/72c401c81f0f9bcf9390cf4832193f74.png"},{name:"太原",N:37.87,E:112.55,img:"https://image.fulllinkai.com/202408/22/443f5bd479731126a8c56a98fd18f34e.png"},{name:"泉州",N:24.87,E:118.68,img:"https://image.fulllinkai.com/202408/22/84813037a1ef30b5a701a2bf7047aa27.png"},{name:"扬州",N:39.95,E:116.35,img:"https://image.fulllinkai.com/202408/22/ec66a6a4e717415379f884eabbeb95e6.png"},{name:"商丘",N:34.42,E:115.66,img:"https://image.fulllinkai.com/202408/22/9f8f816a0bee2f51bb536b1df1cf53d6.png"},{name:"南阳",N:33.02,E:112.58,img:"https://image.fulllinkai.com/202408/22/1251a50ecfb1df78f9692fc140078c1e.png"},{name:"珠海",N:22.27,E:113.58,img:"https://image.fulllinkai.com/202408/22/7bc0b11c8519fc8fea53836cc106d396.png"},{name:"赣州",N:25.83,E:114.93,img:"https://image.fulllinkai.com/202408/22/730d94252e36d23eafed1118a3fc0df5.png"},{name:"揭阳",N:23.55,E:116.37,img:"https://image.fulllinkai.com/202408/22/e72deaf13429df6f19fce56d2c1dc77c.png"},{name:"无锡",N:31.49,E:120.31,img:"https://image.fulllinkai.com/202408/22/81ab47a585bf28aa7fbfdf9696c0ace2.png"},{name:"哈尔滨",N:45.8,E:126.54,img:"https://image.fulllinkai.com/202408/22/19837791d46193220a6d0cd2b2577685.png"},{name:"乌鲁木齐",N:43.83,E:87.62,img:"https://image.fulllinkai.com/202408/22/6c1bd20c6471cb0b6ed3732343fbd712.png"},{name:"洛阳",N:34.62,E:112.45,img:"https://image.fulllinkai.com/202408/22/8749b999f7780beb0dbb33ec29cb9d3b.png"},{name:"宁波",N:29.86,E:121.62,img:"https://image.fulllinkai.com/202408/22/e400d2d6394ea9573c9d9cf829a5d195.png"},{name:"鄂尔多斯",N:40,E:116.42,img:"https://image.fulllinkai.com/202408/22/f9d98b100228793bfa5313aee3a6d8d7.png"},{name:"襄阳",N:32.01,E:112.12,img:"https://image.fulllinkai.com/202408/22/2b0a894040ed2b4529c6d35a2a360a40.png"},{name:"常德",N:29.03,E:111.7,img:"https://image.fulllinkai.com/202408/22/4f334eaca23bd757fc0ee7b22133389b.png"},{name:"湘潭",N:27.83,E:112.95,img:"https://image.fulllinkai.com/202408/22/a16c6b0163d59bc59dda96af1d42aa06.png"},{name:"汕尾",N:22.79,E:115.38,img:"https://image.fulllinkai.com/202408/22/cba71c99f5e6f625c0fbe5a23408bf17.png"},{name:"岳阳",N:29.36,E:113.13,img:"https://image.fulllinkai.com/202408/22/42cd7a80137485fd1ea32e59a9dbb0af.png"},{name:"大连",N:38.91,E:121.61,img:"https://image.fulllinkai.com/202408/22/a4f2c1a880be3a0f2dc1bb75b259d132.png"},{name:"金华",N:29.08,E:119.65,img:"https://image.fulllinkai.com/202408/22/1ef61dbdded54d27d37c36dd050295a3.png"},{name:"南通",N:31.98,E:120.89,img:"https://image.fulllinkai.com/202408/22/74c26e0279183ba6edaf2cc7499d0585.png"},{name:"常州",N:31.81,E:119.97,img:"https://image.fulllinkai.com/202408/22/4331d73d33df545322038cd1ab933cd9.png"},{name:"温哥华",N:49.28,E:-123.12,img:"https://image.fulllinkai.com/202408/22/fd49a79933953d3738fd58f520610fd2.png"},{name:"曼谷",N:13.76,E:100.48,img:"https://image.fulllinkai.com/202408/22/9770de1671cb0e3f408388380eacd008.png"},{name:"吉隆坡",N:3.14,E:101.69,img:"https://image.fulllinkai.com/202408/22/e8d67dd18d07e9c0b7c7ab53265a09de.png"},{name:"纽约",N:40.71,E:-74,img:"https://image.fulllinkai.com/202408/22/1064e1aa560cd7a7b624921f6e7930ae.png"},{name:"洛杉矶",N:34.07,E:-118.24,img:"https://image.fulllinkai.com/202408/22/c63f9f25204dcb90bf8f1269e4a976e7.png"},{name:"华盛顿",N:38.9,E:-77.03,img:"https://image.fulllinkai.com/202408/22/28bd55e6718a5010de0f163cd9e89452.png"},{name:"旧金山",N:37.76,E:-122.41,img:"https://image.fulllinkai.com/202408/22/78e30ee86648fce0bb4f7ca841477c35.png"},{name:"芝加哥",N:41.87,E:-87.64,img:"https://image.fulllinkai.com/202408/22/65bcb9576e3df2dd71c739854a27f92e.png"},{name:"休斯顿",N:29.76,E:-95.39,img:"https://image.fulllinkai.com/202408/22/9d59cc88607bfc007852794ed04505ae.png"},{name:"新加坡",N:1.35,E:103.87,img:"https://image.fulllinkai.com/202408/22/2e0cbdf37d583369ddf4f35b95c65859.png"},{name:"伦敦",N:51.51,E:-.13,img:"https://image.fulllinkai.com/202408/22/218422b8d2356c698b74f98be47c2337.png"},{name:"悉尼",N:-33.87,E:151.2,img:"https://image.fulllinkai.com/202408/22/56faf0092d12e26ca7dd2b5d6fdf2108.png"},{name:"墨尔本",N:-37.8,E:144.94,img:"https://image.fulllinkai.com/202408/22/5a493130bd97c0a5fe2159366db590f0.png"},{name:"多伦多",N:43.66,E:-79.38,img:"https://image.fulllinkai.com/202408/22/17047673ab3a44b9dd83f734a158b36f.png"},{name:"巴黎",N:48.85,E:2.35,img:"https://image.fulllinkai.com/202408/22/3a8d967e6da2ba2cddea5ebef7ebd3a1.png"},{name:"迪拜",N:25.27,E:55.36,img:"https://image.fulllinkai.com/202408/22/eb1271a17da6706f094ef440ee35f46c.png"},{name:"东京",N:35.7,E:139.76,img:"https://image.fulllinkai.com/202408/22/f360be3bc6e51417188415a897ab38ba.png"},{name:"首尔",N:37.55,E:126.99,img:"https://image.fulllinkai.com/202408/22/88484c04369fc2e23db0b6adc6435fcf.png"},{name:"柏林",N:52.52,E:13.39,img:"https://image.fulllinkai.com/202408/22/930e94d568e562d5c71795241d21e2bc.png"},{name:"罗马",N:41.9,E:12.49,img:"https://image.fulllinkai.com/202408/22/fd955b2ef04cac3dbabd70952ddde1a2.png"},{name:"米兰",N:45.46,E:9.18,img:"https://image.fulllinkai.com/202408/22/6729ae419befccbb62d7fc062fd71ac1.png"}]}];class db{constructor(t){this.option=t,this.basic=new Wh(t),this.scene=this.basic.scene,this.renderer=this.basic.renderer,this.controls=this.basic.controls,this.camera=this.basic.camera,this.earth=null,this.sizes=new Ni({dom:t}),this.sizes.$on("resize",(()=>{this.renderer.setSize(Number(this.sizes.viewport.width),Number(this.sizes.viewport.height)),this.camera.aspect=Number(this.sizes.viewport.width)/Number(this.sizes.viewport.height),this.camera.updateProjectionMatrix()})),this.resources=new Yh((async()=>{await this.createEarth(),this.render()}))}async createEarth(){this.earth=new ub({data:hb,dom:this.option.dom,textures:this.resources.textures,earth:{radius:50,rotateSpeed:.002,isRotation:!0},satellite:{show:!0,rotateSpeed:-.01,size:1,number:4},punctuation:{circleColor:3707647,lightColumn:{startColor:14942335,endColor:16777215}},flyLine:{color:15969910,flyLineColor:16742164,speed:.014}}),this.scene.add(this.earth.group),await this.earth.init();document.querySelector("#loading").classList.add("out")}render(){requestAnimationFrame(this.render.bind(this)),this.earth&&this.earth.render()}}var fb,pb={exports:{}},gb=function(t,e){return function(){for(var A=new Array(arguments.length),n=0;n<A.length;n++)A[n]=arguments[n];return t.apply(e,A)}},mb=gb,Bb=Object.prototype.toString,wb=(fb=Object.create(null),function(t){var e=Bb.call(t);return fb[e]||(fb[e]=e.slice(8,-1).toLowerCase())});function vb(t){return t=t.toLowerCase(),function(e){return wb(e)===t}}function yb(t){return Array.isArray(t)}function _b(t){return void 0===t}var xb=vb("ArrayBuffer");function Cb(t){return null!==t&&"object"==typeof t}function bb(t){if("object"!==wb(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var Ub=vb("Date"),Fb=vb("File"),Qb=vb("Blob"),Mb=vb("FileList");function Sb(t){return"[object Function]"===Bb.call(t)}var Eb=vb("URLSearchParams");function Tb(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),yb(t))for(var A=0,n=t.length;A<n;A++)e.call(null,t[A],A,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var Ib,Lb=(Ib="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return Ib&&t instanceof Ib}),Db={isArray:yb,isArrayBuffer:xb,isBuffer:function(t){return null!==t&&!_b(t)&&null!==t.constructor&&!_b(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||Bb.call(t)===e||Sb(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&xb(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Cb,isPlainObject:bb,isUndefined:_b,isDate:Ub,isFile:Fb,isBlob:Qb,isFunction:Sb,isStream:function(t){return Cb(t)&&Sb(t.pipe)},isURLSearchParams:Eb,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Tb,merge:function t(){var e={};function A(A,n){bb(e[n])&&bb(A)?e[n]=t(e[n],A):bb(A)?e[n]=t({},A):yb(A)?e[n]=A.slice():e[n]=A}for(var n=0,r=arguments.length;n<r;n++)Tb(arguments[n],A);return e},extend:function(t,e,A){return Tb(e,(function(e,n){t[n]=A&&"function"==typeof e?mb(e,A):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,A,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,A&&Object.assign(t.prototype,A)},toFlatObject:function(t,e,A){var n,r,i,s={};e=e||{};do{for(r=(n=Object.getOwnPropertyNames(t)).length;r-- >0;)s[i=n[r]]||(e[i]=t[i],s[i]=!0);t=Object.getPrototypeOf(t)}while(t&&(!A||A(t,e))&&t!==Object.prototype);return e},kindOf:wb,kindOfTest:vb,endsWith:function(t,e,A){t=String(t),(void 0===A||A>t.length)&&(A=t.length),A-=e.length;var n=t.indexOf(e,A);return-1!==n&&n===A},toArray:function(t){if(!t)return null;var e=t.length;if(_b(e))return null;for(var A=new Array(e);e-- >0;)A[e]=t[e];return A},isTypedArray:Lb,isFileList:Mb},Hb=Db;function Pb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ob=function(t,e,A){if(!e)return t;var n;if(A)n=A(e);else if(Hb.isURLSearchParams(e))n=e.toString();else{var r=[];Hb.forEach(e,(function(t,e){null!=t&&(Hb.isArray(t)?e+="[]":t=[t],Hb.forEach(t,(function(t){Hb.isDate(t)?t=t.toISOString():Hb.isObject(t)&&(t=JSON.stringify(t)),r.push(Pb(e)+"="+Pb(t))})))})),n=r.join("&")}if(n){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+n}return t},Rb=Db;function Nb(){this.handlers=[]}Nb.prototype.use=function(t,e,A){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!A&&A.synchronous,runWhen:A?A.runWhen:null}),this.handlers.length-1},Nb.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Nb.prototype.forEach=function(t){Rb.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var kb=Nb,Vb=Db,zb=Db;function Kb(t,e,A,n,r){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),A&&(this.config=A),n&&(this.request=n),r&&(this.response=r)}zb.inherits(Kb,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Gb=Kb.prototype,Wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){Wb[t]={value:t}})),Object.defineProperties(Kb,Wb),Object.defineProperty(Gb,"isAxiosError",{value:!0}),Kb.from=function(t,e,A,n,r,i){var s=Object.create(Gb);return zb.toFlatObject(t,s,(function(t){return t!==Error.prototype})),Kb.call(s,t.message,e,A,n,r),s.name=t.name,i&&Object.assign(s,i),s};var Xb=Kb,jb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yb=Db;var Jb=function(t,e){e=e||new FormData;var A=[];function n(t){return null===t?"":Yb.isDate(t)?t.toISOString():Yb.isArrayBuffer(t)||Yb.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(r,i){if(Yb.isPlainObject(r)||Yb.isArray(r)){if(-1!==A.indexOf(r))throw Error("Circular reference detected in "+i);A.push(r),Yb.forEach(r,(function(A,r){if(!Yb.isUndefined(A)){var s,a=i?i+"."+r:r;if(A&&!i&&"object"==typeof A)if(Yb.endsWith(r,"{}"))A=JSON.stringify(A);else if(Yb.endsWith(r,"[]")&&(s=Yb.toArray(A)))return void s.forEach((function(t){!Yb.isUndefined(t)&&e.append(a,n(t))}));t(A,a)}})),A.pop()}else e.append(i,n(r))}(t),e},qb=Xb,Zb=Db,$b=Zb.isStandardBrowserEnv()?{write:function(t,e,A,n,r,i){var s=[];s.push(t+"="+encodeURIComponent(e)),Zb.isNumber(A)&&s.push("expires="+new Date(A).toGMTString()),Zb.isString(n)&&s.push("path="+n),Zb.isString(r)&&s.push("domain="+r),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},tU=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},eU=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},AU=function(t,e){return t&&!tU(e)?eU(t,e):e},nU=Db,rU=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],iU=Db,sU=iU.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),A=document.createElement("a");function n(t){var n=t;return e&&(A.setAttribute("href",n),n=A.href),A.setAttribute("href",n),{href:A.href,protocol:A.protocol?A.protocol.replace(/:$/,""):"",host:A.host,search:A.search?A.search.replace(/^\?/,""):"",hash:A.hash?A.hash.replace(/^#/,""):"",hostname:A.hostname,port:A.port,pathname:"/"===A.pathname.charAt(0)?A.pathname:"/"+A.pathname}}return t=n(window.location.href),function(e){var A=iU.isString(e)?n(e):e;return A.protocol===t.protocol&&A.host===t.host}}():function(){return!0},aU=Xb;function oU(t){aU.call(this,null==t?"canceled":t,aU.ERR_CANCELED),this.name="CanceledError"}Db.inherits(oU,aU,{__CANCEL__:!0});var lU=oU,cU=Db,uU=function(t,e,A){var n=A.config.validateStatus;A.status&&n&&!n(A.status)?e(new qb("Request failed with status code "+A.status,[qb.ERR_BAD_REQUEST,qb.ERR_BAD_RESPONSE][Math.floor(A.status/100)-4],A.config,A.request,A)):t(A)},hU=$b,dU=Ob,fU=AU,pU=function(t){var e,A,n,r={};return t?(nU.forEach(t.split("\n"),(function(t){if(n=t.indexOf(":"),e=nU.trim(t.substr(0,n)).toLowerCase(),A=nU.trim(t.substr(n+1)),e){if(r[e]&&rU.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([A]):r[e]?r[e]+", "+A:A}})),r):r},gU=sU,mU=jb,BU=Xb,wU=lU,vU=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""},yU=function(t){return new Promise((function(e,A){var n,r=t.data,i=t.headers,s=t.responseType;function a(){t.cancelToken&&t.cancelToken.unsubscribe(n),t.signal&&t.signal.removeEventListener("abort",n)}cU.isFormData(r)&&cU.isStandardBrowserEnv()&&delete i["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.Authorization="Basic "+btoa(l+":"+c)}var u=fU(t.baseURL,t.url);function h(){if(o){var n="getAllResponseHeaders"in o?pU(o.getAllResponseHeaders()):null,r={data:s&&"text"!==s&&"json"!==s?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:n,config:t,request:o};uU((function(t){e(t),a()}),(function(t){A(t),a()}),r),o=null}}if(o.open(t.method.toUpperCase(),dU(u,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,"onloadend"in o?o.onloadend=h:o.onreadystatechange=function(){o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))&&setTimeout(h)},o.onabort=function(){o&&(A(new BU("Request aborted",BU.ECONNABORTED,t,o)),o=null)},o.onerror=function(){A(new BU("Network Error",BU.ERR_NETWORK,t,o,o)),o=null},o.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||mU;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),A(new BU(e,n.clarifyTimeoutError?BU.ETIMEDOUT:BU.ECONNABORTED,t,o)),o=null},cU.isStandardBrowserEnv()){var d=(t.withCredentials||gU(u))&&t.xsrfCookieName?hU.read(t.xsrfCookieName):void 0;d&&(i[t.xsrfHeaderName]=d)}"setRequestHeader"in o&&cU.forEach(i,(function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete i[e]:o.setRequestHeader(e,t)})),cU.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),s&&"json"!==s&&(o.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(n=function(t){o&&(A(!t||t&&t.type?new wU:t),o.abort(),o=null)},t.cancelToken&&t.cancelToken.subscribe(n),t.signal&&(t.signal.aborted?n():t.signal.addEventListener("abort",n))),r||(r=null);var f=vU(u);f&&-1===["http","https","file"].indexOf(f)?A(new BU("Unsupported protocol "+f+":",BU.ERR_BAD_REQUEST,t)):o.send(r)}))},_U=Db,xU=function(t,e){Vb.forEach(t,(function(A,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=A,delete t[n])}))},CU=Xb,bU=Jb,UU={"Content-Type":"application/x-www-form-urlencoded"};function FU(t,e){!_U.isUndefined(t)&&_U.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var QU,MU={transitional:jb,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(QU=yU),QU),transformRequest:[function(t,e){if(xU(e,"Accept"),xU(e,"Content-Type"),_U.isFormData(t)||_U.isArrayBuffer(t)||_U.isBuffer(t)||_U.isStream(t)||_U.isFile(t)||_U.isBlob(t))return t;if(_U.isArrayBufferView(t))return t.buffer;if(_U.isURLSearchParams(t))return FU(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var A,n=_U.isObject(t),r=e&&e["Content-Type"];if((A=_U.isFileList(t))||n&&"multipart/form-data"===r){var i=this.env&&this.env.FormData;return bU(A?{"files[]":t}:t,i&&new i)}return n||"application/json"===r?(FU(e,"application/json"),function(t,e,A){if(_U.isString(t))try{return(e||JSON.parse)(t),_U.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(A||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||MU.transitional,A=e&&e.silentJSONParsing,n=e&&e.forcedJSONParsing,r=!A&&"json"===this.responseType;if(r||n&&_U.isString(t)&&t.length)try{return JSON.parse(t)}catch(i){if(r){if("SyntaxError"===i.name)throw CU.from(i,CU.ERR_BAD_RESPONSE,this,null,this.response);throw i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:null},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};_U.forEach(["delete","get","head"],(function(t){MU.headers[t]={}})),_U.forEach(["post","put","patch"],(function(t){MU.headers[t]=_U.merge(UU)}));var SU=MU,EU=Db,TU=SU,IU=function(t){return!(!t||!t.__CANCEL__)},LU=Db,DU=function(t,e,A){var n=this||TU;return EU.forEach(A,(function(A){t=A.call(n,t,e)})),t},HU=IU,PU=SU,OU=lU;function RU(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new OU}var NU=Db,kU=function(t,e){e=e||{};var A={};function n(t,e){return NU.isPlainObject(t)&&NU.isPlainObject(e)?NU.merge(t,e):NU.isPlainObject(e)?NU.merge({},e):NU.isArray(e)?e.slice():e}function r(A){return NU.isUndefined(e[A])?NU.isUndefined(t[A])?void 0:n(void 0,t[A]):n(t[A],e[A])}function i(t){if(!NU.isUndefined(e[t]))return n(void 0,e[t])}function s(A){return NU.isUndefined(e[A])?NU.isUndefined(t[A])?void 0:n(void 0,t[A]):n(void 0,e[A])}function a(A){return A in e?n(t[A],e[A]):A in t?n(void 0,t[A]):void 0}var o={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a};return NU.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=o[t]||r,n=e(t);NU.isUndefined(n)&&e!==a||(A[t]=n)})),A},VU="0.27.2",zU=VU,KU=Xb,GU={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){GU[t]=function(A){return typeof A===t||"a"+(e<1?"n ":" ")+t}}));var WU={};GU.transitional=function(t,e,A){return function(n,r,i){if(!1===t)throw new KU(function(t,e){return"[Axios v"+zU+"] Transitional option '"+t+"'"+e+(A?". "+A:"")}(r," has been removed"+(e?" in "+e:"")),KU.ERR_DEPRECATED);return e&&!WU[r]&&(WU[r]=!0),!t||t(n,r,i)}};var XU={assertOptions:function(t,e,A){if("object"!=typeof t)throw new KU("options must be an object",KU.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),r=n.length;r-- >0;){var i=n[r],s=e[i];if(s){var a=t[i],o=void 0===a||s(a,i,t);if(!0!==o)throw new KU("option "+i+" must be "+o,KU.ERR_BAD_OPTION_VALUE)}else if(!0!==A)throw new KU("Unknown option "+i,KU.ERR_BAD_OPTION)}},validators:GU},jU=Db,YU=Ob,JU=kb,qU=function(t){return RU(t),t.headers=t.headers||{},t.data=DU.call(t,t.data,t.headers,t.transformRequest),t.headers=LU.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),LU.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||PU.adapter)(t).then((function(e){return RU(t),e.data=DU.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return HU(e)||(RU(t),e&&e.response&&(e.response.data=DU.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},ZU=kU,$U=AU,tF=XU,eF=tF.validators;function AF(t){this.defaults=t,this.interceptors={request:new JU,response:new JU}}AF.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=ZU(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var A=e.transitional;void 0!==A&&tF.assertOptions(A,{silentJSONParsing:eF.transitional(eF.boolean),forcedJSONParsing:eF.transitional(eF.boolean),clarifyTimeoutError:eF.transitional(eF.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,s=[];if(this.interceptors.response.forEach((function(t){s.push(t.fulfilled,t.rejected)})),!r){var a=[qU,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(s),i=Promise.resolve(e);a.length;)i=i.then(a.shift(),a.shift());return i}for(var o=e;n.length;){var l=n.shift(),c=n.shift();try{o=l(o)}catch(u){c(u);break}}try{i=qU(o)}catch(u){return Promise.reject(u)}for(;s.length;)i=i.then(s.shift(),s.shift());return i},AF.prototype.getUri=function(t){t=ZU(this.defaults,t);var e=$U(t.baseURL,t.url);return YU(e,t.params,t.paramsSerializer)},jU.forEach(["delete","get","head","options"],(function(t){AF.prototype[t]=function(e,A){return this.request(ZU(A||{},{method:t,url:e,data:(A||{}).data}))}})),jU.forEach(["post","put","patch"],(function(t){function e(e){return function(A,n,r){return this.request(ZU(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:A,data:n}))}}AF.prototype[t]=e(),AF.prototype[t+"Form"]=e(!0)}));var nF=AF,rF=lU;function iF(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var A=this;this.promise.then((function(t){if(A._listeners){var e,n=A._listeners.length;for(e=0;e<n;e++)A._listeners[e](t);A._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){A.subscribe(t),e=t})).then(t);return n.cancel=function(){A.unsubscribe(e)},n},t((function(t){A.reason||(A.reason=new rF(t),e(A.reason))}))}iF.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},iF.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},iF.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},iF.source=function(){var t,e=new iF((function(e){t=e}));return{token:e,cancel:t}};var sF=iF,aF=Db,oF=Db,lF=gb,cF=nF,uF=kU;var hF=function t(e){var A=new cF(e),n=lF(cF.prototype.request,A);return oF.extend(n,cF.prototype,A),oF.extend(n,A),n.create=function(A){return t(uF(e,A))},n}(SU);hF.Axios=cF,hF.CanceledError=lU,hF.CancelToken=sF,hF.isCancel=IU,hF.VERSION=VU,hF.toFormData=Jb,hF.AxiosError=Xb,hF.Cancel=hF.CanceledError,hF.all=function(t){return Promise.all(t)},hF.spread=function(t){return function(e){return t.apply(null,e)}},hF.isAxiosError=function(t){return aF.isObject(t)&&!0===t.isAxiosError},pb.exports=hF,pb.exports.default=hF;var dF=pb.exports,fF="undefined"!=typeof Symbol&&Symbol,pF=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),A=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(A))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0},gF={foo:{}},mF=Object,BF="Function.prototype.bind called on incompatible ",wF=Array.prototype.slice,vF=Object.prototype.toString,yF=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==vF.call(e))throw new TypeError(BF+e);for(var A,n=wF.call(arguments,1),r=function(){if(this instanceof A){var r=e.apply(this,n.concat(wF.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(wF.call(arguments)))},i=Math.max(0,e.length-n.length),s=[],a=0;a<i;a++)s.push("$"+a);if(A=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(r),e.prototype){var o=function(){};o.prototype=e.prototype,A.prototype=new o,o.prototype=null}return A},_F=Function.prototype.bind||yF,xF=_F.call(Function.call,Object.prototype.hasOwnProperty),CF=SyntaxError,bF=Function,UF=TypeError,FF=function(t){try{return bF('"use strict"; return ('+t+").constructor;")()}catch(e){}},QF=Object.getOwnPropertyDescriptor;if(QF)try{QF({},"")}catch(sS){QF=null}var MF=function(){throw new UF},SF=QF?function(){try{return MF}catch(t){try{return QF(arguments,"callee").get}catch(e){return MF}}}():MF,EF="function"==typeof fF&&"function"==typeof Symbol&&"symbol"==typeof fF("foo")&&"symbol"==typeof Symbol("bar")&&pF(),TF={__proto__:gF}.foo===gF.foo&&!({__proto__:null}instanceof mF),IF=Object.getPrototypeOf||(TF?function(t){return t.__proto__}:null),LF={},DF="undefined"!=typeof Uint8Array&&IF?IF(Uint8Array):undefined,HF={"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":EF&&IF?IF([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":LF,"%AsyncGenerator%":LF,"%AsyncGeneratorFunction%":LF,"%AsyncIteratorPrototype%":LF,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?undefined:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?undefined:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":bF,"%GeneratorFunction%":LF,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":EF&&IF?IF(IF([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&EF&&IF?IF((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&EF&&IF?IF((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":EF&&IF?IF(""[Symbol.iterator]()):undefined,"%Symbol%":EF?Symbol:undefined,"%SyntaxError%":CF,"%ThrowTypeError%":SF,"%TypedArray%":DF,"%TypeError%":UF,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet};if(IF)try{null.error}catch(sS){var PF=IF(IF(sS));HF["%Error.prototype%"]=PF}var OF=function t(e){var A;if("%AsyncFunction%"===e)A=FF("async function () {}");else if("%GeneratorFunction%"===e)A=FF("function* () {}");else if("%AsyncGeneratorFunction%"===e)A=FF("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(A=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&IF&&(A=IF(r.prototype))}return HF[e]=A,A},RF={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},NF=_F,kF=xF,VF=NF.call(Function.call,Array.prototype.concat),zF=NF.call(Function.apply,Array.prototype.splice),KF=NF.call(Function.call,String.prototype.replace),GF=NF.call(Function.call,String.prototype.slice),WF=NF.call(Function.call,RegExp.prototype.exec),XF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,jF=/\\(\\)?/g,YF=function(t){var e=GF(t,0,1),A=GF(t,-1);if("%"===e&&"%"!==A)throw new CF("invalid intrinsic syntax, expected closing `%`");if("%"===A&&"%"!==e)throw new CF("invalid intrinsic syntax, expected opening `%`");var n=[];return KF(t,XF,(function(t,e,A,r){n[n.length]=A?KF(r,jF,"$1"):e||t})),n},JF=function(t,e){var A,n=t;if(kF(RF,n)&&(n="%"+(A=RF[n])[0]+"%"),kF(HF,n)){var r=HF[n];if(r===LF&&(r=OF(n)),void 0===r&&!e)throw new UF("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:A,name:n,value:r}}throw new CF("intrinsic "+t+" does not exist!")},qF=function(t,e){if("string"!=typeof t||0===t.length)throw new UF("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new UF('"allowMissing" argument must be a boolean');if(null===WF(/^%?[^%]*%?$/,t))throw new CF("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var A=YF(t),n=A.length>0?A[0]:"",r=JF("%"+n+"%",e),i=r.name,s=r.value,a=!1,o=r.alias;o&&(n=o[0],zF(A,VF([0,1],o)));for(var l=1,c=!0;l<A.length;l+=1){var u=A[l],h=GF(u,0,1),d=GF(u,-1);if(('"'===h||"'"===h||"`"===h||'"'===d||"'"===d||"`"===d)&&h!==d)throw new CF("property names with quotes must have matching quotes");if("constructor"!==u&&c||(a=!0),kF(HF,i="%"+(n+="."+u)+"%"))s=HF[i];else if(null!=s){if(!(u in s)){if(!e)throw new UF("base intrinsic for "+t+" exists, but the property is not available.");return}if(QF&&l+1>=A.length){var f=QF(s,u);s=(c=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:s[u]}else c=kF(s,u),s=s[u];c&&!a&&(HF[i]=s)}}return s},ZF={exports:{}};!function(t){var e=_F,A=qF,n=A("%Function.prototype.apply%"),r=A("%Function.prototype.call%"),i=A("%Reflect.apply%",!0)||e.call(r,n),s=A("%Object.getOwnPropertyDescriptor%",!0),a=A("%Object.defineProperty%",!0),o=A("%Math.max%");if(a)try{a({},"a",{value:1})}catch(sS){a=null}t.exports=function(t){var A=i(e,r,arguments);if(s&&a){var n=s(A,"length");n.configurable&&a(A,"length",{value:1+o(0,t.length-(arguments.length-1))})}return A};var l=function(){return i(e,n,arguments)};a?a(t.exports,"apply",{value:l}):t.exports.apply=l}(ZF);var $F=qF,tQ=ZF.exports,eQ=tQ($F("String.prototype.indexOf")),AQ=tt(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),nQ="function"==typeof Map&&Map.prototype,rQ=Object.getOwnPropertyDescriptor&&nQ?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,iQ=nQ&&rQ&&"function"==typeof rQ.get?rQ.get:null,sQ=nQ&&Map.prototype.forEach,aQ="function"==typeof Set&&Set.prototype,oQ=Object.getOwnPropertyDescriptor&&aQ?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,lQ=aQ&&oQ&&"function"==typeof oQ.get?oQ.get:null,cQ=aQ&&Set.prototype.forEach,uQ="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,hQ="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,dQ="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,fQ=Boolean.prototype.valueOf,pQ=Object.prototype.toString,gQ=Function.prototype.toString,mQ=String.prototype.match,BQ=String.prototype.slice,wQ=String.prototype.replace,vQ=String.prototype.toUpperCase,yQ=String.prototype.toLowerCase,_Q=RegExp.prototype.test,xQ=Array.prototype.concat,CQ=Array.prototype.join,bQ=Array.prototype.slice,UQ=Math.floor,FQ="function"==typeof BigInt?BigInt.prototype.valueOf:null,QQ=Object.getOwnPropertySymbols,MQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,SQ="function"==typeof Symbol&&"object"==typeof Symbol.iterator,EQ="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===SQ||"symbol")?Symbol.toStringTag:null,TQ=Object.prototype.propertyIsEnumerable,IQ=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function LQ(t,e){if(Infinity===t||-Infinity===t||t!=t||t&&t>-1e3&&t<1e3||_Q.call(/e/,e))return e;var A=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-UQ(-t):UQ(t);if(n!==t){var r=String(n),i=BQ.call(e,r.length+1);return wQ.call(r,A,"$&_")+"."+wQ.call(wQ.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return wQ.call(e,A,"$&_")}var DQ=AQ,HQ=DQ.custom,PQ=VQ(HQ)?HQ:null;function OQ(t,e,A){var n="double"===(A.quoteStyle||e)?'"':"'";return n+t+n}function RQ(t){return wQ.call(String(t),/"/g,"&quot;")}function NQ(t){return!("[object Array]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}function kQ(t){return!("[object RegExp]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}function VQ(t){if(SQ)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!MQ)return!1;try{return MQ.call(t),!0}catch(sS){}return!1}var zQ=Object.prototype.hasOwnProperty||function(t){return t in this};function KQ(t,e){return zQ.call(t,e)}function GQ(t){return pQ.call(t)}function WQ(t,e){if(t.indexOf)return t.indexOf(e);for(var A=0,n=t.length;A<n;A++)if(t[A]===e)return A;return-1}function XQ(t,e){if(t.length>e.maxStringLength){var A=t.length-e.maxStringLength,n="... "+A+" more character"+(A>1?"s":"");return XQ(BQ.call(t,0,e.maxStringLength),e)+n}return OQ(wQ.call(wQ.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,jQ),"single",e)}function jQ(t){var e=t.charCodeAt(0),A={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return A?"\\"+A:"\\x"+(e<16?"0":"")+vQ.call(e.toString(16))}function YQ(t){return"Object("+t+")"}function JQ(t){return t+" { ? }"}function qQ(t,e,A,n){return t+" ("+e+") {"+(n?ZQ(A,n):CQ.call(A,", "))+"}"}function ZQ(t,e){if(0===t.length)return"";var A="\n"+e.prev+e.base;return A+CQ.call(t,","+A)+"\n"+e.prev}function $Q(t,e){var A=NQ(t),n=[];if(A){n.length=t.length;for(var r=0;r<t.length;r++)n[r]=KQ(t,r)?e(t[r],t):""}var i,s="function"==typeof QQ?QQ(t):[];if(SQ){i={};for(var a=0;a<s.length;a++)i["$"+s[a]]=s[a]}for(var o in t)KQ(t,o)&&(A&&String(Number(o))===o&&o<t.length||SQ&&i["$"+o]instanceof Symbol||(_Q.call(/[^\w$]/,o)?n.push(e(o,t)+": "+e(t[o],t)):n.push(o+": "+e(t[o],t))));if("function"==typeof QQ)for(var l=0;l<s.length;l++)TQ.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var tM=qF,eM=function(t,e){var A=$F(t,!!e);return"function"==typeof A&&eQ(t,".prototype.")>-1?tQ(A):A},AM=function t(e,A,n,r){var i=A||{};if(KQ(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(KQ(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&Infinity!==i.maxStringLength:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!KQ(i,"customInspect")||i.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(KQ(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(KQ(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return XQ(e,i);if("number"==typeof e){if(0===e)return Infinity/e>0?"0":"-0";var o=String(e);return a?LQ(e,o):o}if("bigint"==typeof e){var l=String(e)+"n";return a?LQ(e,l):l}var c=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=c&&c>0&&"object"==typeof e)return NQ(e)?"[Array]":"[Object]";var u=function(t,e){var A;if("\t"===t.indent)A="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;A=CQ.call(Array(t.indent+1)," ")}return{base:A,prev:CQ.call(Array(e+1),A)}}(i,n);if(void 0===r)r=[];else if(WQ(r,e)>=0)return"[Circular]";function h(e,A,s){if(A&&(r=bQ.call(r)).push(A),s){var a={depth:i.depth};return KQ(i,"quoteStyle")&&(a.quoteStyle=i.quoteStyle),t(e,a,n+1,r)}return t(e,i,n+1,r)}if("function"==typeof e&&!kQ(e)){var d=function(t){if(t.name)return t.name;var e=mQ.call(gQ.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),f=$Q(e,h);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(f.length>0?" { "+CQ.call(f,", ")+" }":"")}if(VQ(e)){var p=SQ?wQ.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):MQ.call(e);return"object"!=typeof e||SQ?p:YQ(p)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var g="<"+yQ.call(String(e.nodeName)),m=e.attributes||[],B=0;B<m.length;B++)g+=" "+m[B].name+"="+OQ(RQ(m[B].value),"double",i);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+yQ.call(String(e.nodeName))+">"}if(NQ(e)){if(0===e.length)return"[]";var w=$Q(e,h);return u&&!function(t){for(var e=0;e<t.length;e++)if(WQ(t[e],"\n")>=0)return!1;return!0}(w)?"["+ZQ(w,u)+"]":"[ "+CQ.call(w,", ")+" ]"}if(function(t){return!("[object Error]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}(e)){var v=$Q(e,h);return"cause"in Error.prototype||!("cause"in e)||TQ.call(e,"cause")?0===v.length?"["+String(e)+"]":"{ ["+String(e)+"] "+CQ.call(v,", ")+" }":"{ ["+String(e)+"] "+CQ.call(xQ.call("[cause]: "+h(e.cause),v),", ")+" }"}if("object"==typeof e&&s){if(PQ&&"function"==typeof e[PQ]&&DQ)return DQ(e,{depth:c-n});if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!iQ||!t||"object"!=typeof t)return!1;try{iQ.call(t);try{lQ.call(t)}catch(g){return!0}return t instanceof Map}catch(sS){}return!1}(e)){var y=[];return sQ&&sQ.call(e,(function(t,A){y.push(h(A,e,!0)+" => "+h(t,e))})),qQ("Map",iQ.call(e),y,u)}if(function(t){if(!lQ||!t||"object"!=typeof t)return!1;try{lQ.call(t);try{iQ.call(t)}catch(e){return!0}return t instanceof Set}catch(sS){}return!1}(e)){var _=[];return cQ&&cQ.call(e,(function(t){_.push(h(t,e))})),qQ("Set",lQ.call(e),_,u)}if(function(t){if(!uQ||!t||"object"!=typeof t)return!1;try{uQ.call(t,uQ);try{hQ.call(t,hQ)}catch(g){return!0}return t instanceof WeakMap}catch(sS){}return!1}(e))return JQ("WeakMap");if(function(t){if(!hQ||!t||"object"!=typeof t)return!1;try{hQ.call(t,hQ);try{uQ.call(t,uQ)}catch(g){return!0}return t instanceof WeakSet}catch(sS){}return!1}(e))return JQ("WeakSet");if(function(t){if(!dQ||!t||"object"!=typeof t)return!1;try{return dQ.call(t),!0}catch(sS){}return!1}(e))return JQ("WeakRef");if(function(t){return!("[object Number]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}(e))return YQ(h(Number(e)));if(function(t){if(!t||"object"!=typeof t||!FQ)return!1;try{return FQ.call(t),!0}catch(sS){}return!1}(e))return YQ(h(FQ.call(e)));if(function(t){return!("[object Boolean]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}(e))return YQ(fQ.call(e));if(function(t){return!("[object String]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}(e))return YQ(h(String(e)));if(!function(t){return!("[object Date]"!==GQ(t)||EQ&&"object"==typeof t&&EQ in t)}(e)&&!kQ(e)){var x=$Q(e,h),C=IQ?IQ(e)===Object.prototype:e instanceof Object||e.constructor===Object,b=e instanceof Object?"":"null prototype",U=!C&&EQ&&Object(e)===e&&EQ in e?BQ.call(GQ(e),8,-1):b?"Object":"",F=(C||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(U||b?"["+CQ.call(xQ.call([],U||[],b||[]),": ")+"] ":"");return 0===x.length?F+"{}":u?F+"{"+ZQ(x,u)+"}":F+"{ "+CQ.call(x,", ")+" }"}return String(e)},nM=tM("%TypeError%"),rM=tM("%WeakMap%",!0),iM=tM("%Map%",!0),sM=eM("WeakMap.prototype.get",!0),aM=eM("WeakMap.prototype.set",!0),oM=eM("WeakMap.prototype.has",!0),lM=eM("Map.prototype.get",!0),cM=eM("Map.prototype.set",!0),uM=eM("Map.prototype.has",!0),hM=function(t,e){for(var A,n=t;null!==(A=n.next);n=A)if(A.key===e)return n.next=A.next,A.next=t.next,t.next=A,A},dM=String.prototype.replace,fM=/%20/g,pM="RFC3986",gM={default:pM,formatters:{RFC1738:function(t){return dM.call(t,fM,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:pM},mM=gM,BM=Object.prototype.hasOwnProperty,wM=Array.isArray,vM=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),yM=function(t,e){for(var A=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(A[n]=t[n]);return A},_M={arrayToObject:yM,assign:function(t,e){return Object.keys(e).reduce((function(t,A){return t[A]=e[A],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],A=[],n=0;n<e.length;++n)for(var r=e[n],i=r.obj[r.prop],s=Object.keys(i),a=0;a<s.length;++a){var o=s[a],l=i[o];"object"==typeof l&&null!==l&&-1===A.indexOf(l)&&(e.push({obj:i,prop:o}),A.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),A=e.obj[e.prop];if(wM(A)){for(var n=[],r=0;r<A.length;++r)void 0!==A[r]&&n.push(A[r]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,A){var n=t.replace(/\+/g," ");if("iso-8859-1"===A)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(sS){return n}},encode:function(t,e,A,n,r){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===A)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",a=0;a<i.length;++a){var o=i.charCodeAt(a);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||r===mM.RFC1738&&(40===o||41===o)?s+=i.charAt(a):o<128?s+=vM[o]:o<2048?s+=vM[192|o>>6]+vM[128|63&o]:o<55296||o>=57344?s+=vM[224|o>>12]+vM[128|o>>6&63]+vM[128|63&o]:(a+=1,o=65536+((1023&o)<<10|1023&i.charCodeAt(a)),s+=vM[240|o>>18]+vM[128|o>>12&63]+vM[128|o>>6&63]+vM[128|63&o])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(wM(t)){for(var A=[],n=0;n<t.length;n+=1)A.push(e(t[n]));return A}return e(t)},merge:function t(e,A,n){if(!A)return e;if("object"!=typeof A){if(wM(e))e.push(A);else{if(!e||"object"!=typeof e)return[e,A];(n&&(n.plainObjects||n.allowPrototypes)||!BM.call(Object.prototype,A))&&(e[A]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(A);var r=e;return wM(e)&&!wM(A)&&(r=yM(e,n)),wM(e)&&wM(A)?(A.forEach((function(A,r){if(BM.call(e,r)){var i=e[r];i&&"object"==typeof i&&A&&"object"==typeof A?e[r]=t(i,A,n):e.push(A)}else e[r]=A})),e):Object.keys(A).reduce((function(e,r){var i=A[r];return BM.call(e,r)?e[r]=t(e[r],i,n):e[r]=i,e}),r)}},xM=function(){var t,e,A,n={assert:function(t){if(!n.has(t))throw new nM("Side channel does not contain "+AM(t))},get:function(n){if(rM&&n&&("object"==typeof n||"function"==typeof n)){if(t)return sM(t,n)}else if(iM){if(e)return lM(e,n)}else if(A)return function(t,e){var A=hM(t,e);return A&&A.value}(A,n)},has:function(n){if(rM&&n&&("object"==typeof n||"function"==typeof n)){if(t)return oM(t,n)}else if(iM){if(e)return uM(e,n)}else if(A)return function(t,e){return!!hM(t,e)}(A,n);return!1},set:function(n,r){rM&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new rM),aM(t,n,r)):iM?(e||(e=new iM),cM(e,n,r)):(A||(A={key:{},next:null}),function(t,e,A){var n=hM(t,e);n?n.value=A:t.next={key:e,next:t.next,value:A}}(A,n,r))}};return n},CM=_M,bM=gM,UM=Object.prototype.hasOwnProperty,FM={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},QM=Array.isArray,MM=Array.prototype.push,SM=function(t,e){MM.apply(t,QM(e)?e:[e])},EM=Date.prototype.toISOString,TM=bM.default,IM={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:CM.encode,encodeValuesOnly:!1,format:TM,formatter:bM.formatters[TM],indices:!1,serializeDate:function(t){return EM.call(t)},skipNulls:!1,strictNullHandling:!1},LM={},DM=function t(e,A,n,r,i,s,a,o,l,c,u,h,d,f,p,g){for(var m,B=e,w=g,v=0,y=!1;void 0!==(w=w.get(LM))&&!y;){var _=w.get(e);if(v+=1,void 0!==_){if(_===v)throw new RangeError("Cyclic object value");y=!0}void 0===w.get(LM)&&(v=0)}if("function"==typeof o?B=o(A,B):B instanceof Date?B=u(B):"comma"===n&&QM(B)&&(B=CM.maybeMap(B,(function(t){return t instanceof Date?u(t):t}))),null===B){if(i)return a&&!f?a(A,IM.encoder,p,"key",h):A;B=""}if("string"==typeof(m=B)||"number"==typeof m||"boolean"==typeof m||"symbol"==typeof m||"bigint"==typeof m||CM.isBuffer(B))return a?[d(f?A:a(A,IM.encoder,p,"key",h))+"="+d(a(B,IM.encoder,p,"value",h))]:[d(A)+"="+d(String(B))];var x,C=[];if(void 0===B)return C;if("comma"===n&&QM(B))f&&a&&(B=CM.maybeMap(B,a)),x=[{value:B.length>0?B.join(",")||null:void 0}];else if(QM(o))x=o;else{var b=Object.keys(B);x=l?b.sort(l):b}for(var U=r&&QM(B)&&1===B.length?A+"[]":A,F=0;F<x.length;++F){var Q=x[F],M="object"==typeof Q&&void 0!==Q.value?Q.value:B[Q];if(!s||null!==M){var S=QM(B)?"function"==typeof n?n(U,Q):U:U+(c?"."+Q:"["+Q+"]");g.set(e,v);var E=xM();E.set(LM,g),SM(C,t(M,S,n,r,i,s,"comma"===n&&f&&QM(B)?null:a,o,l,c,u,h,d,f,p,E))}}return C},HM=_M,PM=Object.prototype.hasOwnProperty,OM=Array.isArray,RM={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:HM.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},NM=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},kM=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},VM=function(t,e,A,n){if(t){var r=A.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,s=A.depth>0&&/(\[[^[\]]*])/.exec(r),a=s?r.slice(0,s.index):r,o=[];if(a){if(!A.plainObjects&&PM.call(Object.prototype,a)&&!A.allowPrototypes)return;o.push(a)}for(var l=0;A.depth>0&&null!==(s=i.exec(r))&&l<A.depth;){if(l+=1,!A.plainObjects&&PM.call(Object.prototype,s[1].slice(1,-1))&&!A.allowPrototypes)return;o.push(s[1])}return s&&o.push("["+r.slice(s.index)+"]"),function(t,e,A,n){for(var r=n?e:kM(e,A),i=t.length-1;i>=0;--i){var s,a=t[i];if("[]"===a&&A.parseArrays)s=[].concat(r);else{s=A.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(o,10);A.parseArrays||""!==o?!isNaN(l)&&a!==o&&String(l)===o&&l>=0&&A.parseArrays&&l<=A.arrayLimit?(s=[])[l]=r:"__proto__"!==o&&(s[o]=r):s={0:r}}r=s}return r}(o,e,A,n)}},zM=function(t,e){var A,n=t,r=function(t){if(!t)return IM;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||IM.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var A=bM.default;if(void 0!==t.format){if(!UM.call(bM.formatters,t.format))throw new TypeError("Unknown format option provided.");A=t.format}var n=bM.formatters[A],r=IM.filter;return("function"==typeof t.filter||QM(t.filter))&&(r=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:IM.addQueryPrefix,allowDots:void 0===t.allowDots?IM.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:IM.charsetSentinel,delimiter:void 0===t.delimiter?IM.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:IM.encode,encoder:"function"==typeof t.encoder?t.encoder:IM.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:IM.encodeValuesOnly,filter:r,format:A,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:IM.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:IM.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:IM.strictNullHandling}}(e);"function"==typeof r.filter?n=(0,r.filter)("",n):QM(r.filter)&&(A=r.filter);var i,s=[];if("object"!=typeof n||null===n)return"";i=e&&e.arrayFormat in FM?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var a=FM[i];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o="comma"===a&&e&&e.commaRoundTrip;A||(A=Object.keys(n)),r.sort&&A.sort(r.sort);for(var l=xM(),c=0;c<A.length;++c){var u=A[c];r.skipNulls&&null===n[u]||SM(s,DM(n[u],u,a,o,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,l))}var h=s.join(r.delimiter),d=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),h.length>0?d+h:""},KM=function(t,e){var A=function(t){if(!t)return RM;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?RM.charset:t.charset;return{allowDots:void 0===t.allowDots?RM.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:RM.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:RM.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:RM.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:RM.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:RM.comma,decoder:"function"==typeof t.decoder?t.decoder:RM.decoder,delimiter:"string"==typeof t.delimiter||HM.isRegExp(t.delimiter)?t.delimiter:RM.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:RM.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:RM.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:RM.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:RM.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:RM.strictNullHandling}}(e);if(""===t||null==t)return A.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){var A,n={__proto__:null},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=Infinity===e.parameterLimit?void 0:e.parameterLimit,s=r.split(e.delimiter,i),a=-1,o=e.charset;if(e.charsetSentinel)for(A=0;A<s.length;++A)0===s[A].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[A]?o="utf-8":"utf8=%26%2310003%3B"===s[A]&&(o="iso-8859-1"),a=A,A=s.length);for(A=0;A<s.length;++A)if(A!==a){var l,c,u=s[A],h=u.indexOf("]="),d=-1===h?u.indexOf("="):h+1;-1===d?(l=e.decoder(u,RM.decoder,o,"key"),c=e.strictNullHandling?null:""):(l=e.decoder(u.slice(0,d),RM.decoder,o,"key"),c=HM.maybeMap(kM(u.slice(d+1),e),(function(t){return e.decoder(t,RM.decoder,o,"value")}))),c&&e.interpretNumericEntities&&"iso-8859-1"===o&&(c=NM(c)),u.indexOf("[]=")>-1&&(c=OM(c)?[c]:c),PM.call(n,l)?n[l]=HM.combine(n[l],c):n[l]=c}return n}(t,A):t,r=A.plainObjects?Object.create(null):{},i=Object.keys(n),s=0;s<i.length;++s){var a=i[s],o=VM(a,n[a],A,"string"==typeof t);r=HM.merge(r,o,A)}return!0===A.allowSparse?r:HM.compact(r)},GM={formats:gM,parse:KM,stringify:zM},WM=(t=>(t.JSON="application/json;charset=UTF-8",t.TEXT="text/plain;charset=UTF-8",t.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",t.FORM_DATA="multipart/form-data;charset=UTF-8",t))(WM||{});let XM=A("http:");location.href.includes("https:")&&(XM.value="https:");const jM=dF.create({baseURL:`${XM.value}//health.ufutx.com/go/api`,withCredentials:!1,timeout:15e3});jM.interceptors.request.use((t=>{var e,A,n;localStorage.getItem("z_token")&&t.headers&&(t.headers.Authorization="Bearer ");const r=(null==(e=t.headers)?void 0:e["content-type"])||(null==(A=t.headers)?void 0:A["Content-Type"]),i=t.data;if("POST"==(null==(n=t.method)?void 0:n.toLocaleUpperCase())&&i)if(WM.FORM_DATA==r){const e=new FormData;Object.keys(i).forEach((t=>e.append(t,i[t]))),t.data=e}else WM.FORM_URLENCODED==r&&(t.data=GM.stringify(t.data));return t}),(t=>Promise.reject(t))),jM.interceptors.response.use((t=>{const e=t.data;return 1===e.code?Promise.reject(e.message||"code: 1"):Promise.resolve(t)}),(t=>Promise.reject(t)));const YM=t=>new Promise(((e,A)=>{jM.request(t).then((t=>e(t.data))).catch((t=>A(t)))})),JM=b("setting",(()=>{const t=A(!1),e=A(!0),n=A({leftBottomSwiper:!0,rightBottomSwiper:!0}),r=A({step:4,hover:!0,wheel:!1,openWatch:!0,direction:1,limitScrollNum:4,singleHeight:0,singleWidth:0,singleWaitTime:3e3}),i=t=>{e.value=t,a()},s=t=>{n.value=t,localStorage.setItem("loftv-indexConfig",JSON.stringify(n.value))},a=()=>{localStorage.setItem("loftv-settingData",JSON.stringify({isScale:e.value}))};return{settingShow:t,setSettingShow:e=>{t.value=e},isScale:e,setIsScale:i,initSetting:()=>{let t=localStorage.getItem("loftv-settingData");t&&(t=JSON.parse(t),i(t.isScale));let e=localStorage.getItem("loftv-indexConfig");e&&(e=JSON.parse(e),s(e))},setSettingData:a,defaultOption:r,indexConfig:n,setIndexConfig:s}}));const qM=t=>(p("data-v-1334fb46"),t=t(),g(),t),ZM={class:"ui-welcome"},$M={class:"content_wrap"},tS={class:"contetn_left"},eS={class:"contetn_right"},AS={class:"ui-canvas-box"},nS=qM((()=>o("div",{id:"html2canvas",class:"css3d-wapper"},[o("div",{class:"fire-div"})],-1))),rS=[C('<div class="sk-chase" data-v-1334fb46><div class="sk-chase-dot" data-v-1334fb46></div><div class="sk-chase-dot" data-v-1334fb46></div><div class="sk-chase-dot" data-v-1334fb46></div><div class="sk-chase-dot" data-v-1334fb46></div><div class="sk-chase-dot" data-v-1334fb46></div><div class="sk-chase-dot" data-v-1334fb46></div></div><div data-v-1334fb46>加载资源中...</div>',2)];var iS=L(t({name:"Welcome",setup(t){const e=JM(),{isScale:n}=U(e),i={},s=A(0),l=A(0),c=A(0),d=A(""),f=A(0),p=A(0),g=A(0),m=A(""),B=A(null),v=A(null);A(null),A(null),A(null),A(null),A(null),A(null);const _=A(null);A(null);const x=()=>{YM({url:"h5/v1/other/get/band/step/data",hideLoading:!0,method:"get"}).then((t=>{let e=t.data;s.value=e.user_count,l.value=e.today_step_count,c.value=e.history_step_count,e.history_step_count>=1e6?(c.value=1*(e.history_step_count/1e4).toFixed(2),d.value="万"):(c.value=1*e.history_step_count,d.value="")})).catch((t=>{}))},C=()=>{YM({url:"h5/v1/other/get/square/data",hideLoading:!0,method:"get"}).then((t=>{let e=t.data;f.value=e.user_count,p.value=1*(e.today_time_count/60).toFixed(1);let A=e.history_time_count/60;A>=1e6?(g.value=1*(A/1e4).toFixed(2),m.value="万"):(g.value=1*A,m.value="")})).catch((t=>{}))};return F((()=>{clearInterval(B.value),B.value=null})),r((()=>{B.value||(x(),C()),B.value=setInterval((()=>{x(),C()}),3e5),new db(_.value)})),(t,e)=>{const A=Hi,r=Mi,B=ui,x=Z,C=M;return u(),a("div",ZM,[h(C,{width:"1920",height:"1080",delay:500,"full-screen":!1,"box-style":{background:"#010826",overflow:"hidden"},"wrapper-style":i,"auto-scale":w(n)},{default:y((()=>[o("div",$M,[h(A),o("div",tS,[h(B,{class:"contetn_left-top contetn_lr-item ui-mt-8",title:"每日运动总览"},{default:y((()=>[h(r,{"online-num":s.value,"total-num":l.value,"history-num":c.value,"is-abbreviate":d.value},null,8,["online-num","total-num","history-num","is-abbreviate"])])),_:1})]),o("div",eS,[h(B,{class:"contetn_right-top contetn_lr-item ui-mt-8",title:"每日一分钟演讲总览"},{default:y((()=>[h(x,{"online-num":f.value,"total-num":p.value,"history-num":g.value,"is-abbreviate":m.value},null,8,["online-num","total-num","history-num","is-abbreviate"])])),_:1})])]),o("div",AS,[e[0]||(Q(-1),e[0]=o("div",{id:"earth-canvas",ref_key:"option",ref:_},null,512),Q(1),e[0])])])),_:1},8,["auto-scale"]),nS,o("div",{id:"loading",ref_key:"loadingRef",ref:v},rS,512)])}}}),[["__scopeId","data-v-1334fb46"]]);export{iS as default};
